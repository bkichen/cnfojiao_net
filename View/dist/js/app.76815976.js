(function(t){function e(e){for(var s,r,o=e[0],l=e[1],c=e[2],m=0,d=[];m<o.length;m++)r=o[m],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={app:0},i=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/View/dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"025f":function(t,e,a){},1837:function(t,e,a){},"1fcb":function(t,e,a){"use strict";var s=a("296b"),n=a.n(s);n.a},2471:function(t,e,a){"use strict";var s=a("46fd"),n=a.n(s);n.a},"296b":function(t,e,a){},"45db":function(t,e,a){"use strict";var s=a("1837"),n=a.n(s);n.a},"46fd":function(t,e,a){},"4de9":function(t,e,a){},"53da":function(t,e,a){"use strict";var s=a("7264"),n=a.n(s);n.a},"56b8":function(t,e,a){"use strict";var s=a("6247"),n=a.n(s);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("99af"),a("a15b"),a("b0c0"),a("d3b7"),a("ac1f"),a("466d"),a("5319");var s=a("9f12"),n=a("53fe"),i=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),r=a("8c4f"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},l=[],c={name:"app"},u=c,m=a("2877"),d=Object(m["a"])(u,o,l,!1,null,null,null),v=d.exports,p=a("bc3a"),f=a.n(p),h=a("af87"),_=(a("a4d3"),a("e01a"),a("d28b"),a("3ca3"),a("ddb0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"login-box"},[a("header_",{attrs:{title:"找回密码"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"login-main reg-main"},[a("div",{staticClass:"get-paw"},[a("img",{attrs:{src:this.context.styleUrl("images/ai-index.png")}}),t._m(0)])])]),a("footer_")],1)])}),g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v("联系客服找回密码："),a("a",{attrs:{href:"tel:400-703-2221"}},[t._v("400-703-2221")])])}],y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-header"},[a("div",{staticClass:"container"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"logo pull-left"},[this.context.domain.key?a("h1",{staticClass:"clearfix logo-ico"},[a("a",{attrs:{href:"http://www."+this.context.domain.host}},[a("img",{attrs:{src:this.context.styleUrl("images/logo-ico.png")}}),a("strong",[t._v(t._s(this.context.domain.name))]),a("em",[t._v(t._s(this.title||"会员中心"))])])]):a("h1",[a("a",{attrs:{href:"http://www."+this.context.domain.host}},[a("img",{attrs:{src:this.context.domain.logo}}),a("em",[t._v(t._s(this.title||"会员中心"))])])])]),t._m(0)])])])},C=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tel pull-right"},[t._v("免费服务热线："),a("span",[t._v("400-703-2221")])])}],x={inject:["context"],props:["title"]},b=x,w=Object(m["a"])(b,y,C,!1,null,null,null),P=w.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer"},[this.context.domain.key?a("p",[a("a",{attrs:{href:"http://www."+this.context.domain.host}},[t._v("首 页")]),a("font",[t._v("-")]),a("a",{attrs:{href:"http://www."+this.context.domain.host+"/about/about.html"}},[t._v("关于我们")]),a("font",[t._v("-")]),a("a",{attrs:{href:"http://www."+this.context.domain.host+"/about/contact.html"}},[t._v("联系我们")]),a("font",[t._v("-")]),a("a",{attrs:{href:"http://www."+this.context.domain.host+"/service/"}},[t._v("会员服务")]),a("font",[t._v("-")]),a("a",{attrs:{href:"http://www."+this.context.domain.host+"/about/cooperation.html"}},[t._v("区域代理")]),a("font",[t._v("-")]),a("a",{attrs:{href:"http://www."+this.context.domain.host+"/about/sitemap.html"}},[t._v("网站地图")]),a("font",[t._v("-")]),a("a",{attrs:{href:"http://www."+this.context.domain.host+"/about/link.html"}},[t._v("友情链接")])],1):a("p",[a("a",{attrs:{href:"http://www."+this.context.domain.host}},[t._v("首 页")]),a("font",[t._v("-")]),a("a",{attrs:{href:"http://www."+this.context.domain.host+"/about/about.html"}},[t._v("关于我们")]),a("font",[t._v("-")]),a("a",{attrs:{href:"http://www."+this.context.domain.host+"/about/contact.html"}},[t._v("联系我们")]),a("font",[t._v("-")]),a("a",{attrs:{href:"http://www."+this.context.domain.host+"/service/"}},[t._v("会员服务")]),a("font",[t._v("-")]),a("a",{attrs:{href:"http://www."+this.context.domain.host+"/service/ads.html"}},[t._v("广告服务")]),a("font",[t._v("-")]),a("a",{attrs:{href:"http://www."+this.context.domain.host+"/sitemap/"}},[t._v("网站地图")]),a("font",[t._v("-")]),a("a",{attrs:{href:"http://www."+this.context.domain.host+"/link/"}},[t._v("友情链接")])],1),a("p",[t._v(" 版权所有 "),a("a",{attrs:{href:"http://www."+this.context.domain.host}},[t._v(t._s(this.context.domain.name))]),t._v(" "),a("a",{attrs:{href:"http://www."+this.context.domain.host}},[t._v("www."+t._s(this.context.domain.host))])])])},k=[],N={inject:["context"]},D=N,$=Object(m["a"])(D,I,k,!1,null,null,null),M=$.exports,A={inject:["context"],components:{footer_:M,header_:P},data:function(){return{}}},z=A,T=(a("53da"),a("5a4f"),Object(m["a"])(z,_,g,!1,null,"feed9b36",null)),S=T.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",[a("div",{staticClass:"main-warp"},[a("div",{staticClass:"useinfo"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"use-thumb col-md-2"},[a("router-link",{attrs:{to:{path:"/ucenter/logo"}}},[a("div",{staticClass:"use-img"},[a("img",{attrs:{src:this.context.user.Logo||this.context.styleUrl("images/noAvatar.png")}}),a("h3",[t._v("编辑")])])]),a("div",{staticClass:"use-year"},[a("em",{staticClass:"vIcon1"}),a("span",[t._v(t._s(this.year))]),t._v("年 ")])],1),a("div",{staticClass:"use-desc col-md-10"},[a("p",[t._v(t._s(this.context.user.CompanyName)),this.day?a("span",[t._v(t._s(this.day)+"天后到期")]):t._e()]),a("div",{staticClass:"clearfix"},[a("div",{staticClass:"safe col-md-3"},[a("div",{staticClass:"row"},[t._v(" 安全等级 "),a("div",{staticClass:"safe-line"},[a("span",{style:{width:this.ps+"%"}})])])]),a("div",{staticClass:"use-desc-list col-md-9"},[a("ul",{staticClass:"row"},[a("router-link",{attrs:{to:{path:"/auth/mobile"}}},[a("li",{class:"col-xs-3 sj "+(this.context.user&&this.context.user.rz_phone?"on":"")},[a("span",{staticClass:"icon iconfont"},[t._v("")]),t._v("手机认证 ")])]),a("router-link",{attrs:{to:{path:"/auth/idcard"}}},[a("li",{class:"col-xs-3 "+(this.context.user&&this.context.user.rz_shenfen?"on":"")},[a("span",{staticClass:"icon iconfont"},[t._v("")]),t._v("实名认证 ")])]),a("router-link",{attrs:{to:{path:"/auth/businesslicense"}}},[a("li",{class:"col-xs-3 "+(this.context.user&&this.context.user.rz_yingyezhizhao?"on":"")},[a("span",{staticClass:"icon iconfont"},[t._v("")]),t._v("执照认证 ")])]),a("a",{attrs:{target:"_blank",href:this.wxBindUrl}},[t.model.weixin_nick?a("li",{staticClass:"col-xs-3 wx on"},[a("span",{staticClass:"icon iconfont on"},[t._v("")]),t._v(t._s(t.model.weixin_nick)+" ")]):a("li",{staticClass:"col-xs-3 wx"},[a("span",{staticClass:"icon iconfont"},[t._v("")]),t._v("绑定微信 ")])])],1)])])])])]),this.isNew?a("div",{staticClass:"news-member"},[a("div",{staticClass:"xs_new"},[a("div",{staticClass:"noviceTit clearfix"},[a("h3")]),a("div",{staticClass:"ul_box1"},[a("ul",{staticClass:"clearfix"},[a("li",{staticClass:"noviceStep1"},[a("div",{staticClass:"li_box"},[a("h2",[t._v("1、完成实名认证")]),a("div",{staticClass:"noviceStepCon"},[a("div",{staticClass:"title"},[a("span")]),a("h4",[t._v("完成实名认证")]),a("p",[t._v("依据《中华人民共和国网络安全法》规定，用户在网络平台发布信息需提供真实身份信息进行备案，请认真填写您的备案信息。")]),a("router-link",{attrs:{to:{path:"/auth/idcard"}}},[t._v("立即完善")])],1)])]),a("li",{staticClass:"noviceStep2"},[a("div",{staticClass:"li_box"},[a("h2",[t._v("2、完善公司信息")]),a("div",{staticClass:"noviceStepCon"},[a("div",{staticClass:"title"},[a("span")]),a("h4",[t._v("完善公司信息")]),a("p",[t._v("完善的公司信息是成功网商的第一步，请将公司介绍的所有必填项填写完整。")]),a("router-link",{attrs:{to:{path:"/ucenter/company"}}},[t._v("立即完善")])],1)])]),a("li",{staticClass:"noviceStep3"},[a("div",{staticClass:"li_box"},[a("h2",[t._v("3、发布产品/供求信息")]),a("div",{staticClass:"noviceStepCon"},[a("div",{staticClass:"title"},[a("span")]),a("h4",[t._v("发布高质量信息")]),a("p",[t._v("高质量信息展示可以让客户迅速了解您的产品")]),a("router-link",{attrs:{to:{path:"/product/save"}}},[t._v("立即发布")])],1)])]),a("li",{staticClass:"noviceStep4"},[a("div",{staticClass:"li_box"},[a("h2",[t._v("4、选择企业模板")]),a("div",{staticClass:"noviceStepCon"},[a("div",{staticClass:"title"},[a("span")]),a("h4",[t._v("企业模板")]),a("p",[t._v("美观、完整的页面模板是吸引客户浏览的关键。请立即选择您的企业模板，添加公司介绍、产品橱窗、相册橱窗模块及内容。")]),a("router-link",{attrs:{to:{path:"/template"}}},[t._v("立即装修")])],1)])]),a("li",{staticClass:"noviceStep5"},[a("a",{attrs:{target:"_blank",href:this.wxBindUrl}},[a("div",{staticClass:"li_box"},[a("h2",[t._v(t._s(t.model.weixin_nick?"已绑定微信":"绑定微信"))])])])])])])])]):t._e(),a("div",{staticClass:"clearfix row"},[a("div",{staticClass:"index-left col-md-9"},[a("div",{staticClass:"index-left-main"},[a("div",{staticClass:"add-num"},[a("ul",{staticClass:"clearfix"},[a("li",{staticClass:"col-md-4"},[a("div",{staticClass:"stat bg-blue"},[a("router-link",{attrs:{to:{path:"/product/save"}}},[a("span",{staticClass:"icon iconfont"},[t._v("")]),a("div",{staticClass:"title"},[a("strong",[t._v(t._s(t.model.productAllowPostCount))]),t._v("条 ")]),a("p",{staticClass:"t"},[t._v("产品信息可发布的总条数")]),a("div",{staticClass:"click"},[a("span",{staticClass:"icon iconfont"},[t._v("")]),t._v("点击发布产品信息")])])],1)]),a("li",{staticClass:"col-md-4"},[a("div",{staticClass:"stat bg-red"},[a("router-link",{attrs:{to:{path:"/trade/save"}}},[a("span",{staticClass:"icon iconfont"},[t._v("")]),a("div",{staticClass:"title"},[a("strong",[t._v(t._s(t.model.tradeAllowPostCount))]),t._v("条 ")]),a("p",{staticClass:"t"},[t._v("供求信息可发布的总条数")]),a("div",{staticClass:"click"},[a("span",{staticClass:"icon iconfont"},[t._v("")]),t._v("点击发布供求信息")])])],1)]),a("li",{staticClass:"col-md-4"},[a("div",{staticClass:"stat bg-green"},[a("router-link",{attrs:{to:{path:"/account/renewal"}}},[a("span",{staticClass:"icon iconfont"},[t._v("")]),a("div",{staticClass:"title"},[t._v(" 剩余"),a("strong",[t._v(t._s(this.day))]),t._v("天 ")]),t.model.ServiceEnd?a("p",{staticClass:"t"},[t._v("到期时间："+t._s(t.dateFormat(t.model.ServiceEnd,"yyyy/MM/dd")))]):t._e(),a("div",{staticClass:"click"},[a("span",{staticClass:"icon iconfont"},[t._v("")]),t._v("升级续费")])])],1)])])]),a("div",{staticClass:"index-trade"},[a("h3",[t._v("发布供求")]),a("div",{staticClass:"clearfix"},[a("div",{staticClass:"col-md-4 text-center"},[a("img",{attrs:{src:this.context.styleUrl("images/kefu2.png")}})]),a("div",{staticClass:"col-md-8"},[a("h6",[t._v("发布您的供求信息，快速获得供应商询盘、报价机会")]),a("p",[t._v(" 供求信息是您的求购、供应信息向全球的商家展示详细的产品/服务介绍、完整的联系资料。")]),a("p",[a("router-link",{staticClass:"btn btn-primary",attrs:{to:{path:"/trade/save"}}},[t._v("发布供求")])],1)])])]),a("div",{staticClass:"index-code"},[a("h3",[t._v("PC营销网站")]),a("div",{staticClass:"clearfix row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"pc-thumb"},[a("img",{attrs:{src:this.context.styleUrl("images/yxwz.png")}})])]),a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"pc-info"},[a("p",[t._v(" 网站主页："),a("a",{staticClass:"c-red",attrs:{href:this.pcHome,target:"_blank"}},[t._v(t._s(this.host))]),a("a",{staticClass:"i-btn",attrs:{href:this.pcHome,target:"_blank"}},[t._v("访问主页")]),a("router-link",{staticClass:"i-btn",attrs:{to:{path:"/template"}}},[t._v("更换网站模板")])],1),a("p",[t._v(t._s(t.model&&t.model.productCount?"您已经发布"+t.model.productCount+"条产品信息":"您还没有发布过产品信息！")),a("router-link",{staticClass:"i-btn",attrs:{to:{path:"/product/save"}}},[t._v("发布产品信息")])],1),a("p",[t._v(t._s(t.model&&t.model.tradeCount?"您已经发布"+t.model.tradeCount+"条供求信息":"您还没有发布过供求信息！")),a("router-link",{staticClass:"i-btn",attrs:{to:{path:"/trade/save"}}},[t._v("发布供求信息")])],1)])])])])])]),a("div",{staticClass:"index-right col-md-3"},[a("div",{staticClass:"index-right-main"},[a("div",{staticClass:"refresh-area"},[a("div",{staticClass:"h-title"},[a("img",{staticClass:"refresh-img",attrs:{src:this.context.styleUrl("images/index_new_ico26.png")}}),a("span",{staticClass:"key-title"},[t._v("一键刷新")]),a("span",{staticClass:"key-text"},[t._v("（提升搜索排名）")])]),a("div",{class:this.isRefresh?"btn-cont active":"btn-cont"},[a("a",{on:{click:t.refresh}},[a("img",{staticClass:"btn-cont-img",attrs:{src:this.context.styleUrl("images/index_new_ico32.png")}}),a("img",{attrs:{src:this.context.styleUrl("images/index_new_ico31.png")}})])]),a("div",{staticClass:"refresh-condition"},[t._v(t._s(this.isRefresh?"今日已刷新":"点击刷新"))])]),a("div",{staticClass:"my-shop"},[a("h3",[t._v("我的移动店铺")]),a("div",{staticClass:"code"},[a("a",{attrs:{href:this.mHome}},[a("img",{attrs:{src:t.mqr}})])]),a("p",[t._v("扫一扫，查看我的移动店铺")])])])])])])])},F=[],j=(a("0d03"),a("e25e"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return this.context.user?a("div",[a("div",{staticClass:"navbg",on:{click:this.bodyToggleClass}}),a("div",{staticClass:"top"},[a("div",{staticClass:"container"},[t._v(" 您好！"),a("a",{staticClass:"name",attrs:{target:"_blank",href:"http://"+this.context.user.UserName+"."+this.context.domain.host}},[t._v(t._s(this.context.user.UserName))]),t._v(" "),a("span",[t._v("["),a("a",{on:{click:t.logout}},[t._v("退出")]),t._v("]")]),a("span",{staticClass:"pull-right"},[a("a",{attrs:{href:"http://www."+this.context.domain.host}},[t._v(t._s(this.context.domain.name)+"首页")]),a("a",{staticClass:"tel",attrs:{href:"tel:400-703-2221"}},[t._v("咨询电话: 400-703-2221")])])])]),a("div",{staticClass:"header"},[a("div",{staticClass:"container"},[a("div",{staticClass:"clearfix row"},[a("div",{staticClass:"logo"},[this.context.domain.key?a("h1",{staticClass:"clearfix logo-ico"},[a("a",{attrs:{href:"http://www."+this.context.domain.host}},[a("img",{attrs:{src:this.context.styleUrl("images/logo-ico.png")}}),a("strong",[t._v(t._s(this.context.domain.name))])])]):a("h1",[a("a",{attrs:{href:"http://www."+this.context.domain.host}},[a("img",{attrs:{src:this.context.domain.logo}})])])]),a("button",{staticClass:"nav-toggle",attrs:{type:"button"},on:{click:this.bodyToggleClass}},[a("span",{staticClass:"icon-bar"}),t._v(" "),a("span",{staticClass:"icon-bar"}),t._v(" "),a("span",{staticClass:"icon-bar"})]),a("div",{staticClass:"menu"},[a("ul",t._l(t.topMenus,(function(e){return a("li",{key:e.name,class:t.isActive(e)?"active":""},[a("router-link",{attrs:{to:e.to}},[t._v(t._s(e.name))])],1)})),0)])])])]),a("div",{staticClass:"main"},[a("div",{staticClass:"container"},[a("div",{staticClass:"main-box clearfix row"},[a("transition",{attrs:{name:"slide-rz"}},[t.rz?a("div",{staticClass:"tip"},[a("p",[a("span",{staticClass:"icon iconfont"},[t._v("")]),t._v(" 会员中心依据《中华人民共和国网络安全法》规定，用户在网络平台发布信息需提供真实身份信息进行备案。请尽快完成认证。 "),a("router-link",{staticClass:"rz",attrs:{to:{path:"../auth/"+t.rz}}},[t._v("马上认证")]),a("a",{staticClass:"close",on:{click:this.closeRZ}},[a("span",{staticClass:"icon iconfont"},[t._v("")])])],1)]):t._e()]),a("div",{staticClass:"subnav"},[a("ul",t._l(t.leftMenus,(function(e){return a("li",{key:e.name,class:t.isActive(e)?"active":""},[e.to?a("router-link",{attrs:{to:e.to}},[a("span",{staticClass:"icon iconfont",domProps:{innerHTML:t._s(e.icon)}}),t._v(t._s(e.name))]):a("a",[a("span",{staticClass:"icon iconfont",domProps:{innerHTML:t._s(e.icon)}}),t._v(t._s(e.name))]),e.items&&e.items.length?a("dl",{staticClass:"layui-nav-child"},t._l(e.items,(function(e){return a("dd",{key:e.name,class:t.isActive(e)?"active":""},[a("router-link",{attrs:{to:e.to}},[t._v(t._s(e.name))])],1)})),0):t._e()],1)})),0),a("div",{staticClass:"syjjkf"},[a("img",{staticClass:"tf_ctx",attrs:{src:this.context.styleUrl("images/syjjkf.jpg")}}),t._m(0),t._m(1),t._m(2)])]),t._t("default")],2)])]),a("footer_"),this.mode?a("layer",{attrs:{width:"80%",maxWidth:"800px",height:"520px"},on:{close:function(e){return t.setMode(0)}}},[a("tip",{attrs:{mode:this.mode}})],1):t._e(),t._t("footer")],2):t._e()}),q=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"jd_to"},[a("i",{staticClass:"icon iconfont"},[t._v("")]),t._v(" 客服")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"tel:0592-3689777"}},[a("i",{staticClass:"icon iconfont"},[t._v("")]),t._v("0592-3689777")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"tel:400-703-2221"}},[a("i",{staticClass:"icon iconfont",staticStyle:{"font-size":"16px"}},[t._v("")]),t._v("400-703-2221")])}],U=(a("25f0"),a("96cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"layer",on:{click:t.close}}),a("div",{staticClass:"ct",style:{width:this.width,height:this.height,"max-width":this.maxWidth,"max-height":this.maxHeight}},[a("div",{staticClass:"layer-title"},[a("a",{on:{click:t.close}},[t._v("关闭")])]),t._t("default")],2)])}),V=[],B=(a("acd8"),{name:"layer",props:["width","height","maxWidth","maxHeight"],methods:{close:function(){this.$emit("close")},m2:function(t){return t.replace(/\d+(\.\d+)?/g,(function(t){return parseFloat(t)/-2}))}},computed:{marginLeft:function(){return this.m2(this.width)},marginTop:function(){return this.m2(this.height)}}}),O=B,R=(a("9df6"),Object(m["a"])(O,U,V,!1,null,"61e2b9ea",null)),L=R.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("h6",[t._v("尊敬的"+t._s(this.context.domain.name)+"用户：")]),a("p",[t._v(t._s(this.context.domain.name)+"是符合国家相关法律的电子商务平台，平台一切电子商务活动都在国家相关机构监管下合法合规经营。")]),t._v(" 根据"),a("span",{staticStyle:{color:"#1997ff"}},[t._v("《中华人民共和国电子商务法》")]),t._v("第十五条规定：“电子商务经营者应当在其首页显著位置，持续公示营业执照信息、与其经营业务有关的行政许可信息、属于依照本法第十条规定的不需要办理市场主 "),a("p",[t._v("体登记情形等信息，或者上述信息的链接标识。”基于电商法及相关监管机构的监管要求，特发出通知：")]),a("p",[t._v(" 1）所有入驻"+t._s(this.context.domain.name)+"的工厂、企业、个人，尚未提供（公司或个体户）营业执照、企业（负责人）法人身份证照等相关主体资质证明者，请在90天内补充上传；")]),t._m(0),a("p",[t._v("为避免影响您开展正常的电子商务活动，请尽快完成相关资质上传。感谢您对我们工作的理解和支持。")]),a("p",[t._v("祝您生意兴隆，生活愉快！")]),a("p",{staticClass:"text-center"},[t.modef(1)?a("router-link",{staticClass:"btn btn-primary",attrs:{to:{path:"/auth/idcard"}}},[t._v("实名认证")]):t.modef(2)?a("router-link",{staticClass:"btn btn-primary",attrs:{to:{path:"/auth/businesslicense"}}},[t._v("营业执照认证")]):t._e()],1)])},Z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" 2）逾期90天未上传相关资质的商家，若平台收到国家监管机构通知要求整改，"),a("span",{staticStyle:{color:"#1997ff"}},[t._v("平台将依据国家相关法律及相关部门要求进行处理。")])])}],J={inject:["context"],props:["mode"],methods:{modef:function(t){var e=parseInt(this.mode);return!e||(e|t)==e}}},Q=J,K=(a("56b8"),Object(m["a"])(Q,W,Z,!1,null,"5a477235",null)),H=K.exports,G={name:"layout",inject:["context"],components:{footer_:M,layer:L,tip:H},props:["authFilter"],data:function(){return{mode:0,rz:"",leftMenus:[{name:"会员中心",icon:"&#xe649;",items:[{name:"安全认证",to:{path:"/auth/idcard"},activeRegex:/\/auth\//i},{name:"公司信息",to:{path:"/ucenter/company"},activeRegex:/\/ucenter\/company/i},{name:"联系人信息",to:{path:"/ucenter/person"},activeRegex:/\/ucenter\/person/i},{name:"密码修改",to:{path:"/ucenter/password"},activeRegex:/\/ucenter\/password/i},{name:"意见反馈",to:{path:"/feedback/add"},activeRegex:/\/feedback/i}],activeRegex:/(^\/(ucenter|auth|index|feedback))|(^\/$)/i},{name:"账户服务",icon:"&#xe64a;",items:[{name:"续费升级",to:{path:"/account/renewal"},activeRegex:/\/account\/renewal/i},{name:"支付记录",to:{path:"/account/pay"},activeRegex:/\/account\/pay/i},{name:"发票管理",to:{path:"/account/invoice_app"},activeRegex:/\/account\/invoice/i}],activeRegex:/\/account\//i},{name:"产品信息",icon:"&#xe611;",items:[{name:"发布产品",to:{path:"/product/save"},activeRegex:/\/product\/save/i},{name:"产品管理",to:{path:"/product/list"},activeRegex:/\/product\/list/i}],activeRegex:/\/product\//i},{name:"供求信息",icon:"&#xe66e;",items:[{name:"发布供求",to:{path:"/trade/save"},activeRegex:/\/trade\/save/i},{name:"供求管理",to:{path:"/trade/list"},activeRegex:/\/trade\/list/i}],activeRegex:/\/trade\//i},{name:"图片管理",icon:"&#xe663;",items:[{name:"企业图片",to:{path:"/image/list",query:{typeId:1}},activeRegex:/\/image\//i,query:{typeId:1}},{name:"荣誉证书",to:{path:"/image/list",query:{typeId:2}},activeRegex:/\/image\//i,query:{typeId:2}},{name:"业绩案例",to:{path:"/image/list",query:{typeId:3}},activeRegex:/\/image\//i,query:{typeId:3}},{name:"产品图片",to:{path:"/image/list",query:{typeId:4}},activeRegex:/\/image\//i,query:{typeId:4}}],activeRegex:/\/image\//i},{name:"模板中心",icon:"&#xe605;",to:{path:"../template"},activeRegex:/\/template/i}],topMenus:[{name:"会员中心",to:{name:"index"},activeRegex:/(^\/(ucenter|auth|index|feedback))|(^\/$)/i},{name:"账户服务",to:{path:"/account/pay"},activeRegex:/\/account/i},{name:"产品信息",to:{path:"/product/list"},activeRegex:/\/product\//i},{name:"供求信息",to:{path:"/trade/list"},activeRegex:/\/trade\//i},{name:"图片管理",to:{path:"/image/list",query:{typeId:1}},activeRegex:/\/image/i},{name:"模板中心",to:{path:"/template"},activeRegex:/\/template/i}]}},methods:{bodyToggleClass:function(t){if(window.screen.width<1024){var e=document.body.getAttribute("class")||"",a=e.replace(/(^|\s)open-toggle(\s|$)/gi," ");!0!==t&&(a=e!=a?a:a+" open-toggle"),document.body.setAttribute("class",a)}},logout:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(f.a.post("/h_v1/ucenter/logout"));case 2:this.$router.push({name:"login"});case 3:case"end":return t.stop()}}),null,this)},isActive:function(t){if(t.activeRegex.test(this.$route.path)){if(t.query)for(var e in t.query)if(t.query[e].toString()!=this.$route.query[e])return!1;return!0}return!1},setMode:function(t){this.mode=t},closeRZ:function(){this.rz=""}},created:function(){if(this.context.invalidUser)this.$router.push({name:"login"});else{var t=this.context.user;if(!t.needRenewal||/account\/renewal/i.test(this.$route.path||"")){if(!1!==this.authFilter){var e=0,a="";t.rz_phone||(a="mobile"),t.rz_shenfen||(e|=1,a="idcard"),t.rz_yingyezhizhao||(e|=2,a="businesslicense"),this.rz=a,this.mode=e}this.bodyToggleClass(!0)}else this.$router.replace({path:"/account/renewal"})}}},Y=G,X=(a("5ba7"),a("abd4"),a("c2ad"),Object(m["a"])(Y,j,q,!1,null,null,null)),tt=X.exports,et=a("d055"),at=a.n(et),st=a("7c3c"),nt=a.n(st),it={inject:["context"],components:{layout:tt},data:function(){return{mqr:"",model:{},refreshTime:0}},methods:{get:function(){var t=this;f.a.get("/h_v1/index/info").then((function(e){e=e.data,e&&e.result&&(t.model=e.result)}))},refresh:function(){if(!this.isRefresh){var t=this;f.a.post("/h_v1/index/refresh").then((function(e){e=e.data,alert(e.msg||(e.status?"刷新失败":"刷新成功")),t.refreshf(1),t.refreshTime=new Date}))}},refreshf:function(t){if(window.localStorage){var e="index_refresh_".concat(this.context.domain.id,"_").concat(this.context.user.UserName);if(!t){var a=localStorage.getItem(e);return a==nt()("yyyyMMdd",new Date)}localStorage.setItem(e,nt()("yyyyMMdd",new Date))}return!1},dateFormat:function(t,e){return nt()(e||"yyyy-MM-dd",nt.a.parse("yyyy-MM-dd",t))}},created:function(){var t=this;this.get(),at.a.toDataURL(this.mHome,(function(e,a){t.mqr=a}))},computed:{host:function(){return"".concat(this.context.user.UserName,".").concat(this.context.domain.host)},pcHome:function(){return"http://".concat(this.context.user.UserName,".").concat(this.context.domain.host)},mHome:function(){return this.context.domain.key?"http://m.".concat(this.context.user.UserName,".").concat(this.context.domain.host):"http://".concat(this.context.user.UserName,".m.").concat(this.context.domain.host)},year:function(){var t=this.model.ServiceEnd,e=this.model.RegDate;return t&&e?(t=nt.a.parse("yyyy-MM-dd",t).getTime(),e=nt.a.parse("yyyy-MM-dd",e).getTime(),new Date(t-e).getFullYear()-1970):0},day:function(){var t=this.model.ServiceEnd;if(t){t=nt.a.parse("yyyy-MM-dd",t).getTime();var e=(new Date).getTime();if(t>e)return parseInt(new Date(t-e).getTime()/864e5)}return 0},ps:function(){var t=0,e=this.context.user;return e.rz_phone&&t++,e.rz_shenfen&&t++,e.rz_yingyezhizhao&&t++,this.model.weixin_nick&&t++,t/4*100},isRefresh:function(){return this.refreshTime||this.refreshf()},wxBindUrl:function(){return"/h_v1/weixin_bind/go?redirect="+encodeURIComponent(location.href)},isNew:function(){return this.model&&this.model.RegDate&&nt.a.parse("yyyy-MM-dd",this.model.RegDate).getTime()+6048e5>(new Date).getTime()}}},rt=it,ot=(a("45db"),Object(m["a"])(rt,E,F,!1,null,null,null)),lt=ot.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"login-box"},[a("header_",{attrs:{title:"会员登录"}}),a("div",{staticClass:"login-bg"},[a("div",{staticClass:"container"},[a("div",{staticClass:"login-main login-login"},[a("div",{staticClass:"reg-form"},[a("div",{staticClass:"reg-login"},[t._v("没有帐号?"),a("router-link",{attrs:{to:{name:"reg"}}},[t._v("立即注册")])],1),a("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("input",{attrs:{type:"hidden",name:"useScript",value:"1"}}),a("ul",[a("li",[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.username,expression:"model.username"}],staticClass:"reg-input input",attrs:{type:"text",name:"username",fk:"user",placeholder:"请输入用户名"},domProps:{value:t.model.username},on:{input:function(e){e.target.composing||t.$set(t.model,"username",e.target.value)}}}),t.errorMsg.username?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.errorMsg.username))])]):t._e()]),a("li",[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.password,expression:"model.password"}],staticClass:"reg-input input",attrs:{type:"password",name:"password",fk:"pwd",placeholder:"请输入密码"},domProps:{value:t.model.password},on:{input:function(e){e.target.composing||t.$set(t.model,"password",e.target.value)}}}),t.errorMsg.password?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.errorMsg.password))])]):t._e()]),t._m(2)])]),a("div",{staticClass:"login-alter"},[t._v(" 其他账号登录 ")]),a("a",{staticClass:"login-alter-icon",attrs:{href:"http://"+t.context.host+"/h_v1/weixin_bind/login?domainId="+t.context.domain.id+"&redirect="+encodeURIComponent("http://"+t.context.host+"/index")}},[a("span",{staticClass:"icon iconfont"},[t._v("")])])])])])]),a("footer_")],1)])},ut=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[a("span",[t._v("*")]),t._v("用户名：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[a("span",[t._v("*")]),t._v("密码：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("input",{staticClass:"reg-btn",attrs:{type:"submit",value:"登录"}})])}],mt={inject:["context"],components:{footer_:M,header_:P},data:function(){return{checkImg:"",model:{token:"",username:"",password:"",checkcode:""},errorMsg:{username:"",password:"",checkcode:""}}},methods:{refreshimg:function(){this.checkImg="/h_v1/ucenter/login_verifyImg?token=".concat(this.context.token,"&_=").concat((new Date).getTime()),this.model.checkcode=""},login:function(){var t=this.model,e=this.errorMsg;if(e.username="",e.password="",e.checkcode="",!t.username)return e.username="用户名不能为空",!1;if(!t.password)return e.password="密码不能为空",!1;var a=this;return f.a.post("/h_v1/ucenter/login",t).then((function(t){if(t=t.data,t.status)return alert(t.msg||"登录失败"),a.refreshimg();if(t.result){if(t.result.needPay)return a.$router.push({name:"pay",query:{keyId:t.result.keyId}});if(t.result.needSet)return a.$router.push({name:"reg_set",query:{keyId:t.result.keyId}})}a.context.user=t.result,a.$router.push({name:"index"})})).catch((function(t){alert(t)})),!1}},created:function(){this.model.domainId=this.context.domain.id,this.model.token=this.context.token,this.refreshimg(),document.title="会员登录 - ".concat(this.context.domain.name)}},dt=mt,vt=(a("1fcb"),Object(m["a"])(dt,ct,ut,!1,null,"623be2cd",null)),pt=vt.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"login-box"},[a("header_",{attrs:{title:"会员支付"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"login-main reg-main"},[t._m(0),a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"payment"},[t._m(1),a("div",{staticClass:"pay-box"},[a("ul",t._l(t.items,(function(e){return a("li",{key:e.id,class:e.selected?"on":"",on:{click:function(a){return t.sel(e)}}},[a("div",{staticClass:"t"},[t._v(t._s(e.name))]),a("div",{staticClass:"pay-money"},[a("span",[t._v("￥")]),t._v(t._s(e.amount))]),a("div",{staticClass:"pay-time"},[t._v(t._s(e.num)+t._s(e.unitName))]),a("div",{staticClass:"clear"}),a("div",{staticClass:"tips"},[t._v(t._s(e.isFree?"试用版用户":"VIP会员"))])])})),0)]),this.curr&&this.tinfo?a("div",{staticClass:"pay-total"},[t._v(" 欢迎您："),a("font",{staticStyle:{color:"red"}},[t._v(t._s(t.tinfo.UserName))]),t._v(" 应付总额："),a("span",[t._v(t._s(t.curr.amount)+"元")]),t._v("，如遇支付成功，未跳转，请直接"),a("router-link",{staticStyle:{color:"red"},attrs:{to:{name:"login",query:{redirect:"/ucenter/company"}}}},[t._v("登陆")]),t._v("."),a("br"),t._v("付款成功后，您购买的服务即开通，无法退款。 ")],1):t._e(),this.curr&&this.tinfo?a("div",{staticClass:"pay-code"},[a("ul",{staticClass:"clearfix"},t._l(t.payModes,(function(e){return a("li",{key:e.value},[a("div",{staticClass:"thumb-code"},[a("img",{staticStyle:{width:"138px"},attrs:{src:"/h_v1/account/reg_PayQrCode?domainId="+t.context.domain.id+"&tempId="+t.tinfo.ID+"&id="+t.curr.id+"&payMode="+e.value+"&isReg="+(t.tinfo.MemberID?"false":"true")}}),e.success?a("div",{staticClass:"thumb-tip",attrs:{id:"alitip"}},[a("p",{staticClass:"ico zf"}),a("p",[t._v("支付成功")])]):t._e()]),a("p",[a("img",{attrs:{src:t.context.styleUrl("images/"+e.img+".png")}}),t._v(t._s(e.name)+"扫码付款 ")])])})),0),a("div",{staticClass:"clear"})]):t._e()])])])]),a("footer_")],1)])},ht=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"process clearfix"},[a("li",{staticClass:"this"},[a("i",{staticClass:"number"},[t._v("1")]),a("i",{staticClass:"text"},[t._v("会员注册")]),a("b",{staticClass:"line"})]),a("li",{staticClass:"this"},[a("i",{staticClass:"number"},[t._v("2")]),a("i",{staticClass:"text"},[t._v("选择服务")]),a("b",{staticClass:"line"})]),a("li",[a("i",{staticClass:"number"},[t._v("3")]),a("i",{staticClass:"text"},[t._v("资料填写")])]),a("li",[a("i",{staticClass:"number"},[t._v("4")]),a("i",{staticClass:"text"},[t._v("注册成功")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pay-title"},[a("span",[t._v("会员类型选择，请不要关闭页面，等待自动跳转。")])])}],_t=0,gt={inject:["context"],components:{footer_:M,header_:P},data:function(){return{items:[],curr:null,tinfo:null,payModes:[{name:"支付宝",selected:!0,value:1,img:"z-ico",success:!1},{name:"微信",selected:!1,value:2,img:"w-ico",success:!1}]}},methods:{get:function(){var t=this;t.curr=null,t.tinfo=null,_t&&clearInterval(_t);var e=_t=Object(h["setInterval"])((function(){if(e!=_t)return clearInterval(e);f.a.get("/h_v1/account/getTempPayState",{params:{domainid:t.context.domain.id,keyId:t.keyId}}).then((function(a){if(a&&a.data&&a.data.result&&a.data.result.IsPay)return clearInterval(e),t.success()})),t.tinfo&&t.tinfo.visitkey&&f.a.post("/h_v1/visit/TimetwoAdd",{keyID:t.tinfo.visitkey,second:5,curUrl:location.href})}),5e3);f.a.get("/h_v1/account/regMemberPacks",{params:{domainId:t.context.domain.id}}).then((function(e){if(e=e.data,e.status)return alert(e.msg||"系统繁忙");if(e.result){var a=!0,s=!1,n=void 0;try{for(var i,r=e.result[Symbol.iterator]();!(a=(i=r.next()).done);a=!0){var o=i.value;o.selected=!1}}catch(p){s=!0,n=p}finally{try{a||null==r.return||r.return()}finally{if(s)throw n}}}if(t.items=e.result,t.items&&t.items.length){var l=!0,c=!1,u=void 0;try{for(var m,d=t.items[Symbol.iterator]();!(l=(m=d.next()).done);l=!0){var v=m.value;if(v.isDefalut)return void t.sel(v)}}catch(p){c=!0,u=p}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}t.sel(t.items[0])}})).catch((function(t){alert(t)})),f.a.get("/h_v1/account/getTempPay",{params:{domainid:this.context.domain.id,keyId:this.keyId}}).then((function(e){return e=e.data,e.status?alert(e.msg||"系统繁忙"):e.result?e.result.IsPay?t.success():void(t.tinfo=e.result):t.to("notexists_"+t.keyId)})).catch((function(t){alert(t)}))},sel:function(t){var e=!0,a=!1,s=void 0;try{for(var n,i=this.items[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var r=n.value;r.selected=!1}}catch(o){a=!0,s=o}finally{try{e||null==i.return||i.return()}finally{if(a)throw s}}t.selected=!0,this.curr=t},selPayModel:function(t){var e=!0,a=!1,s=void 0;try{for(var n,i=this.payModes[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var r=n.value;r.selected=!1}}catch(o){a=!0,s=o}finally{try{e||null==i.return||i.return()}finally{if(a)throw s}}t.selected=!0},to:function(t){this.$router.replace({name:"login",query:{_:t,redirect:"/ucenter/company"}})},success:function(){this.$router.replace({name:"reg_set",query:{keyId:this.keyId}})}},created:function(){if(!this.keyId)return this.to("notKeyId");this.get(),function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?be448355ccc5e594dd805f990a5ba070",document.body.appendChild(t)}()},computed:{currPayMode:function(){var t=!0,e=!1,a=void 0;try{for(var s,n=this.payModes[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var i=s.value;if(i.selected)return i}}catch(r){e=!0,a=r}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}return this.payModes[0]},keyId:function(){return this.$route.query.keyId}},beforeDestroy:function(){_t&&clearInterval(_t)},watch:{$route:function(){this.get()}}},yt=gt,Ct=(a("5d0a"),Object(m["a"])(yt,ft,ht,!1,null,"a4df98d6",null)),xt=Ct.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"login-box"},[a("header_",{attrs:{title:"会员注册"}}),a("div",[a("div",{staticClass:"container"},[a("div",{staticClass:"login-main reg-main"},[t._m(0),a("div",{staticClass:"regtips"},[t._v("请填写以下信息，准确的商业信息有助于您获得别人的信任，结交潜在的商业伙伴，获取商业机会！")]),a("div",{staticClass:"reg-form"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("ul",[a("li",{class:t.ns.username.classValue},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.model.username,expression:"model.username",modifiers:{trim:!0,lazy:!0}}],ref:"username",staticClass:"reg-input input",attrs:{type:"text",name:"username",fk:"user",placeholder:"长度大于等于4,英文,数字的组合"},domProps:{value:t.model.username},on:{change:[function(e){t.$set(t.model,"username",e.target.value.trim())},t.checkUserName],focus:function(e){return t.ns.username.select(1)},blur:[function(e){return t.ns.username.select(0)},function(e){return t.$forceUpdate()}]}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.username.msg))])])]),a("li",{class:t.ns.password.classValue},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.password,expression:"model.password"}],ref:"password",staticClass:"reg-input input",attrs:{type:"password",name:"password",fk:"pwd",placeholder:"长度大于等于6,包含字母、数字"},domProps:{value:t.model.password},on:{focus:function(e){return t.ns.password.select(1)},blur:function(e){return t.ns.password.select(0)},input:function(e){e.target.composing||t.$set(t.model,"password",e.target.value)}}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.password.msg))])])]),a("li",{class:t.ns.password2.classValue},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.password2,expression:"model.password2"}],ref:"password2",staticClass:"reg-input input",attrs:{type:"password",fk:"fpwd",placeholder:"与前一个密码一致"},domProps:{value:t.model.password2},on:{focus:function(e){return t.ns.password2.select(1)},blur:function(e){return t.ns.password2.select(0)},input:function(e){e.target.composing||t.$set(t.model,"password2",e.target.value)}}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.password2.msg))])])]),a("li",{class:t.ns.companyname.classValue},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.model.companyname,expression:"model.companyname",modifiers:{trim:!0,lazy:!0}}],ref:"companyname",staticClass:"reg-input input",attrs:{type:"text",name:"companyname",fk:"com",placeholder:"工商管理局注册的公司全称"},domProps:{value:t.model.companyname},on:{focus:function(e){return t.ns.companyname.select(1)},blur:[function(e){return t.ns.companyname.select(0)},function(e){return t.$forceUpdate()}],change:function(e){t.$set(t.model,"companyname",e.target.value.trim())}}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.companyname.msg))])])]),a("li",{class:t.ns.mobile.classValue},[t._m(5),a("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:t.model.mobile,expression:"model.mobile",modifiers:{trim:!0,lazy:!0}}],ref:"mobile",staticClass:"reg-input input",attrs:{type:"number",name:"mobile",fk:"mb",placeholder:"中国大陆11位手机号码"},domProps:{value:t.model.mobile},on:{focus:function(e){return t.ns.mobile.select(1)},blur:[function(e){return t.ns.mobile.select(0)},function(e){return t.$forceUpdate()}],change:function(e){t.$set(t.model,"mobile",e.target.value.trim())}}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.mobile.msg))])])]),a("li",[a("label",[t._v("网站声明：")]),a("input",{attrs:{name:"cbxagree",checked:"checked",id:"cbxagree",type:"checkbox",value:"1"}}),t._v("是否同意"),a("a",{attrs:{area:"800*600"},on:{click:function(e){return t.shopRegterms(1)}}},[t._v(t._s(this.context.domain.host)+"服务条款")]),t._v("? ")]),t._m(6)]),a("div",{staticClass:"reg-login"},[t._v("已有账号，"),a("router-link",{attrs:{to:{name:"login"}}},[t._v("去登录")])],1)])])])])]),a("footer_")],1),this.shopRegterms_?a("layer",{attrs:{width:"80%",maxWidth:"800px",height:"520px"},on:{close:function(e){return t.shopRegterms(0)}}},[a("reg_terms")],1):t._e()],1)},wt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"process clearfix"},[a("li",{staticClass:"this"},[a("i",{staticClass:"number"},[t._v("1")]),a("i",{staticClass:"text"},[t._v("会员注册")]),a("b",{staticClass:"line"})]),a("li",[a("i",{staticClass:"number"},[t._v("2")]),a("i",{staticClass:"text"},[t._v("选择服务")])]),a("li",[a("i",{staticClass:"number"},[t._v("3")]),a("i",{staticClass:"text"},[t._v("资料填写")])]),a("li",[a("i",{staticClass:"number"},[t._v("4")]),a("i",{staticClass:"text"},[t._v("注册成功")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[a("span",[t._v("*")]),t._v("用户名：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[a("span",[t._v("*")]),t._v("密码：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[a("span",[t._v("*")]),t._v("确认密码：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[a("span",[t._v("*")]),t._v("公司名称：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[a("span",[t._v("*")]),t._v("手机号码：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("input",{staticClass:"reg-btn",staticStyle:{cursor:"pointer"},attrs:{type:"submit",id:"btnsave",value:"同意服务条款，下一步"}})])}],Pt=function(){function t(e,a){Object(s["a"])(this,t),this._state={error:"",selected:0},this.data=e,this._getValue=a}return Object(n["a"])(t,[{key:"verifyMsg",value:function(){if(this.data.requiredMsg&&!this.value)return this.data.requiredMsg;if(this.error)return this.error;var t=this.data.verify;return t?(t=t.call(this),!0===t?null:t):null}},{key:"select",value:function(t){this.state.selected=void 0===t||t}},{key:"state",get:function(){return this._state}},{key:"error",get:function(){return this.state.error},set:function(t){this.state.error=t}},{key:"name",get:function(){return this.data.name}},{key:"value",get:function(){return this._getValue.call(this)}},{key:"classValue",get:function(){var t="";return this.error||this.value&&this.verifyMsg()?t+=" error":this.value&&(t+=" on"),this.state.selected&&(t+=" selected"),t}},{key:"msg",get:function(){var t=this.verifyMsg();return t||(this.value?this.data.successMsg:null)}},{key:"model",get:function(){return this.t.model||{}}}]),t}(),It=function(){function t(e){Object(s["a"])(this,t),this._get=e,this._state=[],this._list=[],this._listIndex={}}return Object(n["a"])(t,[{key:"append",value:function(t){var e=this,a=new Pt(t,(function(){return e._get.value(t.name)}));return this._listIndex[t.name]=this._list.length,this._list.push(a),this._state.push(a.state),a}},{key:"get",value:function(t){return this._list[this._listIndex[t]]}},{key:"getAll",value:function(){var t=[],e=!0,a=!1,s=void 0;try{for(var n,i=this._list[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var r=n.value;t.push(r)}}catch(o){a=!0,s=o}finally{try{e||null==i.return||i.return()}finally{if(a)throw s}}return t}},{key:"verify",value:function(){var t=0,e=!0,a=!1,s=void 0;try{for(var n,i=this._list[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var r=n.value;if(r.verifyMsg()&&(t|=1,t<3&&this._get.ref)){var o=this._get.ref(r.name);o instanceof h["Array"]&&(o=o[0]),o&&o.focus&&(o.focus(),t|=2)}}}catch(l){a=!0,s=l}finally{try{e||null==i.return||i.return()}finally{if(a)throw s}}return 0==t}},{key:"state",get:function(){return this._state}}]),t}(),kt=It,Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"agreement"},[a("p",[t._v(" 欢迎您访问 "+t._s(this.context.domain.host)+"！本网站采用会员制，您成为我们的会员，我们将竭诚为您提供最优质的服务，真诚地希望您能成为我们的会员。在入会之前，请您仔细阅读本协议。 ")]),a("p",[t._v(" 一、 "+t._s(this.context.domain.host)+"各项服务的所有权和运作权由 "+t._s(this.context.domain.host)+"拥有 ")]),a("p",[t._v(" "+t._s(this.context.domain.host)+"提供的服务将按照其操作规则严格执行，会员必须同意本服务协议并完成注册程序，才能成为 "+t._s(this.context.domain.host)+"的正式注册会员。 ")]),a("p",[t._v(" 二、 "+t._s(this.context.domain.host)+"的基本权利和义务 ")]),a("p",[t._v("（1）为入网会员提供完善的服务，确保上网企业的最大利益。 ")]),a("p",[t._v("（2）做好服务工作，及时解决乙方提出的问题，最大程度方便会员。 ")]),a("p",[t._v("（3）入网会员协议标准有何变化，均应提前通知会员。 ")]),a("p",[t._v("（4）有权检查上网企业的法律手续、发布产品的质量和价格的真实性。 ")]),a("p",[t._v("（5）有权规定上网企业的免费期。 ")]),a("p",[t._v("（6）为会员发布的信息内容用于短信应用。")]),a("p",[t._v("（7）其他按国家有关政策法规规定享有的权利。 ")]),a("p",[t._v("（8）发现上网企业的违规行为，有权终止其上网权利，并通过网上发布公告。")]),a("p",[t._v("（9）注册会员，一经支付，概不退款。")]),a("p",[t._v("三、会员的权利和义务")]),a("p",[t._v("（1）有入网、退出自由。 ")]),a("p",[t._v("（2）自行确定所发布的信息。")]),a("p",[t._v(" （3）按国家及 "+t._s(this.context.domain.host)+"有关规定遵守 "+t._s(this.context.domain.host)+"有关信息发布的原则。 ")]),a("p",[t._v("（4）发布的必须是注册企业的合法产品，不得利用本网进行有损其他用户利益的活动，若有违规信息发布，后果自负。 ")]),a("p",[t._v("（5）会员对自己所发布的信息和内容，自愿承担所有法律责任。")]),a("p",[t._v("（6）会员不得上传未经授权的任何侵犯他人知识产权的内容和信息。")]),a("p",[t._v(" 四、 "+t._s(this.context.domain.host)+"不公开会员的姓名、代号、电子邮箱和其他会员信息，除非： ")]),a("p",[t._v(" 1、会员授权 "+t._s(this.context.domain.host)+"透露这些信息。 ")]),a("p",[t._v(" 2、国家相应法律、法规及程序要求 "+t._s(this.context.domain.host)+"提供会员的个人资料。 ")]),a("p",[t._v(" 3、如果会员提供的资料包含有不正确的信息， "+t._s(this.context.domain.host)+"保留结束会员使用网络服务资格的权利。 ")]),a("p",[t._v(" 4、在 "+t._s(this.context.domain.host)+"论坛发表文章会显示会员电子邮箱。 ")]),a("p",[t._v("五、服务协议的修改")]),a("p",[t._v(" "+t._s(this.context.domain.host)+"有权在必要时修改服务协议，并在网站显著位置上提示修改内容。会员如果不同意所改动的内容，可以取消获得的网络服务。如果会员继续享用网络服务，则视为接受服务协议的变动。 "+t._s(this.context.domain.host)+"保留随时修改或中断服务而不需通知用户的权利。 ")]),a("p",[t._v(" 六、会员帐号、密码和安全性 "+t._s(this.context.domain.host)+"将对注册会员的用户名和密码安全及信息内容安全性负全部责任。每个会员都要对以其会员名进行的所有活动和事件负全责。您可随时根据指示改变您的密码。会员若发现任何非法使用用户帐号或存在安全漏洞的情况，请立即通告 "+t._s(this.context.domain.host)+"。 ")]),a("p",[t._v(" 七、对会员信息的限制 "+t._s(this.context.domain.host)+"有判定会员的行为是否符合 "+t._s(this.context.domain.host)+"服务条款的要求和精神的保留权利，如果会员违背了服务条款的规定， "+t._s(this.context.domain.host)+"有中断对其提供网络服务的权利。 "+t._s(this.context.domain.host)+"仅为网络用户提供信息发布平台，一切发布的信息由会员用户自行上传，网站不对其进行编辑和修改。任何个人或者单位如果发现本网站的会员用户侵害了其合法权利，即可向本网站发送侵权通知（或发起侵权投诉），本网站将在收到信息的第一时间处理。 ")]),a("p",[t._v(" 八、网络广告 会员在他们发表的信息中加入宣传资料，在 "+t._s(this.context.domain.host)+"的免费服务上展示他们的产品，任何这类促销方法，包括运输货物、付款、服务、商业条件、担保及与广告有关的描述都只是在相应的会员和广告销售商之间发生。 "+t._s(this.context.domain.host)+"不承担任何责任， "+t._s(this.context.domain.host)+"没有义务为这类广告销售负任何责任。 ")]),a("p",[t._v(" 九、网络服务内容的所有权 "+t._s(this.context.domain.host)+"定义的网络服务内容，包括：文字、软件、声音、图片、录象、图表、广告中的全部内容；电子邮件的全部内容； "+t._s(this.context.domain.host)+"为会员提供的其他信息。所有这些内容受版权、标签和其它财产所有权法律的保护。所以，会员只能在 "+t._s(this.context.domain.host)+"和广告商授权下才能使用这些内容，而不能擅自复制、再造这些内容、或创造与这些内容有关的生产品。 ")]),a("p",[t._v(" 十、法律适用 会员和 "+t._s(this.context.domain.host)+"一致同意服从中华人民共和国法律管辖。 ")])])},Dt=[],$t={inject:["context"]},Mt=$t,At=(a("7c0e"),Object(m["a"])(Mt,Nt,Dt,!1,null,"08eb7a63",null)),zt=At.exports;function Tt(t){var e=new kt({value:function(e){return t.model[e]},ref:function(e){return t.$refs[e]}});e.append({name:"username",requiredMsg:"长度必须大于等于4,英文,数字的组合!",successMsg:"用户名输入正确!",verify:function(){return this.value.length<4?"用户名长度必须大于等于4!":this.value.length>15?"用户名长度必须小于15!":/^[a-zA-Z0-9]+$/g.test(this.value)?void 0:"用户名只能输入英文,数字的组合!"}}),e.append({name:"password",requiredMsg:"长度大于等于6,包含字母、数字!",successMsg:"密码输入正确!",verify:function(){if(this.value.length<6)return"密码长度必须大于等于6!"}}),e.append({name:"password2",requiredMsg:"与前一个密码一致!",successMsg:"确认密码输入正确!",verify:function(){if(this.value!=t.model.password)return"确认密码不一致"}}),e.append({name:"companyname",requiredMsg:"请提供在工商管理局注册的公司全称",successMsg:"公司名输入正确!"}),e.append({name:"mobile",requiredMsg:"请填写真实有效的手机号码!",successMsg:"手机号码输入正确!",verify:function(){if(!/^1\d{10}$/.test(this.value))return"手机号码格式错误"}});var a={},s=!0,n=!1,i=void 0;try{for(var r,o=e.getAll()[Symbol.iterator]();!(s=(r=o.next()).done);s=!0){var l=r.value;a[l.name]=l}}catch(c){n=!0,i=c}finally{try{s||null==o.return||o.return()}finally{if(n)throw i}}return a.state=e.state,t.ns=a,e}var St="",Et=0,Ft={inject:["context"],components:{footer_:M,header_:P,layer:L,reg_terms:zt},data:function(){return{shopRegterms_:0,model:{token:""},ns:null,date:(new Date).getTime()}},methods:{shopRegterms:function(t){this.shopRegterms_=t},reg_sendMobileVerifyCode:function(){this.model.mobile&&f.a.post("/h_v1/ucenter/reg_sendMobileVerifyCode",{token:this.context.token,mobile:this.model.mobile,domainid:this.context.domain.id}).then((function(t){t=t.data,alert(t.msg||(t.status?"系统繁忙":"验证码已发送"))})).catch((function(t){alert(t)}))},submit:function(){var t=this.model;if(!this.v.verify())return!1;t.token=this.context.token;var e=this;t.visitkey=St||"",t.domainId=this.context.domain.id,t.visitKey||(t.visit={wsize_width:window.screen.width,wsize_height:window.screen.height,refUrl:this.context.referrer||document.referrer||"",curUrl:location.href,time:parseInt(((new Date).getTime()-this.date)/1e3)}),f.a.post("/h_v1/ucenter/reg",t).then((function(t){if(t=t.data,t.status){if(t.result.errorFieldName){var a=e.ns[t.result.errorFieldName.toLowerCase()];if(a)return a.error=t.msg,e.$refs[t.result.errorFieldName.toLowerCase()].focus()}alert(t.msg||"系统繁忙")}else e.$router.push({name:"pay",query:{keyId:t.result.keyID}})})).catch((function(t){alert(t)}))},checkUserName:function(){var t=this,e=t.model.username;if(!e)return t.ns.username.error="";f.a.get("/h_v1/ucenter/existsUserName",{params:{domainid:t.context.domain.id,username:e}}).then((function(a){a&&a.data&&a.data.result&&t.model.username==e&&(t.ns.username.error=a.data.result.exists?"用户名已被注册":"")}))},visit:function(){function t(t){if(t)var e=Et=Object(h["setInterval"])((function(){if(t!=St)return clearInterval(e);f.a.post("/h_v1/visit/timeoneadd",{keyID:t,second:5,curUrl:location.href})}),5e3)}if(St)return t(St);f.a.post("/h_v1/visit/create",{wsize_width:window.screen.width,wsize_height:window.screen.height,refUrl:this.context.referrer||document.referrer||"",curUrl:location.href,domainId:this.context.domain.id}).then((function(e){e=e.data,!e.status&&e.result&&t(St=e.result.keyID)}))}},created:function(){this.v=Tt(this),this.visit(),function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?34100ff5e705166fcd20391087c16011",document.body.appendChild(t)}(),document.title="会员注册 - ".concat(this.context.domain.name)},beforeDestroy:function(){Et&&clearInterval(Et)}},jt=Ft,qt=(a("dfe3"),Object(m["a"])(jt,bt,wt,!1,null,"8056a4da",null)),Ut=qt.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-box"},[a("header_",{attrs:{title:"会员注册"}}),a("div",{staticClass:"container"},[a("div",{staticClass:"login-main reg-main"},[t._m(0),a("div",{staticClass:"reg-form",staticStyle:{width:"70%"}},[this.model?a("form",{attrs:{id:"freg"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"reg-data"},[t._m(1),a("ul",{staticClass:"reg-form"},[a("li",[t._m(2),a("span",{staticStyle:{color:"Red"}},[t._v(t._s(t.model.UserName))])]),a("li",{class:t.ns.Mobile.classValue},[t._m(3),t.model.Mobile?a("span",{staticStyle:{color:"Red"}},[t._v(t._s(t.model.Mobile))]):[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Mobile,expression:"model.Mobile"}],ref:"Mobile",staticClass:"reg-input input",attrs:{name:"Mobile",type:"number",placeholder:"请输入手机电话："},domProps:{value:t.model.Mobile},on:{focus:function(e){return t.ns.Mobile.select(1)},blur:function(e){return t.ns.Mobile.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Mobile",e.target.value)}}}),t.ns.Mobile.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.Mobile.msg))])]):t._e()]],2),a("li",{class:t.ns.Email.classValue},[a("label",[t._v("电子邮箱：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Email,expression:"model.Email"}],ref:"Email",staticClass:"reg-input input",attrs:{name:"Email",type:"email",placeholder:"请输入电子邮箱"},domProps:{value:t.model.Email},on:{focus:function(e){return t.ns.Email.select(1)},blur:function(e){return t.ns.Email.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Email",e.target.value)}}}),t.ns.Email.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.Email.msg))])]):t._e()])]),t._m(4),a("ul",{staticClass:"reg-form"},[a("li",{class:t.ns.TrueName.classValue},[t._m(5),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.TrueName,expression:"model.TrueName"}],ref:"TrueName",staticClass:"reg-input input",attrs:{id:"TrueName",name:"TrueName",type:"text",placeholder:"请输入真实姓名"},domProps:{value:t.model.TrueName},on:{focus:function(e){return t.ns.TrueName.select(1)},blur:function(e){return t.ns.TrueName.select(0)},input:function(e){e.target.composing||t.$set(t.model,"TrueName",e.target.value)}}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.TrueName.msg))])])]),a("li",[a("label",[t._v("性别：")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.Sex,expression:"model.Sex"}],attrs:{size:"1",id:"Sex",name:"Sex"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"Sex",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"male"}},[t._v("男")]),a("option",{attrs:{value:"female"}},[t._v("女")])])]),a("li",{class:t.ns.Department.classValue},[a("label",[t._v("部门名称：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Department,expression:"model.Department"}],ref:"Department",staticClass:"reg-input input",attrs:{id:"Department",name:"Department",type:"text",placeholder:"部门名称"},domProps:{value:t.model.Department},on:{focus:function(e){return t.ns.Department.select(1)},blur:function(e){return t.ns.Department.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Department",e.target.value)}}}),t.ns.Department.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.Department.msg))])]):t._e()]),a("li",{class:t.ns.JobTitle.classValue},[a("label",[t._v("职位名称：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.JobTitle,expression:"model.JobTitle"}],ref:"JobTitle",staticClass:"reg-input input",attrs:{id:"JobTitle",name:"JobTitle",type:"text",placeholder:"职位名称"},domProps:{value:t.model.JobTitle},on:{focus:function(e){return t.ns.JobTitle.select(1)},blur:function(e){return t.ns.JobTitle.select(0)},input:function(e){e.target.composing||t.$set(t.model,"JobTitle",e.target.value)}}}),t.ns.JobTitle.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.JobTitle.msg))])]):t._e()]),a("li",[a("label",[t._v("业务身份：")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.BusinessRole,expression:"model.BusinessRole"}],attrs:{name:"BusinessRole",id:"BusinessRole"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"BusinessRole",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"buyer"}},[t._v("买方")]),a("option",{attrs:{value:"seller"}},[t._v("卖方")]),a("option",{attrs:{value:"both"}},[t._v("两者都是")])])])]),t._m(6),a("ul",{staticClass:"reg-form"},[a("li",[a("label",[t._v("公司名称：")]),t._v(" "+t._s(t.model.CompanyName)+" ")]),a("li",{class:t.ns.ProvinceID.classValue||t.ns.CityID.classValue},[t._m(7),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.ProvinceID,expression:"model.ProvinceID"}],ref:"ProvinceID",staticClass:"easyui-combobox",staticStyle:{width:"80px"},attrs:{id:"ProvinceID",name:"ProvinceID"},on:{focus:function(e){return t.ns.ProvinceID.select(1)},blur:function(e){return t.ns.ProvinceID.select(0)},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"ProvinceID",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("请选择")]),t._l(t.pl,(function(e){return a("option",{key:e.code,domProps:{value:e.code}},[t._v(t._s(e.name))])}))],2),t._v(" - "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.CityID,expression:"model.CityID"}],ref:"CityID",staticClass:"easyui-combobox",staticStyle:{width:"80px"},attrs:{id:"CityID",name:"CityID"},on:{focus:function(e){return t.ns.CityID.select(1)},blur:function(e){return t.ns.CityID.select(0)},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"CityID",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("请选择")]),t._l(t.cl,(function(e){return a("option",{key:e.code,domProps:{value:e.code}},[t._v(t._s(e.name))])}))],2),t._v(" - "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.TownID,expression:"model.TownID"}],staticClass:"easyui-combobox",staticStyle:{width:"80px"},attrs:{id:"TownID",name:"TownID"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"TownID",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("请选择")]),t._l(t.tl,(function(e){return a("option",{key:e.code,domProps:{value:e.code}},[t._v(t._s(e.name))])}))],2),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.ProvinceID.msg||t.ns.CityID.msg))])])]),this.context.domain.key?t._e():a("li",{class:t.ns.CategorizeID.classValue||t.ns.CategoryID.classValue},[t._m(8),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.CategoryID,expression:"model.CategoryID"}],ref:"CategoryID",staticClass:"easyui-combobox",on:{focus:function(e){return t.ns.CategoryID.select(1)},blur:function(e){return t.ns.CategoryID.select(0)},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"CategoryID",e.target.multiple?a:a[0])}}},[t.model.CategoryID?t._e():a("option",{attrs:{value:"0"}},[t._v("请选择")]),t._l(t.categorys,(function(e){return a("option",{key:e.CategoryID,domProps:{value:e.CategoryID}},[t._v(t._s(e.CategoryName))])}))],2),t._v(" - "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.CategorizeID,expression:"model.CategorizeID"}],ref:"CategorizeID",staticClass:"easyui-combobox",attrs:{name:"CategorizeID"},on:{focus:function(e){return t.ns.CategorizeID.select(1)},blur:function(e){return t.ns.CategorizeID.select(0)},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"CategorizeID",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("请选择")]),t._l(t.categorizes,(function(e){return a("option",{key:e.CategorizeID,domProps:{value:e.CategorizeID}},[t._v(t._s(e.CategorizeName))])}))],2),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.CategorizeID.msg||t.ns.CategoryID.msg))])])]),a("li",[a("label",[t._v("企业性质：")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.BusinessNature,expression:"model.BusinessNature"}],attrs:{name:"BusinessNature",id:"BusinessNature"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"BusinessNature",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"国企"}},[t._v("国企")]),a("option",{attrs:{value:"集体"}},[t._v("集体")]),a("option",{attrs:{value:"股份"}},[t._v("股份")]),a("option",{attrs:{value:"外商独资"}},[t._v("外商独资")]),a("option",{attrs:{value:"中外合资"}},[t._v("中外合资")]),a("option",{attrs:{value:"国有体制"}},[t._v("国有体制")]),a("option",{attrs:{value:"私营"}},[t._v("私营")]),a("option",{attrs:{value:"不详"}},[t._v("不详")])])]),a("li",[a("label",[t._v("经营模式：")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.BusinessType,expression:"model.BusinessType"}],attrs:{name:"BusinessType",id:"BusinessType"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"BusinessType",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"制造商"}},[t._v("制造商")]),a("option",{attrs:{value:"贸易商"}},[t._v("贸易商")]),a("option",{attrs:{value:"代理商"}},[t._v("代理商")]),a("option",{attrs:{value:"采购办事处"}},[t._v("采购办事处")]),a("option",{attrs:{value:"分销商/批发商"}},[t._v("分销商/批发商")]),a("option",{attrs:{value:"其他"}},[t._v("其他")])])]),a("li",{class:t.ns.LegalPerson.classValue},[t._m(9),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.LegalPerson,expression:"model.LegalPerson"}],ref:"LegalPerson",staticClass:"reg-input input",attrs:{id:"LegalPerson",name:"LegalPerson",type:"text",placeholder:"请输入法人代表"},domProps:{value:t.model.LegalPerson},on:{focus:function(e){return t.ns.LegalPerson.select(1)},blur:function(e){return t.ns.LegalPerson.select(0)},input:function(e){e.target.composing||t.$set(t.model,"LegalPerson",e.target.value)}}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.LegalPerson.msg))])])]),a("li",[a("label",[t._v("员工人数：")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.EmployNum,expression:"model.EmployNum"}],attrs:{name:"EmployNum",id:"EmployNum"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"EmployNum",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"1"}},[t._v("5 人以下")]),a("option",{attrs:{value:"2"}},[t._v("5 - 10 人")]),a("option",{attrs:{value:"3"}},[t._v("11 - 50 人")]),a("option",{attrs:{value:"4"}},[t._v("51 - 100 人")]),a("option",{attrs:{value:"5"}},[t._v("101 - 500 人")]),a("option",{attrs:{value:"6"}},[t._v("501 - 1000 人")]),a("option",{attrs:{value:"7"}},[t._v("1000 人以上")])])]),a("li",{class:t.ns.Establishment.classValue},[a("label",[t._v("成立年份：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Establishment,expression:"model.Establishment"}],ref:"Establishment",staticClass:"reg-input input",attrs:{id:"Establishment",name:"Establishment",type:"text",placeholder:"请输入成立年份",size:"10"},domProps:{value:t.model.Establishment},on:{focus:function(e){return t.ns.Establishment.select(1)},blur:function(e){return t.ns.Establishment.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Establishment",e.target.value)}}}),a("p",{staticStyle:{"font-size":"12px",color:"#999"}},[t._v("请填写正整数,如 "+t._s((new Date).getFullYear()))]),t.ns.Establishment.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.Establishment.msg))])]):t._e()]),a("li",[a("label",[t._v("年营业额：")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.TurnOver,expression:"model.TurnOver"}],attrs:{name:"TurnOver",id:"TurnOver"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"TurnOver",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"1"}},[t._v("人民币 100 万元/年以下")]),a("option",{attrs:{value:"2"}},[t._v("人民币 100 万元/年 - 250万元/年")]),a("option",{attrs:{value:"3"}},[t._v("人民币 250 万元/年 - 500万元/年")]),a("option",{attrs:{value:"4"}},[t._v("人民币 500 万元/年 - 1000万元/年")]),a("option",{attrs:{value:"5"}},[t._v("人民币 1000 万元/年 - 5000万元/年")]),a("option",{attrs:{value:"6"}},[t._v("人民币 5000 万元/年 - 1 亿元/年")]),a("option",{attrs:{value:"7"}},[t._v("人民币 1 亿元/年以上")])])]),a("li",{class:t.ns.MainProducts.classValue},[t._m(10),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.MainProducts,expression:"model.MainProducts"}],attrs:{type:"hidden",name:"MainProducts"},domProps:{value:t.model.MainProducts},on:{input:function(e){e.target.composing||t.$set(t.model,"MainProducts",e.target.value)}}}),t._l(t.mainPros,(function(e,s){return a("label",{key:s,staticClass:"MainProducts"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.mainPros[s],expression:"mainPros[i]"}],ref:"MainProducts",refInFor:!0,domProps:{value:t.mainPros[s]},on:{focus:function(e){return t.ns.MainProducts.select(1)},blur:function(e){return t.ns.MainProducts.select(0)},input:function(e){e.target.composing||t.$set(t.mainPros,s,e.target.value)}}}),s?a("a",{on:{click:function(e){return t.mainPros.splice(s,1)}}},[t._v("[删除]")]):t._e()])})),a("a",{staticClass:"push-btn",on:{click:function(e){return t.mainPros.push("")}}},[t._v("[添加]")]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.MainProducts.msg))])])],2),a("li",{class:t.ns.CompanyBrief.classValue},[t._m(11),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.model.CompanyBrief,expression:"model.CompanyBrief"}],ref:"CompanyBrief",staticStyle:{width:"300px",height:"100px"},attrs:{id:"CompanyBrief",name:"CompanyBrief",placeholder:"请输入企业简介"},domProps:{value:t.model.CompanyBrief},on:{focus:function(e){return t.ns.CompanyBrief.select(1)},blur:function(e){return t.ns.CompanyBrief.select(0)},input:function(e){e.target.composing||t.$set(t.model,"CompanyBrief",e.target.value)}}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.CompanyBrief.msg))])])])]),t._m(12),a("ul",{staticClass:"reg-form"},[a("li",{class:t.ns.Phone_Area.classValue||t.ns.Phone_Number.classValue},[a("label",[t._v("固定电话：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Phone_Area,expression:"model.Phone_Area"}],ref:"Phone_Area",staticClass:"text",attrs:{id:"Phone_Area",name:"Phone_Area",placeholder:"3-4位区号",type:"text",size:"17"},domProps:{value:t.model.Phone_Area},on:{focus:function(e){return t.ns.Phone_Area.select(1)},blur:function(e){return t.ns.Phone_Area.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Phone_Area",e.target.value)}}}),t._v(" - "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Phone_Number,expression:"model.Phone_Number"}],ref:"Phone_Number",staticClass:"text",attrs:{id:"Phone_Number",name:"Phone_Number",type:"text",placeholder:"固定电话号码",size:"17"},domProps:{value:t.model.Phone_Number},on:{focus:function(e){return t.ns.Phone_Number.select(1)},blur:function(e){return t.ns.Phone_Number.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Phone_Number",e.target.value)}}}),t.ns.Phone_Area.msg||t.ns.Phone_Number.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.Phone_Area.msg||t.ns.Phone_Number.msg))])]):t._e()]),a("li",{class:t.ns.Fax_Area.classValue||t.ns.Fax_Number.classValue},[a("label",[t._v("传真：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Fax_Area,expression:"model.Fax_Area"}],ref:"Fax_Area",staticClass:"text",attrs:{id:"Fax_Area",name:"Fax_Area",type:"text",size:"17",placeholder:"3-4位区号"},domProps:{value:t.model.Fax_Area},on:{focus:function(e){return t.ns.Fax_Area.select(1)},blur:function(e){return t.ns.Fax_Area.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Fax_Area",e.target.value)}}}),t._v(" - "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Fax_Number,expression:"model.Fax_Number"}],ref:"Fax_Number",staticClass:"text",attrs:{id:"Fax_Number",name:"Fax_Number",type:"text",size:"17",placeholder:"传真号码"},domProps:{value:t.model.Fax_Number},on:{focus:function(e){return t.ns.Fax_Number.select(1)},blur:function(e){return t.ns.Fax_Number.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Fax_Number",e.target.value)}}}),t.ns.Fax_Area.msg||t.ns.Fax_Number.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.Fax_Area.msg||t.ns.Fax_Number.msg))])]):t._e()]),a("li",{class:t.ns.Contact_Address.classValue},[t._m(13),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Contact_Address,expression:"model.Contact_Address"}],ref:"Contact_Address",staticClass:"reg-input input",attrs:{id:"Contact_Address",name:"Contact_Address",type:"text",placeholder:"请输入详细地址"},domProps:{value:t.model.Contact_Address},on:{focus:function(e){return t.ns.Contact_Address.select(1)},blur:function(e){return t.ns.Contact_Address.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Contact_Address",e.target.value)}}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.Contact_Address.msg))])])]),a("li",{class:t.ns.PostCode.classValue},[a("label",[t._v("邮政编码：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.PostCode,expression:"model.PostCode"}],staticClass:"reg-input input",attrs:{id:"PostCode",name:"PostCode",type:"number",size:"10",placeholder:"请输入邮政编码"},domProps:{value:t.model.PostCode},on:{input:function(e){e.target.composing||t.$set(t.model,"PostCode",e.target.value)}}}),t.ns.PostCode.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.PostCode.msg))])]):t._e()]),a("li",{class:t.ns.LinkMan.classValue},[t._m(14),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.LinkMan,expression:"model.LinkMan"}],ref:"LinkMan",staticClass:"reg-input input",attrs:{id:"LinkMan",name:"LinkMan",type:"text",size:"30",placeholder:"请输入联系人"},domProps:{value:t.model.LinkMan},on:{focus:function(e){return t.ns.LinkMan.select(1)},blur:function(e){return t.ns.LinkMan.select(0)},input:function(e){e.target.composing||t.$set(t.model,"LinkMan",e.target.value)}}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.LinkMan.msg))])])]),t._m(15)])])]):t._e()])])]),a("footer_")],1)},Bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"process clearfix"},[a("li",{staticClass:"this"},[a("i",{staticClass:"number"},[t._v("1")]),a("i",{staticClass:"text"},[t._v("会员注册")]),a("b",{staticClass:"line"})]),a("li",{staticClass:"this"},[a("i",{staticClass:"number"},[t._v("2")]),a("i",{staticClass:"text"},[t._v("选择服务")]),a("b",{staticClass:"line"})]),a("li",{staticClass:"this"},[a("i",{staticClass:"number"},[t._v("3")]),a("i",{staticClass:"text"},[t._v("资料填写")]),a("b",{staticClass:"line"})]),a("li",[a("i",{staticClass:"number"},[t._v("4")]),a("i",{staticClass:"text"},[t._v("注册成功")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reg-data-title"},[a("span",[t._v("会员帐号信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[a("i",[t._v("*")]),t._v("用户名：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[a("i",[t._v("*")]),t._v("手机电话：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reg-data-title"},[a("span",[t._v("个人信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[a("i",[t._v("*")]),t._v("真实姓名：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reg-data-title"},[a("span",[t._v("公司信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[a("i",[t._v("*")]),t._v("所在地区：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[a("i",[t._v("*")]),t._v("企业类型：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[a("i",[t._v("*")]),t._v("法人代表：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[a("i",[t._v("*")]),t._v("主营产品：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[a("i",[t._v("*")]),t._v("企业简介：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reg-data-title"},[a("span",[t._v("联系信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[a("i",[t._v("*")]),t._v("详细地址：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[a("i",[t._v("*")]),t._v("联系人：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("input",{staticClass:"reg-btn",staticStyle:{cursor:"pointer"},attrs:{id:"btnsave",type:"submit",value:"同意服务条款，提交注册信息"}})])}];a("4de4");function Ot(t){var e=new kt({value:function(e){return t.model[e]},ref:function(e){return t.$refs[e]}});e.append({name:"Mobile",successMsg:"手机号码输入正确!",verify:function(){if(!/^1\d{10}$/g.test(this.value))return"手机号码输入错误！"}}),e.append({name:"Email",successMsg:"电子邮箱输入正确!",verify:function(){if(this.value&&!/^.+?@(.+?\.)+\w+$/g.test(this.value))return"电子邮箱输入错误！"}}),e.append({name:"TrueName",requiredMsg:"请输入真实姓名",successMsg:"真实姓名输入正确!",verify:function(){if(this.value.length<2)return"请输入真实姓名"}}),e.append({name:"Department",successMsg:"部门名称输入正确!"}),e.append({name:"JobTitle",successMsg:"职位输入正确!"}),e.append({name:"ProvinceID",successMsg:"已选择所在城市!",verify:function(){if(!parseInt(t.model.ProvinceID))return"请选择所在城市"}}),e.append({name:"CityID",successMsg:"已选择所在城市!"}),t.context.domain.key||(e.append({name:"CategoryID",successMsg:"已选择企业类型!",verify:function(){if(!parseInt(t.model.CategoryID))return"请选择企业类型"}}),e.append({name:"CategorizeID",successMsg:"已选择企业类型!"})),e.append({name:"LegalPerson",requiredMsg:"请输入公司法人",successMsg:"公司法人输入正确!",verify:function(){if(!/^([\u4E00-\u9FA5A-Za-z\s]+(·[\u4E00-\u9FA5A-Za-z]+)*$)+$/i.test(this.value))return"公司法人输入正确"}}),e.append({name:"Establishment",successMsg:"成立时间输入正确!",verify:function(){if(this.value&&!/^((19|20)\d{2})+$/g.test(this.value))return"时间格式输入错误"}}),e.append({name:"MainProducts",requiredMsg:"请输入主营产品",successMsg:"主营产品已输入!"}),e.append({name:"CompanyBrief",requiredMsg:"请输入公司简介",successMsg:"公司简介已输入!"}),e.append({name:"Phone_Area",successMsg:"固定电话已输入!",verify:function(){var e=0;if(t.model.Phone_Area&&(e|=2),t.model.Phone_Number&&(e|=4),e)return 6!=e?t.model.Phone_Area?"请输入7-8电话号码":"请输入3-4位区号，如：0592":/^(0\d{2,3})+$/g.test(t.model.Phone_Area)?/^(\d{7,8})+$/g.test(t.model.Phone_Number)?void 0:"请输入7-8电话号码":"请输入3-4位区号，如：0592"}}),e.append({name:"Phone_Number",successMsg:"固定电话已输入!",verify:function(){var e=0;if(t.model.Phone_Area&&(e|=2),t.model.Phone_Number&&(e|=4),e)return 6!=e?t.model.Phone_Area?"请输入7-8电话号码":"请输入3-4位区号，如：0592":/^(0\d{2,3})+$/g.test(t.model.Phone_Area)?/^(\d{7,8})+$/g.test(t.model.Phone_Number)?void 0:"请输入7-8电话号码":"请输入3-4位区号，如：0592"}}),e.append({name:"Fax_Number",successMsg:"传真已输入!",verify:function(){var e=0;if(t.model.Fax_Area&&(e|=2),t.model.Fax_Number&&(e|=4),e)return 6!=e?t.model.Fax_Area?"请输入7-8传真号码":"请输入3-4位区号，如：0592":/^(0\d{2,3})+$/g.test(t.model.Fax_Area)?/^(\d{7,8})+$/g.test(t.model.Fax_Number)?void 0:"请输入7-8传真号码":"请输入3-4位区号，如：0592"}}),e.append({name:"Fax_Area",successMsg:"传真已输入!",verify:function(){var e=0;if(t.model.Fax_Area&&(e|=2),t.model.Fax_Number&&(e|=4),e)return 6!=e?t.model.Fax_Area?"请输入7-8传真号码":"请输入3-4位区号，如：0592":/^(0\d{2,3})+$/g.test(t.model.Fax_Area)?/^(\d{7,8})+$/g.test(t.model.Fax_Number)?void 0:"请输入7-8传真号码":"请输入3-4位区号，如：0592"}}),e.append({name:"Contact_Address",requiredMsg:"请输入详细地址",successMsg:"详细地址已输入!",verify:function(){if(!/^(([\u4E00-\u9FA5A-Za-z0-9_]+(省|市|区|县|道|路|街|号)){1,}.*$)+$/.test(this.value))return"请输入详情地址"}}),e.append({name:"PostCode",successMsg:"邮政编码输入正确!",verify:function(){if(this.value&&!/^[0-9]{6}$/g.test(this.value))return"邮政编码输入错误！"}}),e.append({name:"LinkMan",requiredMsg:"请输入联系人",successMsg:"联系人已输入",verify:function(){if(!/^([\u4E00-\u9FA5A-Za-z\s]+(·[\u4E00-\u9FA5A-Za-z]+)*$)+$/i.test(this.value))return"请输入联系人"}});var a={},s=!0,n=!1,i=void 0;try{for(var r,o=e.getAll()[Symbol.iterator]();!(s=(r=o.next()).done);s=!0){var l=r.value;a[l.name]=l}}catch(c){n=!0,i=c}finally{try{s||null==o.return||o.return()}finally{if(n)throw i}}return a.state=e.state,t.ns=a,e}var Rt=0,Lt={inject:["context"],components:{footer_:M,header_:P},data:function(){return{model:{},mainPros:[""],area:[],categorys:[],categorizes:[],ns:null}},methods:{submit:function(){if(!this.v.verify())return!1;var t=this.model,e=this;f.a.post("/h_v1/ucenter/createByTempKey",t).then((function(t){t=t.data,t.status?alert(t.msg||"系统繁忙"):e.$router.push({name:"index"})})).catch((function(t){alert(t)}))},get:function(){var t=this;f.a.get("/h_v1/ucenter/gettempuser",{params:{domainId:this.context.domain.id,keyId:this.keyId}}).then((function(e){if(e=e.data,e.status)return alert(e.msg||"系统繁忙"),t.to(e.status);if(!e.result)return t.to("notexistsdata");var a=e.result.visitkey;if(e=e.result,t.model={UserName:e.UserName,CompanyName:e.CompanyName,Email:e.Email,Mobile:e.Mobile,visitkey:e.visitkey,DomainID:e.DomainID,keyID:e.keyID,Sex:"male",BusinessRole:"seller",BusinessNature:"私营",BusinessType:"制造商",EmployNum:1,TurnOver:1,CategoryID:0,CategorizeID:0,CityID:0,TownID:0,ProvinceID:0},a)var s=Rt=Object(h["setInterval"])((function(){if(s!=Rt)return clearInterval(s);f.a.post("/h_v1/visit/timethreeAdd",{keyID:a,second:5,curUrl:location.href})}),5e3)})).catch((function(e){alert(e),t.to("error")})),f.a.get("/h_v1/common/area").then((function(e){t.area=e.data})),f.a.get("/h_v1/common/categorys",{params:{domainId:t.context.domain.id}}).then((function(e){e&&e.data&&e.data.result&&(e=e.data.result,e.items||(e.items=[]),t.categorys=e,t.updateCategorizes())}))},updateCategorizes:function(){if(this.model){var t=!0,e=!1,a=void 0;try{for(var s,n=this.categorys[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var i=s.value;if(i.CategoryID==this.model.CategoryID){if(i.items){this.categorizes=i.items;var r=!0,o=!1,l=void 0;try{for(var c,u=i.items[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var m=c.value;if(m.CategorizeID==this.model.CategorizeID)return}}catch(v){o=!0,l=v}finally{try{r||null==u.return||u.return()}finally{if(o)throw l}}return void(this.model.CategorizeID=0)}var d=this;return f.a.get("/h_v1/common/categorizes",{params:{CategoryID:this.model.CategoryID,domainId:d.context.domain.id}}).then((function(t){if(t&&t.data&&t.data.result){d.categorizes=i.items=t.data.result;var e=!0,a=!1,s=void 0;try{for(var n,r=i.items[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var o=n.value;if(o.CategorizeID==d.model.CategorizeID)return}}catch(v){a=!0,s=v}finally{try{e||null==r.return||r.return()}finally{if(a)throw s}}}d.model.CategorizeID=0}))}}}catch(v){e=!0,a=v}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}this.categorizes=[]}},to:function(t){this.$router.replace({name:"login",query:{_:t}})}},created:function(){if(!this.keyId)return this.to("notKeyId");this.v=Ot(this),this.get()},computed:{keyId:function(){return this.$route.query.keyId},pl:function(){return this.area},cl:function(){var t=!0,e=!1,a=void 0;try{for(var s,n=this.area[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var i=s.value;if(i.code==this.model.ProvinceID)return i.items||[]}}catch(r){e=!0,a=r}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}return[]},tl:function(){var t=!0,e=!1,a=void 0;try{for(var s,n=this.cl[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var i=s.value;if(i.code==this.model.CityID)return i.items||[]}}catch(r){e=!0,a=r}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}return[]}},watch:{"model.ProvinceID":function(){parseInt(this.model.CityID/1e4)!=parseInt(this.model.ProvinceID/1e4)&&(this.model.CityID=0)},"model.CityID":function(){parseInt(this.model.TownID/100)!=parseInt(this.model.CityID/100)&&(this.model.TownID=0)},"model.CategoryID":function(){this.updateCategorizes()},mainPros:function(){this.model.MainProducts=this.mainPros.filter((function(t){return t})).join(",")}},beforeDestroy:function(){Rt&&clearInterval(Rt)}},Wt=Lt,Zt=(a("7436"),Object(m["a"])(Wt,Vt,Bt,!1,null,"766fa7c3",null)),Jt=Zt.exports,Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title clearfix"},[a("span",[t._v("模板中心")]),a("a",{staticClass:"active",attrs:{target:"_blank",href:"http://"+this.context.user.UserName+"."+this.context.domain.host}},[t._v("访问主页")])]),a("ifNotNull",{attrs:{isNull:!(this.items&&this.items.length),className:"template"}},[a("ul",{staticClass:"clearfix"},t._l(t.items,(function(e){return a("li",{key:e.ID,class:e.selected?"col-md-3 col-xs-6 active":"col-md-3 col-xs-6"},[a("div",{staticClass:"img"},[a("img",{attrs:{src:e.Photo,alt:e.Title},on:{click:function(a){return t.use(e)}}}),a("h3",[t._v("模板"+t._s(e.ID)+"套")])]),a("p",{staticClass:"t"},[a("a",{attrs:{target:"_blank",href:e.Photo}},[t._v("预览")]),t._v(" | "),a("a",{on:{click:function(a){return t.use(e)}}},[t._v("应用")])])])})),0),a("pager",{attrs:{model:this}})],1)],1)])},Kt=[],Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return this.list&&this.list.length>0?a("div",[a("div",{staticClass:"page"},[a("ul",{staticClass:"pagination"},[this.list.length&&1!=this.list[0].page?a("li",[t.useRLink?a("router-link",{attrs:{to:t.get(1)}},[t._v("«")]):a("a",{on:{click:function(e){return t.click(1)}}},[t._v("«")])],1):t._e(),t._l(this.list,(function(e){return a("li",{key:e.page,class:e.active?"active":""},[e.active?a("span",[t._v(t._s(e.page))]):t.useRLink?a("router-link",{attrs:{to:t.get(e.page)}},[t._v(t._s(e.page))]):a("a",{on:{click:function(a){return t.click(e.page)}}},[t._v(t._s(e.page))])],1)})),this.list.length&&this.list[this.list.length-1].page<this.endPage?a("li",[t.useRLink?a("router-link",{attrs:{to:t.get(this.endPage)}},[t._v("»")]):a("a",{on:{click:function(e){return t.click(t.endPage)}}},[t._v("»")])],1):t._e()],2)]),a("div",{staticClass:"s_pageNav"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"col-xs-5"},[a("div",{staticClass:"col-xs-6"},[this.page>2?a("p",{staticClass:"s_p_page go-first"},[t.useRLink?a("router-link",{attrs:{to:t.get(1)}},[a("i",{staticClass:"icon iconfont"},[t._v("")])]):a("a",{on:{click:function(e){return t.click(1)}}},[a("i",{staticClass:"icon iconfont"},[t._v("")])])],1):t._e()]),a("div",{staticClass:"col-xs-6"},[this.page>1?a("p",{staticClass:"s_p_page rotate"},[t.useRLink?a("router-link",{attrs:{to:t.get(this.prevPage)}},[a("i",{staticClass:"icon iconfont"},[t._v("")])]):a("a",{on:{click:function(e){return t.click(t.prevPage)}}},[a("i",{staticClass:"icon iconfont"},[t._v("")])])],1):t._e()])]),a("div",{staticClass:"col-xs-4"},[a("p",{staticClass:"p_pageText"},[t._v("第"+t._s(this.page)+"页")])]),a("div",{staticClass:"col-xs-3"},[this.nextPage>this.page?a("p",{staticClass:"s_p_page"},[t.useRLink?a("router-link",{staticClass:"changedown",attrs:{to:t.get(this.nextPage)}},[a("i",{staticClass:"icon iconfont"},[t._v("")])]):a("a",{staticClass:"changedown",on:{click:function(e){return t.click(t.nextPage)}}},[a("i",{staticClass:"icon iconfont"},[t._v("")])])],1):t._e()])])])]):t._e()},Gt=[],Yt={name:"pager",props:["model"],computed:{list:function(){var t=[],e=this.page,a=e<4?1:e-3,s=this.endPage;if(s<2)return t;for(var n=0;a<=s&&n<6;n++,a++)t.push({page:a,active:a==(this.model.page||1)});return t},endPage:function(){return parseInt(this.model.total/this.model.size)+(this.model.total%this.model.size==0?0:1)},useRLink:function(){return!this.$listeners.click},nextPage:function(){var t=this.page+1;return t>this.endPage?this.endPage:t},prevPage:function(){return this.page-1||1},page:function(){return parseInt(this.model.page)||1}},methods:{get:function(t){var e=this.$route,a={path:e.path,params:e.params,hash:e.hash,query:{}};if(e.query)for(var s in e.query)a.query[s]=e.query[s];return a.query.page=t,a},click:function(t){this.$emit("click",t)}}},Xt=Yt,te=Object(m["a"])(Xt,Ht,Gt,!1,null,null,null),ee=te.exports,ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:this.className},[this.isNull?a("div",{staticClass:"nodata"},[a("i"),a("p",[t._v("暂无数据")])]):t._t("default")],2)},se=[],ne={props:["isNull","className"]},ie=ne,re=Object(m["a"])(ie,ae,se,!1,null,null,null),oe=re.exports,le={components:{layout:tt,pager:ee,ifNotNull:oe},inject:["context"],data:function(){return{page:1,size:12,total:0,items:[]}},methods:{get:function(){var t=this,e=(this.$route.query||{}).page||1,a=this.page;f.a.get("/h_v1/template/pager",{params:{page:e,size:this.size}}).then((function(s){if(s=s.data,s.status)return alert(s.msg||"系统繁忙");if(t.page==a){if(t.page=e,s=s.result,s&&s.items){var n=!0,i=!1,r=void 0;try{for(var o,l=s.items[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var c=o.value;c.selected=c.ID==t.context.user.Template_Style}}catch(m){i=!0,r=m}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}}for(var u in s)t[u]=s[u]}})).catch((function(t){window.console&&console.error(t)}))},use:function(t){var e=this,a=t.ID;f.a.post("/h_v1/template/use",{id:a}).then((function(s){if(s=s.data,s.status)return alert(s.msg||"更新失败");if(alert(s.msg||"更新成功"),e.context.user.Template_Style=a,e.items){var n=!0,i=!1,r=void 0;try{for(var o,l=e.items[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var c=o.value;c.selected=!1}}catch(u){i=!0,r=u}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}}t.selected=!0})).catch((function(t){alert(t)}))}},created:function(){this.get()},watch:{$route:function(){this.get()}}},ce=le,ue=Object(m["a"])(ce,Qt,Kt,!1,null,null,null),me=ue.exports,de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title clearfix"},[a("span",[t._v("发票管理")]),a("router-link",{attrs:{to:{path:"invoice_app"}}},[t._v("申请开发票")]),a("a",{staticClass:"active"},[t._v("发票列表")])],1),a("div",{staticClass:"main-message"},[a("ifNotNull",{staticClass:"invoice-list",attrs:{isNull:!(this.items&&this.items.length)}},[a("ul",t._l(this.items,(function(e){return a("li",{key:e.ID,staticClass:"col-md-6"},[a("div",{staticClass:"desc"},[a("p",[a("span",[t._v("票抬抬头：")]),t._v(t._s(e.rise)),a("strong",[t._v(t._s(e.statusText))])]),a("p",[a("span",[t._v("税号：")]),t._v(t._s(e.taxNo))]),a("p",[a("span",[t._v("发票金额：")]),t._v(t._s(e.coin))]),a("p",[a("span",[t._v("开票时间：")]),t._v(t._s(t.dateFormat(e.addtime)))]),a("p",[a("span",[t._v("物流单：")]),t._v(t._s(e.resoin))])])])})),0),a("pager",{attrs:{model:this}})],1)],1)])])},ve=[],pe={components:{layout:tt,pager:ee,ifNotNull:oe},data:function(){return{page:1,size:4,total:0,items:[]}},methods:{get:function(){var t=this,e=(this.$route.query||{}).page||1,a=this.page;f.a.get("/h_v1/account/invoicelist",{params:{page:e,size:this.size}}).then((function(s){if(s=s.data,s.status)return alert(s.msg||"系统繁忙");if(t.page==a)for(var n in t.page=e,s=s.result,s)t[n]=s[n]})).catch((function(t){window.console&&console.error(t)}))},dateFormat:function(t){return nt()("yyyy-MM-dd",nt.a.parse("yyyy-MM-dd",t))}},created:function(){this.get()},watch:{$route:function(){this.get()}}},fe=pe,he=Object(m["a"])(fe,de,ve,!1,null,null,null),_e=he.exports,ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title clearfix"},[a("span",[t._v("申请开发票")]),a("a",{staticClass:"active"},[t._v("申请开发票")]),a("router-link",{attrs:{to:{path:"invoice"}}},[t._v("返回列表")])],1),a("div",{staticClass:"main-message"},[a("div",{staticClass:"add-form"},[this.model?a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("ul",[a("li",{staticClass:"clearfix mt10"},[a("label",[a("span",[t._v("*")]),t._v("用户类型：")]),t._l(t.uTypes,(function(e){return a("label",{key:e.name,staticClass:"uTypes"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.uType,expression:"model.uType"}],attrs:{type:"radio",name:"uType"},domProps:{value:e.value,checked:t._q(t.model.uType,e.value)},on:{change:function(a){return t.$set(t.model,"uType",e.value)}}}),t._v(t._s(e.name)+" ")])}))],2),a("li",{class:t.ns.coin.classValue+" clearfix mt10"},[a("label",[a("span",[t._v("*")]),t._v("发票金额：")]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.coin,expression:"model.coin"}],ref:"coin",staticClass:"com_input form-control w_210",attrs:{id:"invoiceAmout",type:"text",name:"invoiceAmout"},domProps:{value:t.model.coin},on:{focus:function(e){return t.ns.coin.select(1)},blur:function(e){return t.ns.coin.select(0)},input:function(e){e.target.composing||t.$set(t.model,"coin",e.target.value)}}})]),a("p",{staticStyle:{"font-size":"12px",color:"#666"}},[t._v("可开发票金额 "),a("span",{staticStyle:{color:"red"}},[t._v(t._s(this.amount))]),t._v("元")]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.coin.msg))])])]),a("li",{class:t.ns.rise.classValue+" clearfix mt10"},[a("label",[a("span",[t._v("*")]),t._v("发票抬头：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.rise,expression:"model.rise"}],ref:"rise",staticClass:"com_input form-control w_210",attrs:{id:"invoiceAmout",placeholder:"已经三证合一的企业，须填写统一社会信用代码",type:"text"},domProps:{value:t.model.rise},on:{focus:function(e){return t.ns.rise.select(1)},blur:function(e){return t.ns.rise.select(0)},input:function(e){e.target.composing||t.$set(t.model,"rise",e.target.value)}}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.rise.msg))])])]),t.model.uType?a("li",{class:t.ns.taxNo.classValue+" clearfix mt10 userType2tr"},[a("label",[a("span",[t._v("*")]),t._v("税务登记号：")]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.taxNo,expression:"model.taxNo"}],ref:"taxNo",staticClass:"com_input form-control",attrs:{id:"taxRegistNumber",type:"text",name:"taxRegistNumber"},domProps:{value:t.model.taxNo},on:{focus:function(e){return t.ns.taxNo.select(1)},blur:function(e){return t.ns.taxNo.select(0)},input:function(e){e.target.composing||t.$set(t.model,"taxNo",e.target.value)}}})]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.taxNo.msg))])])]):t._e(),a("li",{class:t.ns.mobile.classValue+" clearfix mt10"},[a("label",[a("span",[t._v("*")]),t._v("联系电话：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.mobile,expression:"model.mobile"}],ref:"mobile",staticClass:"com_input form-control  w_210",attrs:{type:"text",name:"linkPhone"},domProps:{value:t.model.mobile},on:{focus:function(e){return t.ns.mobile.select(1)},blur:function(e){return t.ns.mobile.select(0)},input:function(e){e.target.composing||t.$set(t.model,"mobile",e.target.value)}}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.mobile.msg))])])]),a("li",{class:t.ns.recevive.classValue+" clearfix mt10"},[a("label",[a("span",[t._v("*")]),t._v("收件人：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.recevive,expression:"model.recevive"}],ref:"recevive",staticClass:"com_input form-control  w_210",attrs:{type:"text",name:"linkPhone"},domProps:{value:t.model.recevive},on:{focus:function(e){return t.ns.recevive.select(1)},blur:function(e){return t.ns.recevive.select(0)},input:function(e){e.target.composing||t.$set(t.model,"recevive",e.target.value)}}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.recevive.msg))])])]),a("li",{class:t.ns.sentdress.classValue+" clearfix mt10"},[a("label",[a("span",[t._v("*")]),t._v("邮寄地址：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.sentdress,expression:"model.sentdress"}],ref:"sentdress",staticClass:"com_input form-control  w_210",attrs:{type:"text",name:"linkPhone"},domProps:{value:t.model.sentdress},on:{focus:function(e){return t.ns.sentdress.select(1)},blur:function(e){return t.ns.sentdress.select(0)},input:function(e){e.target.composing||t.$set(t.model,"sentdress",e.target.value)}}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.sentdress.msg))])])]),a("li",{staticClass:"clearfix mt10"},[a("label",{staticClass:"uTypes"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.isfault,expression:"model.isfault"}],attrs:{type:"checkbox",name:"isDefault",value:"1",id:"isDefault"},domProps:{checked:Array.isArray(t.model.isfault)?t._i(t.model.isfault,"1")>-1:t.model.isfault},on:{change:function(e){var a=t.model.isfault,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i="1",r=t._i(a,i);s.checked?r<0&&t.$set(t.model,"isfault",a.concat([i])):r>-1&&t.$set(t.model,"isfault",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.model,"isfault",n)}}}),t._v(" 设置为默认信息")])]),a("li",{staticClass:"clearfix mt10"},[a("label"),this.amount?a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"发票申请"}}):[t._v(" 当前没有可申请发票金额 ")]],2)])]):t._e()])])])])},ye=[];function Ce(t){var e=new kt({value:function(e){return t.model[e]},ref:function(e){return t.$refs[e]}});e.append({name:"coin",requiredMsg:"请输入开票金额：",successMsg:"开票金额已经输入!",verify:function(){return/^(([1-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/i.test(this.value)?t.model.coin>t.amount?"超过可开发金额":void 0:"请输入正确金额"}}),e.append({name:"rise",requiredMsg:"请输入发票抬头",successMsg:"发票抬头输入正确!",verify:function(){if(!/^([ A-Za-z0-9\u4e00-\u9fa5]{2,}$)+$/i.test(this.value))return"请输入正确发票抬头"}}),e.append({name:"taxNo",successMsg:"税务登记号输入正确!",verify:function(){if(t.model.uType){if(!this.value)return"请输入税务登记号";if(!/^[0-9a-zA-z_]{18}$/i.test(this.value))return"请输入正确税务登记号"}}}),e.append({name:"mobile",requiredMsg:"请输入联系电话",successMsg:"联系电话输入正确!",verify:function(){if(!/^(0?(13|14|15|17|18|19)[0-9]{9})+$/.test(this.value))return"联系电话格式错误"}}),e.append({name:"recevive",requiredMsg:"请输入收件人",successMsg:"收件人输入正确!",verify:function(){if(!/^([ A-Za-z\u4e00-\u9fa5]{2,}$)+$/i.test(this.value))return"请输入正确收件人"}}),e.append({name:"sentdress",requiredMsg:"请输入详情邮寄地址",successMsg:"邮寄地址输入正确!",verify:function(){if(!/^(([\u4E00-\u9FA5A-Za-z0-9_]+(省|市|区|县|道|路|街|号)){1,}.*$)+$/.test(this.value))return"请输入详情邮寄地址"}});var a={},s=!0,n=!1,i=void 0;try{for(var r,o=e.getAll()[Symbol.iterator]();!(s=(r=o.next()).done);s=!0){var l=r.value;a[l.name]=l}}catch(c){n=!0,i=c}finally{try{s||null==o.return||o.return()}finally{if(n)throw i}}return a.state=e.state,t.ns=a,e}var xe={components:{layout:tt},data:function(){return{uTypes:[{name:"企业",value:!0},{name:"个人",value:!1}],model:null,amount:0,ns:null}},methods:{submit:function(){if(!this.v.verify())return!1;f.a.post("/h_v1/account/invoice_app",this.model).then((function(t){if(t=t.data,t.status)return alert(t.msg||"系统繁忙");alert(t.msg||"申请成功")})).catch((function(t){alert(t)}))}},created:function(){this.v=Ce(this);var t=this;f.a.get("/h_v1/account/invoice_config").then((function(e){if(e=e.data,e.status)return alert(e.msg||"系统繁忙");e=e.result,e&&(t.model={uType:e.uType||!0,coin:null,isfault:!0,mobile:e.mobile||"",taxNo:e.taxNo||"",sentdress:e.sentdress||"",recevive:e.recevive||"",rise:e.rise||""},t.amount=e.amount)}))}},be=xe,we=Object(m["a"])(be,ge,ye,!1,null,null,null),Pe=we.exports,Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title clearfix"},[a("span",[t._v("支付记录")])]),a("ifNotNull",{attrs:{isNull:!(this.items&&this.items.length),className:"main-message pay-list"}},[a("div",{staticClass:"main-tit"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"col-md-3"},[t._v("支付项目")]),a("div",{staticClass:"col-md-3"},[t._v("支付金额")]),a("div",{staticClass:"col-md-3"},[t._v("支付时间")]),a("div",{staticClass:"col-md-3"},[t._v("支付方式")])])]),a("div",{staticClass:"main-body"},[a("ul",t._l(t.items,(function(e){return a("li",{key:e.id,staticClass:"clearfix"},[a("div",{staticClass:"col-md-3",attrs:{"data-label":"支付项目"}},[t._v(t._s(e.orderName))]),a("div",{staticClass:"col-md-3",attrs:{"data-label":"支付金额"}},[t._v("￥"+t._s(e.amount))]),a("div",{staticClass:"col-md-3",attrs:{"data-label":"支付时间"}},[t._v(t._s(t.dateFormat(e.dateline)))]),a("div",{staticClass:"col-md-3",attrs:{"data-label":"支付方式"}},[t._v(t._s(e.payServiceText))])])})),0),a("pager",{attrs:{model:this}})],1)])],1)])},ke=[],Ne={components:{layout:tt,pager:ee,ifNotNull:oe},data:function(){return{page:1,size:10,total:0,items:[]}},methods:{get:function(){var t=this,e=(this.$route.query||{}).page||1,a=this.page;f.a.get("/h_v1/account/paylist",{params:{page:e,size:this.size}}).then((function(s){if(s=s.data,s.status)return alert(s.msg||"系统繁忙");if(t.page==a)for(var n in t.page=e,s=s.result,s)t[n]=s[n]})).catch((function(t){window.console&&console.error(t)}))},dateFormat:function(t){return nt()("yyyy-MM-dd",nt.a.parse("yyyy-MM-dd",t))}},created:function(){this.get()},watch:{$route:function(){this.get()}}},De=Ne,$e=Object(m["a"])(De,Ie,ke,!1,null,null,null),Me=$e.exports,Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",{attrs:{authFilter:!1}},[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title clearfix"},[a("span",[t._v("续费升级")])]),a("div",{staticClass:"main-message portlet-body"},[a("ul",{staticClass:"clearfix row portlet-body-ul"},t._l(t.items,(function(e){return a("li",{key:e.id,class:e.selected?"col-md-4 active":"col-md-4",on:{click:function(a){return t.sel(e)}}},[a("div",{staticClass:"portlet-info"},[a("em",{staticClass:"menu-corner"}),a("h3",[t._v(t._s(e.name))]),a("div",{staticClass:"price"},[a("span",[t._v("￥")]),a("strong",[t._v(t._s(e.amount))])]),a("div",{staticClass:"time"},[t._v(t._s(e.num)+t._s(e.unitName))])])])})),0),this.curr&&this.tinfo?a("div",{staticClass:"pay-style"},[a("h6",[t._v("扫码支付")]),a("div",{staticClass:"detail-main"},[a("p",[a("span",[t._v("账户名：")]),t._v(t._s(t.tinfo.UserName))]),a("p",[a("span",[t._v("应付金额：")]),a("strong",[t._v("￥"+t._s(t.curr.amount))])]),a("p",[a("span",[t._v("交易名称：")]),a("em",{staticClass:"name"},[t._v(t._s(t.curr.name))])]),a("p",[a("span",[t._v("交易平台：")]),t._v(t._s(this.context.domain.name))])]),a("div",{staticClass:"payTab"},[a("ul",{staticClass:"clearfix"},t._l(t.payModes,(function(e){return a("li",{key:e.value,class:e.selected?"active":"",on:{click:function(a){return t.selPayModel(e)}}},[t._v(t._s(e.name)+"支付")])})),0)]),a("div",{staticClass:"pay-code"},[a("div",{staticClass:"clearfix pay-code-li"},[a("div",{staticClass:"col-md-6 text-right"},[a("img",{attrs:{src:this.context.styleUrl("images/"+t.currPayMode.img+".png")}})]),a("div",{staticClass:"col-md-6"},[a("p",[t._v("支付金额 : "),a("strong",{staticClass:"price"},[t._v("￥"+t._s(t.curr.amount))])]),a("p",[a("img",{attrs:{src:"/h_v1/account/renewal_PayQrCode?tempId="+t.tinfo.ID+"&id="+t.curr.id+"&payMode="+t.currPayMode.value+"&isReg=false"}})])])])])]):t._e()])])])},ze=[],Te={components:{layout:tt},inject:["context"],data:function(){return{items:[],curr:null,tinfo:null,payModes:[{name:"支付宝",selected:!0,value:1,img:"alipay"},{name:"微信",selected:!1,value:2,img:"wxpay"}]}},methods:{get:function(){var t=this;f.a.get("/h_v1/account/RenewalMemberPacks").then((function(e){if(e=e.data,e.status)return alert(e.msg||"系统繁忙");if(e.result){var a=!0,s=!1,n=void 0;try{for(var i,r=e.result[Symbol.iterator]();!(a=(i=r.next()).done);a=!0){var o=i.value;o.selected=!1}}catch(p){s=!0,n=p}finally{try{a||null==r.return||r.return()}finally{if(s)throw n}}}if(t.items=e.result,t.items){var l=!0,c=!1,u=void 0;try{for(var m,d=t.items[Symbol.iterator]();!(l=(m=d.next()).done);l=!0){var v=m.value;if(v.isDefalut){t.sel(v);break}}}catch(p){c=!0,u=p}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}}}))},sel:function(t){var e=!0,a=!1,s=void 0;try{for(var n,i=this.items[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var r=n.value;r.selected=!1}}catch(o){a=!0,s=o}finally{try{e||null==i.return||i.return()}finally{if(a)throw s}}t.selected=!0,this.curr||this.renewal(),this.curr=t},selPayModel:function(t){var e=!0,a=!1,s=void 0;try{for(var n,i=this.payModes[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var r=n.value;r.selected=!1}}catch(o){a=!0,s=o}finally{try{e||null==i.return||i.return()}finally{if(a)throw s}}t.selected=!0},renewal:function(){var t=this;f.a.post("/h_v1/account/renewal",{wsize_width:window.screen.width,wsize_height:window.screen.height,refUrl:t.context.referrer||document.referrer||"",curUrl:location.href}).then((function(e){if(e=e.data,e.status)return alert(e.msg||"系统繁忙");t.tinfo=e.result})).catch((function(t){window.console&&console.error(t)}))}},created:function(){this.get(),function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?be448355ccc5e594dd805f990a5ba070",document.body.appendChild(t)}()},computed:{currPayMode:function(){var t=!0,e=!1,a=void 0;try{for(var s,n=this.payModes[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var i=s.value;if(i.selected)return i}}catch(r){e=!0,a=r}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}return this.payModes[0]}}},Se=Te,Ee=Object(m["a"])(Se,Ae,ze,!1,null,null,null),Fe=Ee.exports,je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",{attrs:{authFilter:!1}},[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title clearfix"},[a("span",[t._v("安全认证")]),a("router-link",{staticClass:"active",attrs:{to:{path:"businesslicense"}}},[t._v("营业执照认证")]),a("router-link",{attrs:{to:{path:"idcard"}}},[t._v("实名认证")]),a("router-link",{attrs:{to:{path:"mobile"}}},[t._v("手机认证")])],1),a("div",{staticClass:"main-message"},[a("div",{staticClass:"add-form infoCont"},[a("AutoForm",{attrs:{method:"post",action:"/h_v1/auth/businesslicense_upload",enctype:"multipart/form-data"},on:{success:t.success}},[a("ul",[a("li",{class:t.ns.img.classValue+" clearfix"},[a("label",[t._v("营业执照照片"),a("i",[t._v("*")])]),a("div",{staticClass:"selecCont clearfix"},t._l(t.types,(function(e){return a("label",{key:e.value},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.type,expression:"model.type"}],attrs:{name:"type",checked:"checked",type:"radio"},domProps:{value:e.value,checked:t._q(t.model.type,e.value)},on:{change:function(a){return t.$set(t.model,"type",e.value)}}}),t._v(t._s(e.name))])})),0),a("div",{staticClass:"webuploader-pick business-pic",attrs:{id:"upload"}},[t.model.img?a("p",[a("img",{staticStyle:{"max-height":"200px","max-width":"100%"},attrs:{src:t.model.img}})]):t._e(),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.img,expression:"model.img"}],ref:"img",staticClass:"file-text",attrs:{type:"text",size:t.model.size,name:t.model.num,width:t.Fwidth,height:t.Fheight},domProps:{value:t.model.img},on:{focus:function(e){return t.ns.img.select(1)},blur:function(e){return t.ns.img.select(0)},input:function(e){e.target.composing||t.$set(t.model,"img",e.target.value)}}}),a("input",{staticClass:"uploadPic",attrs:{type:"file",name:"img",id:"img",accept:"image/*"},on:{change:function(e){return t.uploadImg(e)}}})]),a("div",{staticClass:"imgtip"},[a("p",[t._v(t._s(t.ns.img.msg))])]),a("p",{staticClass:"example"},[a("a",{staticClass:"exampleLink",on:{mouseover:function(e){return t.showDemo(1)}}},[t._v("查看示例")])])]),1==t.model.type?a("li",{class:t.ns.companyName.classValue+" clearfix"},[a("label",[t._v("公司名称"),a("i",[t._v("*")])]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.companyName,expression:"model.companyName"}],ref:"companyName",staticClass:"input form-control",attrs:{name:"companyName",type:"text",placeholder:"公司名称"},domProps:{value:t.model.companyName},on:{focus:function(e){return t.ns.companyName.select(1)},blur:function(e){return t.ns.companyName.select(0)},input:function(e){e.target.composing||t.$set(t.model,"companyName",e.target.value)}}})]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.companyName.msg))])])]):t._e(),a("li",{class:t.ns.legalPerson.classValue+" clearfix"},[1==t.model.type?a("label",[t._v("法人姓名"),a("i",[t._v("*")])]):t._e(),2==t.model.type?a("label",[t._v("经营者姓名"),a("i",[t._v("*")])]):t._e(),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.legalPerson,expression:"model.legalPerson"}],ref:"legalPerson",staticClass:"input form-control",attrs:{name:"legalPerson",type:"text",placeholder:"法人姓名"},domProps:{value:t.model.legalPerson},on:{focus:function(e){return t.ns.legalPerson.select(1)},blur:function(e){return t.ns.legalPerson.select(0)},input:function(e){e.target.composing||t.$set(t.model,"legalPerson",e.target.value)}}})]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.legalPerson.msg))])])]),a("li",{class:t.ns.number.classValue+" clearfix"},[a("label",{staticClass:"rzLef"},[t._v("统一社会信用代码或营业执照号"),a("i",[t._v("*")])]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.number,expression:"model.number"}],ref:"number",staticClass:"input form-control",attrs:{name:"number",type:"text",placeholder:"统一社会信用代码或营业执照号"},domProps:{value:t.model.number},on:{focus:function(e){return t.ns.number.select(1)},blur:function(e){return t.ns.number.select(0)},input:function(e){e.target.composing||t.$set(t.model,"number",e.target.value)}}})]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.number.msg))])])]),2==t.model.type?a("li",{class:t.ns.number2.classValue+" clearfix"},[a("label",[t._v("字号名称"),a("i",[t._v("*")])]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.number2,expression:"model.number2"}],ref:"number2",staticClass:"input form-control",attrs:{name:"number2",type:"text",placeholder:"字号名称"},domProps:{value:t.model.number2},on:{focus:function(e){return t.ns.number2.select(1)},blur:function(e){return t.ns.number2.select(0)},input:function(e){e.target.composing||t.$set(t.model,"number2",e.target.value)}}})]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.number2.msg))])])]):t._e(),t.model.cost?a("li",{staticClass:"clearfix"},[a("label",[t._v("认证费用")]),a("p",{staticClass:"clearfix"},[a("strong",{staticStyle:{color:"red"}},[t._v(t._s(t.model.cost))]),t._v("元")])]):t._e(),1!=t.model.status?a("li",{staticClass:"clearfix"},[a("label"),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit"},domProps:{value:t.model.cost?"提交资料并支付认证":this.model&&this.model.img?"重新申请认证":"申请认证"}})]):t._e()])]),a("div",{staticClass:"zzhiTip"},[a("p",[t._v("要求：")]),a("p",[t._v("· 营业执照四边角需清晰，信息完整，不能遮挡/涂抹/修改；")]),a("p",[t._v("· 营业执照如为复印件则必须加盖公章；")]),a("p",[t._v("· 营业执照图片需清晰；")]),a("p",[t._v("· 图片不可添加与备案信息无关的水印；")]),a("p",[t._v("· 必须为彩色扫描件或数码照片；")]),a("p",[t._v("· 必须为中国大陆工商局颁发；")]),a("p",[t._v("· 执照或副本必须在有效期内，且带有最新年检章（当前成立的公司"),a("br"),t._v(" 可以无年检章）；")]),a("p",[t._v("· 支持格式为,jpg/.jpeg/.png/.gif，大小不超过5M的图片。")])])],1)]),t.demo?a("layer",{attrs:{slot:"footer",width:"800px;",maxWidth:"80%"},on:{close:function(e){return t.showDemo(0)}},slot:"footer"},[a("div",{attrs:{id:"tipPic"}},[a("img",{attrs:{src:this.context.styleUrl("images/exampleimgNew.jpg")}})])]):t._e()],1),t.model.auditTime?a("div",{staticClass:"main-warp main-info",staticStyle:{"margin-top":"15px","min-height":"auto"}},[a("div",{staticClass:"main-title"},[a("span",[t._v("营业执照认证")])]),a("div",{staticClass:"main-message pay-list"},[a("div",{staticClass:"main-tit"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"col-md-1"},[t._v("类型")]),a("div",{staticClass:"col-md-2"},[t._v("名称")]),a("div",{staticClass:"col-md-2"},[t._v("营业执照号")]),a("div",{staticClass:"col-md-2"},[t._v("认证时间")]),a("div",{staticClass:"col-md-3"},[t._v("审核结果")]),a("div",{staticClass:"col-md-2"},[t._v("操作")])])]),a("div",{staticClass:"main-body"},[a("ul",[a("li",{staticClass:"clearfix"},[a("div",{staticClass:"col-md-1",attrs:{"data-label":"类型"}},[t._v(t._s((t.types.filter((function(e){return e.value==t.model.type}))[0]||{}).name))]),a("div",{staticClass:"col-md-2",attrs:{"data-label":"名称",title:t.model.companyName||t.model.number2}},[t._v(t._s(t.model.companyName||t.model.number2))]),a("div",{staticClass:"col-md-2",attrs:{"data-label":"营业执照号",title:t.model.number}},[t._v(t._s(t.model.number))]),a("div",{staticClass:"col-md-2",attrs:{"data-label":"认证时间"}},[t._v(t._s(t.dateFormat(t.model.auditTime)))]),a("div",{staticClass:"col-md-3",attrs:{"data-label":"审核结果"}},[a("span",{class:1==t.model.status?"text-primary":"text-danger"},[t._v(t._s(1==t.model.status?"认证通过":0==t.model.status?"等待认证":t.model.statusText||"认证失败"))])]),a("div",{staticClass:"col-md-2",attrs:{"data-label":"操作"}},[a("span",{staticClass:"text-danger"},[t._v("不可操作")])])])])])])]):t._e()])},qe=[],Ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{action:this.action,method:this.method,target:this.target,enctype:this.enctype},on:{submit:t.submit}},[t._t("default"),a("iframe",{ref:"target",staticStyle:{display:"none"},attrs:{name:this.target},on:{load:t.success}})],2)},Ve=[],Be={name:"AutoForm",props:["action","method","enctype"],data:function(){return{target:"_"+(new Date).getTime(),t1:0}},methods:{submit:function(){return this.t1=1,!0},success:function(){if(this.t1){this.t2=(new Date).getTime();var t=this.$refs.target.document||this.$refs.target.contentWindow.document,e=t.body.innerText;this.$emit("success",JSON.parse(e))}}}},Oe=Be,Re=Object(m["a"])(Oe,Ue,Ve,!1,null,null,null),Le=Re.exports;function We(t){var e=new kt({value:function(e){return t.model[e]},ref:function(e){return t.$refs[e]}});e.append({name:"img",requiredMsg:"请选择图片",successMsg:"已选择图片",verify:function(){var e=0;if(t.model.num&&(e|=1),1==e){if(!(t.model.size<5))return"请上传大小不超过5M图片";if(!(t.Fwidth>500))return"请上传宽度大于500px图片";if(!(t.Fheight>500))return"请上传高度大于500px图片"}}}),e.append({name:"companyName",successMsg:"公司名称输入正确!",verify:function(){if(1==t.model.type){if(!this.value)return"请输入公司名称";if(!/^([ A-Za-z0-9\u4e00-\u9fa5]{2,}$)+$/i.test(this.value))return"请输入公司名称"}}}),e.append({name:"legalPerson",requiredMsg:"请输姓名",successMsg:"姓名输入正确!",verify:function(){if(!/^([ A-Za-z\u4e00-\u9fa5]{2,}$)+$/i.test(this.value))return"请输入正确姓名"}}),e.append({name:"number",requiredMsg:"请输入社会信用代码或营业执照号",successMsg:"统一社会信用代码或营业执照号输入正确!",verify:function(){if(!/(^(?:(?![IOZSV])[\dA-Z]){2}\d{6}(?:(?![IOZSV])[\dA-Z]){10}$)|(^\d{15}$)/i.test(this.value))return"请输入社会信用代码或营业执照号"}}),e.append({name:"number2",successMsg:"字号名称输入正确!",verify:function(){if(2==t.model.type){if(!this.value)return"请输入字号名称";if(!/^([^`!@#$%^&*.<>])+$/.test(this.value))return"含有特殊字符"}}});var a={},s=!0,n=!1,i=void 0;try{for(var r,o=e.getAll()[Symbol.iterator]();!(s=(r=o.next()).done);s=!0){var l=r.value;a[l.name]=l}}catch(c){n=!0,i=c}finally{try{s||null==o.return||o.return()}finally{if(n)throw i}}return a.state=e.state,t.ns=a,e}var Ze={components:{layout:tt,AutoForm:Le,layer:L},inject:["context"],data:function(){return{model:{type:1},types:[{name:"企业",value:1},{name:"个体",value:2}],demo:0,ns:null,isUpload:!1,Fwidth:"",Fheight:""}},methods:{success:function(t){if(this.isUpload=!0,!this.v.verify())return!1;var e=this;return t.status?alert(t.msg||"提交失败"):t.result&&t.result.needPay?e.$router.push({path:"businesslicense_payment"}):(this.isUpload=!1,alert(t.msg||"提交成功"),this.init(),void e.context.refreshUser())},uploadImg:function(t){var e=t.target.files&&t.target.files.length&&t.target.files[0];if(e){this.model.size=e.size/1024/1024,this.isUpload=!0;var a=new FileReader;a.readAsDataURL(e);var s=this;a.onload=function(){s.model.img=s.img=this.result;var t=new Image;t.onload=function(){s.Fwidth=this.width,s.Fheight=this.height,s.model.num="1"},t.src=this.result}}},init:function(){var t=this;f.a.get("/h_v1/auth/businesslicense_state").then((function(e){e=e.data,e&&e.result&&(e.result.type||(e.result.type=1),t.model=e.result),t.model&&t.model.number||(t.demo=1)}))},showDemo:function(t){this.demo=t},dateFormat:function(t,e){return nt()(e||"yyyy-MM-dd",nt.a.parse("yyyy-MM-dd",t))}},created:function(){this.v=We(this),this.model.companyName=this.context.user.CompanyName,this.init()}},Je=Ze,Qe=(a("2471"),Object(m["a"])(Je,je,qe,!1,null,null,null)),Ke=Qe.exports,He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",{attrs:{authFilter:!1}},[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title"},[a("span",[t._v("安全认证")])]),a("div",{staticClass:"main-message portlet-body"},[a("div",{staticClass:"pay-style",staticStyle:{padding:"0"}},[a("div",{staticClass:"detail-main"},[a("p",[a("span",[t._v("账户名：")]),t._v(t._s(this.context.user.UserName))]),a("p",[a("span",[t._v("应付金额：")]),a("strong",[t._v("￥"+t._s(t.cost))])]),a("p",[a("span",[t._v("交易名称：")]),a("em",{staticClass:"name"},[t._v("营业执照认证")])]),a("p",[a("span",[t._v("交易平台：")]),t._v(t._s(this.context.domain.name))])]),a("div",{staticClass:"payTab"},[a("ul",{staticClass:"clearfix"},t._l(t.payModes,(function(e){return a("li",{key:e.value,class:t.currPayMode.value==e.value?"active":"",on:{click:function(a){return t.selPayModel(e)}}},[t._v(t._s(e.name)+"支付")])})),0)]),a("div",{staticClass:"pay-code"},[a("div",{staticClass:"clearfix pay-code-li"},[a("div",{staticClass:"col-md-6 text-right"},[a("img",{attrs:{src:t.context.styleUrl("images/"+t.currPayMode.img+".png")}})]),a("div",{staticClass:"col-md-6"},[a("p",[t._v("支付金额 : "),a("strong",{staticClass:"price"},[t._v("￥"+t._s(t.cost))])]),a("p",[a("img",{attrs:{src:"/h_v1/auth/BusinessLicense_PayQrCode?payMode="+t.currPayMode.value}})])])])])])])])])},Ge=[],Ye=0,Xe={components:{layout:tt},inject:["context"],data:function(){return{cost:0,payModes:[{name:"支付宝",selected:!0,value:1,img:"alipay"},{name:"微信",selected:!1,value:2,img:"wxpay"}]}},methods:{get:function(){var t=this;f.a.get("/h_v1/auth/BusinessLicense_cost").then((function(e){e=e.data,e&&e.result&&(t.cost=e.result.cost)}))},selPayModel:function(t){var e=!0,a=!1,s=void 0;try{for(var n,i=this.payModes[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var r=n.value;r.selected=!1}}catch(o){a=!0,s=o}finally{try{e||null==i.return||i.return()}finally{if(a)throw s}}t.selected=!0}},created:function(){this.get();var t=this,e=Ye=Object(h["setInterval"])((function(){if(e!=Ye)return clearInterval(e);f.a.get("/h_v1/auth/BusinessLicense_getPayState").then((function(e){if(e=e.data,e&&e.result&&e.result.isPay)return alert("付款成功，等待审核"),t.$router.push({path:"businesslicense"})}))}),3e3)},computed:{currPayMode:function(){var t=!0,e=!1,a=void 0;try{for(var s,n=this.payModes[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var i=s.value;if(i.selected)return i}}catch(r){e=!0,a=r}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}return this.payModes[0]}},beforeDestroy:function(){Ye&&clearInterval(Ye)}},ta=Xe,ea=Object(m["a"])(ta,He,Ge,!1,null,null,null),aa=ea.exports,sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",{attrs:{authFilter:!1}},[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title clearfix"},[a("span",[t._v("安全认证")]),a("router-link",{attrs:{to:{path:"businesslicense"}}},[t._v("营业执照认证")]),a("router-link",{staticClass:"active",attrs:{to:{path:"idcard"}}},[t._v("实名认证")]),a("router-link",{attrs:{to:{path:"mobile"}}},[t._v("手机认证")])],1),a("div",{staticClass:"main-message"},[a("div",{staticClass:"add-form infoCont"},[a("AutoForm",{attrs:{method:"post",action:"/h_v1/auth/idcard_upload",enctype:"multipart/form-data"},on:{success:t.success}},[a("ul",[a("li",{class:t.ns.facadeImage.classValue+" clearfix"},[a("label",[t._v("身份证正面照片"),a("i",[t._v("*")])]),a("div",{staticClass:"webuploader-pick frontPic",attrs:{id:"upload"}},[t.model.facadeImage?a("p",[a("img",{attrs:{src:t.model.facadeImage}})]):t._e(),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.facadeImage,expression:"model.facadeImage"}],ref:"facadeImage",staticClass:"uploadfile",attrs:{type:"text",id:"img",size:t.model.size,name:t.model.Fnum,width:t.Fwidth,height:t.Fheight},domProps:{value:t.model.facadeImage},on:{focus:function(e){return t.ns.facadeImage.select(1)},blur:function(e){return t.ns.facadeImage.select(0)},input:function(e){e.target.composing||t.$set(t.model,"facadeImage",e.target.value)}}}),a("input",{staticClass:"uploadPic",attrs:{type:"file",name:"facadeImage",accept:"image/*"},on:{change:function(e){return t.uploadImg(e)}}})]),a("div",{staticClass:"imgtip"},[a("p",[t._v(t._s(t.ns.facadeImage.msg))])])]),a("li",{class:t.ns.backImage.classValue+" clearfix"},[a("label",[t._v("身份证背面照片"),a("i",[t._v("*")])]),a("div",{staticClass:"webuploader-pick backPic",attrs:{id:"upload"}},[t.model.backImage?a("p",[a("img",{attrs:{src:t.model.backImage}})]):t._e(),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.backImage,expression:"model.backImage"}],ref:"backImage",staticClass:"uploadfile",attrs:{type:"text",id:"img",size:t.model.Bsize,name:t.model.Bnum,width:t.Bwidth,height:t.Bheight},domProps:{value:t.model.backImage},on:{focus:function(e){return t.ns.backImage.select(1)},blur:function(e){return t.ns.backImage.select(0)},input:function(e){e.target.composing||t.$set(t.model,"backImage",e.target.value)}}}),a("input",{staticClass:"uploadPic",attrs:{type:"file",name:"backImage",accept:"image/*"},on:{change:function(e){return t.upbackImage(e)}}})]),a("div",{staticClass:"imgtip"},[a("p",[t._v(t._s(t.ns.backImage.msg))])])]),a("li",{class:t.ns.name.classValue+" clearfix"},[a("label",[t._v("真实姓名"),a("i",[t._v("*")])]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.name,expression:"model.name"}],ref:"name",staticClass:"input form-control",attrs:{name:"name",autocomplete:"off",type:"text",placeholder:"真实姓名"},domProps:{value:t.model.name},on:{focus:function(e){return t.ns.name.select(1)},blur:function(e){return t.ns.name.select(0)},input:function(e){e.target.composing||t.$set(t.model,"name",e.target.value)}}})]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.name.msg))])])]),a("li",{class:t.ns.number.classValue+" clearfix"},[a("label",[t._v("身份证号码"),a("i",[t._v("*")])]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.model.number,expression:"model.number",modifiers:{lazy:!0}}],ref:"number",staticClass:"input form-control",attrs:{name:"number",autocomplete:"off",type:"text",placeholder:"身份证号码"},domProps:{value:t.model.number},on:{focus:function(e){return t.ns.number.select(1)},blur:function(e){return t.ns.number.select(0)},change:function(e){return t.$set(t.model,"number",e.target.value)}}})]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.number.msg))])])]),a("li",{staticClass:"clearfix"},[a("label"),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit"},domProps:{value:this.model&&this.model.facadeImage?"重新申请认证":"申请认证"}})])]),a("div",{staticClass:"rzTip"},[a("p",[t._v(" 要求："),a("br"),t._v(" · 身份证四边角需清晰，信息完整，不能遮挡/涂抹/修改；"),a("br"),t._v(" · 签发机关与身份证正面照片住址需一致；"),a("br"),t._v(" · 图片需清晰；"),a("br"),t._v(" · 身份证必须在有效期内；"),a("br"),t._v(" · 临时身份证无效；"),a("br"),t._v(" · 支持格式为,jpg/.jpeg/.png/.gif，大小不超过5M的图片； ")])])])],1)])]),t.model.auditTime?a("div",{staticClass:"main-warp main-info",staticStyle:{"margin-top":"15px","min-height":"auto"}},[a("div",{staticClass:"main-title"},[a("span",[t._v("账号实名认证")])]),a("div",{staticClass:"main-message pay-list"},[a("div",{staticClass:"main-tit"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"col-md-2"},[t._v("姓名")]),a("div",{staticClass:"col-md-3"},[t._v("身份证号码")]),a("div",{staticClass:"col-md-2"},[t._v("认证时间")]),a("div",{staticClass:"col-md-3"},[t._v("审核结果")]),a("div",{staticClass:"col-md-2"},[t._v("操作")])])]),a("div",{staticClass:"main-body"},[a("ul",[a("li",{staticClass:"clearfix"},[a("div",{staticClass:"col-md-2",attrs:{"data-label":"姓名"}},[t._v(t._s(t.model.name))]),a("div",{staticClass:"col-md-3",attrs:{"data-label":"身份证号码"}},[t._v(t._s(t.model.number))]),a("div",{staticClass:"col-md-2",attrs:{"data-label":"认证时间"}},[t._v(t._s(t.dateFormat(t.model.auditTime)))]),a("div",{staticClass:"col-md-3",attrs:{"data-label":"审核结果"}},[a("span",{class:1==t.model.status?"text-primary":"text-danger"},[t._v(t._s(1==t.model.status?"认证通过":0==t.model.status?"等待认证":t.model.statusText||"认证失败"))])]),a("div",{staticClass:"col-md-2",attrs:{"data-label":"操作"}},[a("span",{staticClass:"text-danger"},[t._v("不可操作")])])])])])])]):t._e()])},na=[];function ia(t){var e=new kt({value:function(e){return t.model[e]},ref:function(e){return t.$refs[e]}});e.append({name:"name",requiredMsg:"请输入真实姓名",successMsg:"真实姓名输入正确!",verify:function(){if(!/^([ A-Za-z\u4e00-\u9fa5]{2,}$)+$/i.test(this.value))return"请输入真实姓名"}}),e.append({name:"number",requiredMsg:"请输入身份证号码",successMsg:"身份证号码输入正确!",verify:function(){if(!/^\d{17}[\dX]$/i.test(this.value))return"请输入正确的身份证号码"}}),e.append({name:"facadeImage",requiredMsg:"请选择图片",verify:function(){var e=0;if(t.model.Fnum&&(e|=1),1==e){if(!(t.model.size<5))return"请上传大小不超过5M图片";if(!(t.Fwidth>500))return"请上传宽度大于500px图片";if(!(t.Fheight>500))return"请上传高度大于500px图片"}}}),e.append({name:"backImage",requiredMsg:"请选择图片",verify:function(){var e=0;if(t.model.Bnum&&(e|=1),1==e){if(!(t.model.Bsize<5))return"请上传大小不超过5M图片";if(!(t.Bwidth>500))return"请上传宽度大于500px图片";if(!(t.Bheight>500))return"请上传高度大于500px图片"}}});var a={},s=!0,n=!1,i=void 0;try{for(var r,o=e.getAll()[Symbol.iterator]();!(s=(r=o.next()).done);s=!0){var l=r.value;a[l.name]=l}}catch(c){n=!0,i=c}finally{try{s||null==o.return||o.return()}finally{if(n)throw i}}return a.state=e.state,t.ns=a,e}var ra={components:{layout:tt,AutoForm:Le},inject:["context"],data:function(){return{model:{},ns:null,isUpload:!1,isBUpload:!1,facadeImage:"",isbackImage:!1,backImage:"",Fwidth:"",Fheight:"",Bwidth:"",Bheight:""}},methods:{success:function(t){if(!this.v.verify())return!1;var e=this;if(t.status)return alert(t.msg||"提交失败");alert(t.msg||"提交成功"),this.init(),e.context.refreshUser()},uploadImg:function(t){var e=t.target.files&&t.target.files.length&&t.target.files[0];if(e){this.isUpload=!0,this.model.size=e.size/1024/1024;var a=new FileReader;a.readAsDataURL(e);var s=this;a.onload=function(){s.model.facadeImage=s.facadeImage=this.result;var t=new Image;t.onload=function(){s.Fwidth=this.width,s.Fheight=this.height,s.model.Fnum="1"},t.src=this.result}}},upbackImage:function(t){var e=t.target.files&&t.target.files.length&&t.target.files[0];if(e){this.isBUpload=!0,this.model.Bsize=e.size/1024/1024;var a=new FileReader;a.readAsDataURL(e);var s=this;a.onload=function(){s.model.backImage=s.backImage=this.result;var t=new Image;t.onload=function(){s.Bwidth=this.width,s.Bheight=this.height,s.model.Bnum="1"},t.src=this.result}}},init:function(){var t=this;f.a.get("/h_v1/auth/idcard_state").then((function(e){e=e.data,e&&e.result&&(t.model=e.result)}))},dateFormat:function(t,e){return nt()(e||"yyyy-MM-dd",nt.a.parse("yyyy-MM-dd",t))}},created:function(){this.v=ia(this),this.init()}},oa=ra,la=Object(m["a"])(oa,sa,na,!1,null,null,null),ca=la.exports,ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",{attrs:{authFilter:!1}},[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title"},[a("span",[t._v("安全认证")]),a("router-link",{attrs:{to:{path:"businesslicense"}}},[t._v("营业执照认证")]),a("router-link",{attrs:{to:{path:"idcard"}}},[t._v("实名认证")]),a("router-link",{staticClass:"active",attrs:{to:{path:"mobile"}}},[t._v("手机认证")])],1),a("div",{staticClass:"main-message"},[a("div",{staticClass:"add-form"},[a("ul",[a("li",{class:t.ns.mobile.classValue+" clearfix"},[a("label",[t._v("手机号码")]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.mobile,expression:"model.mobile"}],ref:"mobile",staticClass:"input form-control",attrs:{type:"text",autocomplete:"off",placeholder:"请填写真实有效的手机号码!"},domProps:{value:t.model.mobile},on:{focus:function(e){return t.ns.mobile.select(1)},blur:function(e){return t.ns.mobile.select(0)},input:function(e){e.target.composing||t.$set(t.model,"mobile",e.target.value)}}})]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.mobile.msg))])])]),a("li",{class:t.ns.verifyCode.classValue+" clearfix"},[a("label",[t._v("验证码号码")]),a("div",{staticClass:"iBox clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.verifyCode,expression:"model.verifyCode"}],ref:"verifyCode",staticClass:"VerText reg-input input",staticStyle:{height:"40px"},attrs:{type:"text",autocomplete:"off",name:"ValidKeySJ",id:"verifiyCode",tabindex:"4",placeholder:"请输入短信验证码"},domProps:{value:t.model.verifyCode},on:{focus:function(e){return t.ns.verifyCode.select(1)},blur:function(e){return t.ns.verifyCode.select(0)},input:function(e){e.target.composing||t.$set(t.model,"verifyCode",e.target.value)}}}),a("button",{staticClass:"VerBtn VerGrayBtn",attrs:{type:"button",tabindex:"5",id:"btnGetCheckCode"},on:{click:t.getVerifyCode}},[t._v("获取短信验证码")])]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.verifyCode.msg))])])]),a("li",{staticClass:"clearfix"},[a("label"),a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:1==t.model.status?"更换手机号码":"申请认证"},on:{click:t.submit}})])])])])])])},ma=[];function da(t){var e=new kt({value:function(e){return t.model[e]},ref:function(e){return t.$refs[e]}});e.append({name:"mobile",requiredMsg:"请输入手机号码",successMsg:"手机号码输入正确!",verify:function(){if(!/^(0?(13|14|15|17|18|19)[0-9]{9})+$/.test(this.value))return"手机号码格式错误"}}),e.append({name:"verifyCode",requiredMsg:"请输入4位验证码",successMsg:"验证码输入正确!"});var a={},s=!0,n=!1,i=void 0;try{for(var r,o=e.getAll()[Symbol.iterator]();!(s=(r=o.next()).done);s=!0){var l=r.value;a[l.name]=l}}catch(c){n=!0,i=c}finally{try{s||null==o.return||o.return()}finally{if(n)throw i}}return a.state=e.state,t.ns=a,e}var va={components:{layout:tt},inject:["context"],data:function(){return{model:{},ns:null}},methods:{submit:function(){if(!this.v.verify())return!1;var t=this;f.a.post("/h_v1/auth/mobile_check",this.model).then((function(e){e=e.data,alert(e.msg||(e.status?"系统繁忙":"认证成功")),t.context.refreshUser()}))},init:function(){var t=this;f.a.get("/h_v1/auth/mobile_state").then((function(e){e=e.data,e&&e.result&&(e.result.verifyCode="",t.model=e.result)}))},getVerifyCode:function(){f.a.post("/h_v1/auth/mobile_sendVerifyCode",{mobile:this.model.mobile}).then((function(t){t=t.data,alert(t.msg||(t.status?"系统繁忙":"验证码已发送"))}))}},created:function(){this.v=da(this),this.init()}},pa=va,fa=Object(m["a"])(pa,ua,ma,!1,null,null,null),ha=fa.exports,_a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title clearfix"},[a("span",[t._v("意见反馈")]),a("router-link",{attrs:{to:{path:"./list"}}},[t._v("返回列表")])],1),a("div",{staticClass:"main-message"},[a("div",{staticClass:"add-form"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("ul",[a("li",{class:t.ns.Title.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("意见标题：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Title,expression:"model.Title"}],ref:"Title",staticClass:"com_input form-control w_210",attrs:{autocomplete:"off",placeholder:"请输入长度大于等于6的中文或英文",type:"text",name:"invoiceAmout"},domProps:{value:t.model.Title},on:{focus:function(e){return t.ns.Title.select(1)},blur:function(e){return t.ns.Title.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Title",e.target.value)}}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.Title.msg))])])]),a("li",{class:t.ns.Content.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("意见描述：")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.model.Content,expression:"model.Content"}],ref:"Content",staticClass:"com_input form-control",attrs:{rows:"5",autocomplete:"off",name:"makr",placeholder:"请输入长度大于等于12的中文或英文"},domProps:{value:t.model.Content},on:{focus:function(e){return t.ns.Content.select(1)},blur:function(e){return t.ns.Content.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Content",e.target.value)}}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.Content.msg))])])]),a("li",{class:t.ns.Mobile.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("手机号码")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Mobile,expression:"model.Mobile"}],ref:"Mobile",staticClass:"com_input  form-control w_210",attrs:{autocomplete:"off",type:"text",name:"linkPhone",placeholder:"请输入11位手机号码"},domProps:{value:t.model.Mobile},on:{focus:function(e){return t.ns.Mobile.select(1)},blur:function(e){return t.ns.Mobile.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Mobile",e.target.value)}}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.Mobile.msg))])])]),a("li",{class:t.ns.Email.classValue+" clearfix"},[a("label",[t._v("邮箱：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Email,expression:"model.Email"}],ref:"Email",staticClass:"com_input  form-control w_210",attrs:{autocomplete:"off",type:"email",name:"linkEmail"},domProps:{value:t.model.Email},on:{focus:function(e){return t.ns.Email.select(1)},blur:function(e){return t.ns.Email.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Email",e.target.value)}}}),t.ns.Email.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.Email.msg))])]):t._e()]),a("li",{staticClass:"clearfix"},[a("label"),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"提交意见"}})])])])])])])])},ga=[];function ya(t){var e=new kt({value:function(e){return t.model[e]},ref:function(e){return t.$refs[e]}});e.append({name:"Title",requiredMsg:"请输入意见标题",successMsg:"意见标题输入正确!",verify:function(){return/^([ A-Za-z\u4e00-\u9fa5]{2,}$)+$/i.test(this.value)?/^([^`!@#$%^&*.<>])+$/.test(this.value)?void 0:"意见标题含有特殊字符^`!@#$%^&*.":"请输入大于2字符意见标题"}}),e.append({name:"Content",requiredMsg:"请输入意见描述",successMsg:"意见描述：输入正确!",verify:function(){return this.value.length<6?"请输入大于6字符意见描述":/^([^`!@#$%^&*.<>])+$/.test(this.value)?void 0:"意见描述含有特殊字符^`!@#$%^&*."}}),e.append({name:"Mobile",requiredMsg:"请输入11位手机号码",successMsg:"手机号码输入正确!",verify:function(){if(!/^(0?(13|14|15|17|18|19)[0-9]{9})+$/.test(this.value))return"手机号码格式错误"}}),e.append({name:"Email",successMsg:"电子邮箱输入正确!",verify:function(){if(this.value&&!/^([a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$)+$/.test(this.value))return"电子邮箱格式错误"}});var a={},s=!0,n=!1,i=void 0;try{for(var r,o=e.getAll()[Symbol.iterator]();!(s=(r=o.next()).done);s=!0){var l=r.value;a[l.name]=l}}catch(c){n=!0,i=c}finally{try{s||null==o.return||o.return()}finally{if(n)throw i}}return a.state=e.state,t.ns=a,e}var Ca={components:{layout:tt},data:function(){return{model:{},ns:null}},methods:{submit:function(){return!!this.v.verify()&&(f.a.post("/h_v1/feedback/add",this.model).then((function(t){if(t=t.data,t.status)return alert(t.msg||"保存失败");alert(t.msg||"保存成功")})).catch((function(t){alert(t)})),!1)}},created:function(){this.v=ya(this)}},xa=Ca,ba=Object(m["a"])(xa,_a,ga,!1,null,null,null),wa=ba.exports,Pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title clearfix"},[a("span",[t._v("意见反馈")]),a("router-link",{attrs:{to:{path:"./add"}}},[t._v("提交反馈意见")])],1),a("ifNotNull",{attrs:{isNull:!(this.items&&this.items.length),className:"main-message pay-list feedback-list"}},[a("div",{staticClass:"main-tit"},[a("div",{staticClass:"clearfix"},[a("p",{staticClass:"col-md-2"},[t._v("意见类型")]),a("p",{staticClass:"col-md-4"},[t._v("意见描述")]),a("p",{staticClass:"col-md-2"},[t._v("意见状态")]),a("p",{staticClass:"col-md-2"},[t._v("更新时间")]),a("p",{staticClass:"col-md-2"},[t._v("操作")])])]),a("div",{staticClass:"main-body"},[a("ul",t._l(t.items,(function(e){return a("li",{key:e.MessageID,staticClass:"clearfix"},[a("div",{staticClass:"col-md-2",attrs:{"data-label":"意见类型"}},[t._v(t._s(e.Title))]),a("div",{staticClass:"col-md-4",attrs:{"data-label":"意见描述"}},[a("p",[t._v(t._s(e.Content))])]),a("div",{staticClass:"col-md-2",attrs:{"data-label":"意见状态"}},[t._v(t._s(e.isRead?"已处理":"待处理"))]),a("div",{staticClass:"col-md-2",attrs:{"data-label":"更新时间"}},[t._v(t._s(t.dateFormat(e.idate)))]),a("div",{staticClass:"col-md-2",attrs:{"data-label":"操作"}},[a("a",{on:{click:function(a){return t.del(e.MessageID)}}},[t._v("删除")])])])})),0),a("pager",{attrs:{model:this}})],1)])],1)])},Ia=[],ka={components:{layout:tt,pager:ee,ifNotNull:oe},inject:["context"],data:function(){return{page:1,size:10,total:0,items:[]}},methods:{get:function(){var t=this,e=(this.$route.query||{}).page||1,a=this.page;f.a.get("/h_v1/feedback/pager",{params:{page:e,size:this.size}}).then((function(s){if(s=s.data,s.status)return alert(s.msg||"系统繁忙");if(t.page==a)for(var n in t.page=e,s=s.result,s)t[n]=s[n]})).catch((function(t){window.console&&console.error(t)}))},del:function(t){var e=this;f.a.post("/h_v1/feedback/delete",{id:t}).then((function(t){if(t=t.data,t.status)return alert(t.msg||"删除失败");alert(t.msg||"删除成功"),e.get()})).catch((function(t){alert(t)}))},dateFormat:function(t){return nt()("yyyy-MM-dd",nt.a.parse("yyyy-MM-dd",t))}},created:function(){this.get()},watch:{$route:function(){this.get()}}},Na=ka,Da=Object(m["a"])(Na,Pa,Ia,!1,null,null,null),$a=Da.exports,Ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title clearfix"},[a("span",[t._v("添加"+t._s(this.title))]),a("a",{staticClass:"active"},[t._v("添加"+t._s(this.title))]),a("router-link",{attrs:{to:{path:"list",query:{typeId:this.typeId}}}},[t._v(t._s(this.title))])],1),a("div",{staticClass:"main-message"},[a("div",{staticClass:"add-form"},[a("AutoForm",{attrs:{method:"post",enctype:"multipart/form-data",action:"/h_v1/image/add"},on:{success:t.success}},[t.config?a("div",{staticClass:"tip"},[a("p",[t._v("您的图片库中可显示("),a("strong",{staticStyle:{cursor:"pointer",color:"Blue"}},[t._v(t._s(t.config.allowPostCount))]),t._v(")条图片,当前您已存储了("),a("strong",{staticStyle:{cursor:"pointer",color:"Blue"}},[t._v(t._s(t.config.count))]),t._v(")条信息!")])]):t._e(),a("ul",[a("li",{class:t.ns.name.classValue+" clearfix"},[a("label",[t._v("图片名称")]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.name,expression:"model.name"}],ref:"name",staticClass:"input form-control",attrs:{name:"name",autocomplete:"off",type:"text",maxlength:"256",placeholder:"请输入4到256字符的中文/数字/字母"},domProps:{value:t.model.name},on:{focus:function(e){return t.ns.name.select(1)},blur:function(e){return t.ns.name.select(0)},input:function(e){e.target.composing||t.$set(t.model,"name",e.target.value)}}})]),t.ns.name.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.name.msg))])]):t._e()]),a("li",{class:t.ns.img.classValue+" clearfix"},[a("label",[t._v("上传图片")]),a("p",{directives:[{name:"show",rawName:"v-show",value:t.isUpload,expression:"isUpload"}]},[a("img",{staticStyle:{"max-height":"200px","max-width":"100%"},attrs:{src:t.img}})]),a("div",{staticClass:"mt10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.img,expression:"model.img"}],ref:"img",staticClass:"uploadfile",attrs:{type:"text",name:"img",id:"img"},domProps:{value:t.model.img},on:{focus:function(e){return t.ns.img.select(1)},blur:function(e){return t.ns.img.select(0)},input:function(e){e.target.composing||t.$set(t.model,"img",e.target.value)}}}),a("div",{staticClass:"upload",attrs:{id:"upload"}},[a("input",{staticClass:"uploadfile",attrs:{type:"file",name:"img",id:"img",accept:".jpg,.gif,.png,.bmp",multiple:"multiple"},on:{change:function(e){return t.uploadImg(e)}}})])]),a("div",{staticClass:"onshow"},[t._v('图片格式支持.jpg，.gif，.png，不超过500k 大约 "480×360px')]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.img.msg))])])]),a("li",{staticClass:"clearfix"},[a("label"),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"上传图片"}})])]),a("input",{attrs:{type:"hidden",name:"typeId"},domProps:{value:this.typeId}})])],1)])])])},Aa=[];a("c975");function za(t){var e=new kt({value:function(e){return t.model[e]},ref:function(e){return t.$refs[e]}});e.append({name:"name",successMsg:"产品名称输入正确!",verify:function(){if(this.value){if(this.value.length>256)return"超过256字符";if(!/^([ A-Za-z0-9\u4e00-\u9fa5]{2,}$)+$/i.test(this.value))return"请输入大于2个字符产品名称"}}}),e.append({name:"img",requiredMsg:"请选择图片",successMsg:"图片已提交"});var a={},s=!0,n=!1,i=void 0;try{for(var r,o=e.getAll()[Symbol.iterator]();!(s=(r=o.next()).done);s=!0){var l=r.value;a[l.name]=l}}catch(c){n=!0,i=c}finally{try{s||null==o.return||o.return()}finally{if(n)throw i}}return a.state=e.state,t.ns=a,e}var Ta=[{title:"企业图片"},{title:"荣誉证书"},{title:"业绩案例"},{title:"产品图片"}],Sa={components:{layout:tt,AutoForm:Le},data:function(){return{config:null,model:{},ns:null,isUpload:!1,img:""}},methods:{success:function(t){return!!this.v.verify()&&(t.status?alert(t.msg||"上传失败"):void alert(t.msg||"上传失败"))},uploadImg:function(t){console.log(t.target.files),this.isUpload=!0;var e=t.target.files[0],a="",s=new FileReader;s.readAsDataURL(e);var n=this;s.onload=function(){a=this.result.substring(this.result.indexOf(",")+1),n.model.img=n.img="data:image/png;base64,"+a}}},computed:{typeId:function(){return parseInt(this.$route.query.typeId)},title:function(){return Ta[this.typeId-1].title}},created:function(){this.v=za(this);var t=this;f.a.get("/h_v1/image/config",{params:{typeId:this.typeId}}).then((function(e){e&&e.data&&e.data.result&&(t.config=e.data.result)}))}},Ea=Sa,Fa=Object(m["a"])(Ea,Ma,Aa,!1,null,null,null),ja=Fa.exports,qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title clearfix"},[a("span",[t._v(t._s(this.title))]),a("router-link",{attrs:{to:{path:"add",query:{typeId:this.typeId}}}},[t._v("添加"+t._s(this.title))]),a("a",{staticClass:"active"},[t._v(t._s(this.title))])],1),a("ifNotNull",{attrs:{isNull:!(this.items&&this.items.length)}},[a("div",{staticClass:"main-message"},[a("div",{staticClass:"message-top"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){return t.selectAll(!0)}}},[t._v("全选")]),a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){return t.selectAll(!1)}}},[t._v("反选")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.delSelect()}}},[t._v("删除")])])]),a("div",{staticClass:"pic-list"},[a("ul",{staticClass:"clearfix row"},t._l(t.items,(function(e){return a("li",{key:e.ImagesID,class:e.select?"col-md-4 active":"col-md-4",on:{click:function(a){return t.click(e)}}},[a("div",{staticClass:"pic-list-li"},[a("p",{staticClass:"thumb"},[a("img",{attrs:{src:e.img}})]),a("h3",[t._v(t._s(e.PhotoName))]),a("dl",[a("a",{on:{click:function(a){return a.stopPropagation(),t.del(e.ImagesID)}}},[a("dt",[t._v("删除")])]),a("a",[a("dt",[t._v(t._s(e.statusText))])])])])])})),0),a("pager",{attrs:{model:this}})],1)])],1)])},Ua=[],Va=[{title:"企业图片"},{title:"荣誉证书"},{title:"业绩案例"},{title:"产品图片"}],Ba={components:{layout:tt,pager:ee,ifNotNull:oe},data:function(){return{page:1,size:9,total:0,items:[],error:""}},methods:{get:function(){var t=this,e=(this.$route.query||{}).page||1,a=this.page;f.a.get("/h_v1/image/pager",{params:{page:e,size:this.size,typeId:this.typeId}}).then((function(s){if(s=s.data,s.status)return alert(s.msg||"系统繁忙");if(t.page==a){if(t.page=e,s=s.result,s&&s.items){var n=!0,i=!1,r=void 0;try{for(var o,l=s.items[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var c=o.value;c.select=!1}}catch(m){i=!0,r=m}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}}for(var u in s)t[u]=s[u]}})).catch((function(t){window.console&&console.error(t)}))},del:function(t){if(confirm("确定删除？")){var e=this;f.a.post("/h_v1/image/delete",{id:t}).then((function(t){if(t=t.data,t.status)return alert(t.msg||"删除失败");alert(t.msg||"删除成功"),e.get()})).catch((function(t){alert(t)}))}},click:function(t){t.select=!t.select},selectAll:function(t){if(this.items){var e=!0,a=!1,s=void 0;try{for(var n,i=this.items[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var r=n.value;r.select=t||!r.select}}catch(o){a=!0,s=o}finally{try{e||null==i.return||i.return()}finally{if(a)throw s}}}},delSelect:function(){var t=[],e=!0,a=!1,s=void 0;try{for(var n,i=this.items[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var r=n.value;r.select&&t.push(r.ImagesID)}}catch(o){a=!0,s=o}finally{try{e||null==i.return||i.return()}finally{if(a)throw s}}t.length&&this.del(t.join(","))}},computed:{typeId:function(){return parseInt(this.$route.query.typeId)},title:function(){return Va[this.typeId-1].title}},created:function(){this.get()},watch:{$route:function(){this.get()}}},Oa=Ba,Ra=Object(m["a"])(Oa,qa,Ua,!1,null,null,null),La=Ra.exports,Wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-form"},[a("AutoForm",{attrs:{method:"post",enctype:"multipart/form-data",action:"/h_v1/image/add"},on:{success:t.success}},[a("ul",[a("li",{class:t.ns.name.classValue+" clearfix"},[a("label",[t._v("图片名称")]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.name,expression:"model.name"}],ref:"name",staticClass:"input form-control",attrs:{name:"name",autocomplete:"off",type:"text",maxlength:"256",placeholder:"请输入4到256字符的中文/数字/字母"},domProps:{value:t.model.name},on:{focus:function(e){return t.ns.name.select(1)},blur:function(e){return t.ns.name.select(0)},input:function(e){e.target.composing||t.$set(t.model,"name",e.target.value)}}})]),t.ns.name.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.name.msg))])]):t._e()]),a("li",{class:t.ns.img.classValue+" clearfix"},[a("label",[t._v("上传图片")]),a("p",{directives:[{name:"show",rawName:"v-show",value:t.model.img,expression:"model.img"}]},[a("img",{staticStyle:{"max-height":"200px"},attrs:{src:t.img&&t.model.img}})]),a("div",{staticClass:"mt10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.img,expression:"model.img"}],ref:"img",staticClass:"uploadfile",attrs:{type:"text",name:"img",id:"img"},domProps:{value:t.model.img},on:{focus:function(e){return t.ns.img.select(1)},blur:function(e){return t.ns.img.select(0)},input:function(e){e.target.composing||t.$set(t.model,"img",e.target.value)}}}),a("div",{staticClass:"upload",attrs:{id:"upload"}},[a("input",{staticClass:"uploadfile",attrs:{type:"file",name:"img",id:"img",accept:".jpg,.gif,.png,.bmp",multiple:"multiple"},on:{change:function(e){return t.uploadImg(e)}}})])]),a("div",{staticClass:"onshow"},[t._v('图片格式支持.jpg，.gif，.png，不超过500k 大约 "480×360px')]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.img.msg))])])]),a("li",{staticClass:"clearfix"},[a("label"),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"上传图片"}})])]),a("input",{attrs:{type:"hidden",name:"typeId"},domProps:{value:this.typeId}})]),a("div",{staticClass:"add-list"},[a("ul",{staticClass:"clearfix"},t._l(t.items,(function(e){return a("li",{key:e.ImagesID},[a("a",{staticClass:"thumb",on:{click:function(a){return t.select(e)}}},[a("img",{attrs:{src:e.img}})]),a("p",[t._v(t._s(e.PhotoName))]),a("p",[t._v(" ["),a("a",{on:{click:function(a){return t.select(e)}}},[t._v("选择")]),t._v("] ["),a("a",{on:{click:function(a){return t.del(e.ImagesID)}}},[t._v("删除")]),t._v("] ")])])})),0),a("pager",{attrs:{model:this},on:{click:this.get}})],1)],1)},Za=[];function Ja(t){var e=new kt({value:function(e){return t.model[e]},ref:function(e){return t.$refs[e]}});e.append({name:"name",successMsg:"图片名称输入正确!",verify:function(){if(this.value){if(this.value.length>256)return"超过256字符";if(!/^([ A-Za-z0-9\u4e00-\u9fa5]{4,}$)+$/i.test(this.value))return"请输入大于4个字符图片名称"}}}),e.append({name:"img",requiredMsg:"请选择图片",successMsg:"图片已提交"});var a={},s=!0,n=!1,i=void 0;try{for(var r,o=e.getAll()[Symbol.iterator]();!(s=(r=o.next()).done);s=!0){var l=r.value;a[l.name]=l}}catch(c){n=!0,i=c}finally{try{s||null==o.return||o.return()}finally{if(n)throw i}}return a.state=e.state,t.ns=a,e}var Qa={components:{pager:ee,AutoForm:Le},data:function(){return{page:1,size:16,total:0,items:[],model:{},ns:null,isUpload:!1,img:""}},props:["typeId"],methods:{get:function(t){var e=this,a=t||1,s=this.page,n={page:a,size:this.size,typeId:this.typeId};f.a.get("/h_v1/image/pager",{params:n}).then((function(t){if(t=t.data,t.status)return alert(t.msg||"系统繁忙");if(e.page==s)for(var n in e.page=a,t=t.result,t)e[n]=t[n]})).catch((function(t){window.console&&console.error(t)}))},select:function(t){this.$emit("select",t)},del:function(t){if(confirm("确定删除？")){var e=this;f.a.post("/h_v1/image/delete",{id:t}).then((function(t){if(t=t.data,t.status)return alert(t.msg||"删除失败");alert(t.msg||"删除成功"),e.get()})).catch((function(t){alert(t)}))}},success:function(t){return!!this.v.verify()&&(t.status?alert(t.msg||"上传失败"):(alert(t.msg||"上传失败"),void this.get()))},uploadImg:function(t){console.log(t.target.files),this.isUpload=!0;var e=t.target.files[0],a="",s=new FileReader;s.readAsDataURL(e);var n=this;s.onload=function(){a=this.result.substring(this.result.indexOf(",")+1),n.model.img=n.img="data:image/png;base64,"+a}}},created:function(){this.v=Ja(this),this.get()}},Ka=Qa,Ha=Object(m["a"])(Ka,Wa,Za,!1,null,null,null),Ga=Ha.exports,Ya=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title clearfix"},[a("span",[t._v("人才招聘")]),a("router-link",{attrs:{to:{path:"save"}}},[t._v("发布人才招聘")])],1),a("ifNotNull",{attrs:{isNull:!(this.items&&this.items.length),className:"main-message pay-list"}},[a("div",{staticClass:"main-tit"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"col-md-3"},[t._v("招聘岗位")]),a("div",{staticClass:"col-md-2"},[t._v("招聘部门")]),a("div",{staticClass:"col-md-2"},[t._v("招聘人数")]),a("div",{staticClass:"col-md-3"},[t._v("有效期")]),a("div",{staticClass:"col-md-2"},[t._v("操作")])])]),a("div",{staticClass:"main-body"},[a("ul",t._l(t.items,(function(e){return a("li",{key:e.InviteMessageID,staticClass:"clearfix"},[a("div",{staticClass:"col-md-3",attrs:{"data-label":"招聘岗位"}},[t._v(t._s(e.Job_Title))]),a("div",{staticClass:"col-md-2",attrs:{"data-label":"招聘部门"}},[t._v(t._s(e.InviteDept))]),a("div",{staticClass:"col-md-2",attrs:{"data-label":"招聘人数"}},[t._v(t._s(e.InviteNumber))]),a("div",{staticClass:"col-md-3",attrs:{"data-label":"有效期"}},[t._v(t._s(e.InviteDate))]),a("div",{staticClass:"col-md-2",attrs:{"data-label":"操作"}},[a("router-link",{attrs:{to:{path:"./save",query:{id:e.InviteMessageID}}}},[t._v("编辑")]),a("a",{on:{click:function(a){return t.del(e.InviteMessageID)}}},[t._v("删除")])],1)])})),0),a("pager",{attrs:{model:this}})],1)])],1)])},Xa=[],ts={components:{layout:tt,pager:ee,ifNotNull:oe},data:function(){return{page:1,size:10,total:0,items:[]}},methods:{get:function(){var t=this,e=(this.$route.query||{}).page||1,a=this.page;f.a.get("/h_v1/job/pager",{params:{page:e,size:this.size}}).then((function(s){if(s=s.data,s.status)return alert(s.msg||"系统繁忙");if(t.page==a)for(var n in t.page=e,s=s.result,s)t[n]=s[n]})).catch((function(t){window.console&&console.error(t)}))},del:function(t){if(confirm("确定删除?")){var e=this;f.a.post("/h_v1/job/delete",{id:t}).then((function(t){if(t=t.data,t.status)return alert(t.msg||"删除失败");alert(t.msg||"删除成功"),e.get()})).catch((function(t){alert(t)}))}}},created:function(){this.get(this.page)},watch:{$route:function(){this.get()}}},es=ts,as=Object(m["a"])(es,Ya,Xa,!1,null,null,null),ss=as.exports,ns=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title clearfix"},[a("span",[t._v("人才招聘")])]),a("div",{staticClass:"main-message"},[a("div",{staticClass:"add-form"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("ul",[a("li",{staticClass:"clearfix"},[a("label",[a("span",[t._v("*")]),t._v("招聘岗位")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Job_Title,expression:"model.Job_Title"}],staticClass:"input form-control",attrs:{type:"text",placeholder:"请输入招聘岗位"},domProps:{value:t.model.Job_Title},on:{input:function(e){e.target.composing||t.$set(t.model,"Job_Title",e.target.value)}}}),a("span",{staticStyle:{cursor:"pointer",color:"Blue"},on:{click:t.checkBadKeyWord}},[t._v("点击检测非法词")])]),a("li",{staticClass:"clearfix"},[a("label",[a("span",[t._v("*")]),t._v("招聘部门")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.InviteDept,expression:"model.InviteDept"}],staticClass:"input form-control",attrs:{type:"text",placeholder:"请输入招聘部门"},domProps:{value:t.model.InviteDept},on:{input:function(e){e.target.composing||t.$set(t.model,"InviteDept",e.target.value)}}})]),a("li",{staticClass:"clearfix"},[a("label",[a("span",[t._v("*")]),t._v(" 招聘人数")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.InviteNumber,expression:"model.InviteNumber"}],staticClass:"input form-control",attrs:{name:"companyName",type:"text",placeholder:"请输入招聘人数"},domProps:{value:t.model.InviteNumber},on:{input:function(e){e.target.composing||t.$set(t.model,"InviteNumber",e.target.value)}}})]),a("li",{staticClass:"clearfix"},[a("label",[a("span",[t._v("*")]),t._v("工作地点")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.ProvinID,expression:"model.ProvinID"}],staticClass:"form-control mr10 w12",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"ProvinID",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("请选择")]),t._l(t.pl,(function(e){return a("option",{key:e.code,domProps:{value:e.code}},[t._v(t._s(e.name))])}))],2),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.CityID,expression:"model.CityID"}],staticClass:"form-control mr10 w12",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"CityID",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("请选择")]),t._l(t.cl,(function(e){return a("option",{key:e.code,domProps:{value:e.code}},[t._v(t._s(e.name))])}))],2),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.townID,expression:"model.townID"}],staticClass:"form-control mr10 w12",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"townID",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("请选择")]),t._l(t.tl,(function(e){return a("option",{key:e.code,domProps:{value:e.code}},[t._v(t._s(e.name))])}))],2)]),a("li",{staticClass:"clearfix"},[a("label",[t._v("工作经验")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.WorkExper,expression:"model.WorkExper"}],staticClass:"input form-control",attrs:{name:"companyName",type:"text",placeholder:"请输入工作经验"},domProps:{value:t.model.WorkExper},on:{input:function(e){e.target.composing||t.$set(t.model,"WorkExper",e.target.value)}}})]),a("li",{staticClass:"clearfix"},[a("label",[t._v("学历要求")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Edu,expression:"model.Edu"}],staticClass:"input form-control",attrs:{name:"companyName",type:"text",placeholder:"请输入学历要求"},domProps:{value:t.model.Edu},on:{input:function(e){e.target.composing||t.$set(t.model,"Edu",e.target.value)}}})]),a("li",{staticClass:"clearfix"},[a("label",[t._v(" 性别要求")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.Gender,expression:"model.Gender"}],staticClass:"form-control mr10 w12",attrs:{name:"Gender",id:"Gender"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"Gender",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"不限"}},[t._v("不限")]),a("option",{attrs:{value:"男性"}},[t._v("男性")]),a("option",{attrs:{value:"女性"}},[t._v("女性")])])]),a("li",{staticClass:"clearfix"},[a("label",[t._v("年龄要求")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Age,expression:"model.Age"}],staticClass:"input form-control",attrs:{name:"companyName",type:"text",placeholder:"请输入年龄要求"},domProps:{value:t.model.Age},on:{input:function(e){e.target.composing||t.$set(t.model,"Age",e.target.value)}}})]),a("li",{staticClass:"clearfix"},[a("label",[a("span",[t._v("*")]),t._v("提供月薪")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Salary,expression:"model.Salary"}],staticClass:"input form-control",attrs:{name:"companyName",type:"text",placeholder:"请输入提供月薪"},domProps:{value:t.model.Salary},on:{input:function(e){e.target.composing||t.$set(t.model,"Salary",e.target.value)}}})]),a("li",{staticClass:"clearfix"},[a("label",[t._v("信息有效期")]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.InviteDate,expression:"model.InviteDate"}],staticClass:"input form-control",attrs:{name:"companyName",type:"text",placeholder:"请输入信息有效期"},domProps:{value:t.model.InviteDate},on:{input:function(e){e.target.composing||t.$set(t.model,"InviteDate",e.target.value)}}})])]),a("li",{staticClass:"clearfix"},[a("label",[a("span",[t._v("*")]),t._v("具体要求")]),a("p",{staticClass:"clearfix"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.model.Comments,expression:"model.Comments"}],staticClass:"form-control form-textarea",attrs:{id:"mark",rows:"20",name:"makr"},domProps:{value:t.model.Comments},on:{input:function(e){e.target.composing||t.$set(t.model,"Comments",e.target.value)}}})]),a("span",{staticStyle:{cursor:"pointer",color:"Blue"},on:{click:t.checkBadKeyWord}},[t._v("点击检测非法词")])]),a("li",{staticClass:"clearfix"},[a("label"),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit"}})])])])])])])])},is=[],rs={components:{layout:tt},inject:["context"],data:function(){return{model:{},area:[]}},methods:{checkBadKeyWord:function(){var t="";for(var e in this.model)this.model[e]&&(t+="\n"+this.model[e]);f.a.post("/h_v1/common/checkBadKeyWord",{word:t}).then((function(t){if(t=t.data,t.status)return alert(t.msg||"系统繁忙");alert(t.result?"存在非法关键字："+t.result:"检测通过")})).catch((function(t){alert(t)}))},submit:function(){return f.a.post("/h_v1/job/save",this.model).then((function(t){if(t=t.data,t.status)return alert(t.msg||"保存失败");alert(t.msg||"保存成功")})).catch((function(t){alert(t)})),!1},init:function(){var t=this,e=t.$route.query.id;e?f.a.get("/h_v1/job/get",{params:{id:e}}).then((function(e){if(e=e.data,e.status)return alert(e.msg||"系统繁忙");t.model=e.result||{}})).catch((function(t){alert(t)})):this.model={ProvinID:0,CityID:0,townID:0,Gender:"不限"}}},created:function(){this.init();var t=this;f.a.get("/h_v1/common/area").then((function(e){t.area=e.data}))},computed:{pl:function(){return this.area},cl:function(){var t=!0,e=!1,a=void 0;try{for(var s,n=this.area[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var i=s.value;if(i.code==this.model.ProvinID)return i.items||[]}}catch(r){e=!0,a=r}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}return[]},tl:function(){var t=!0,e=!1,a=void 0;try{for(var s,n=this.cl[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var i=s.value;if(i.code==this.model.CityID)return i.items||[]}}catch(r){e=!0,a=r}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}return[]}},watch:{"model.ProvinID":function(){parseInt(this.model.CityID/1e4)!=parseInt(this.model.ProvinID/1e4)&&(this.model.CityID=0)},"model.CityID":function(){parseInt(this.model.townID/100)!=parseInt(this.model.CityID/100)&&(this.model.townID=0)},$route:function(){this.init()}}},os=rs,ls=Object(m["a"])(os,ns,is,!1,null,null,null),cs=ls.exports,us=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title clearfix"},[a("span",[t._v("管理产品信息")]),a("router-link",{attrs:{to:{path:"save"}}},[t._v("发布产品信息")]),a("router-link",{class:"1"==this.islock?"active":"",attrs:{to:{path:"?islock=1"}}},[t._v("审核中")]),a("router-link",{class:"0"==this.islock?"active":"",attrs:{to:{path:"?islock=0"}}},[t._v("已审核")])],1),a("ifNotNull",{attrs:{isNull:!(this.items&&this.items.length),className:"main-message"}},[a("div",{staticClass:"message-top"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){return t.sel(!0)}}},[t._v("全选")]),a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){return t.sel(!1)}}},[t._v("反选")]),t.items&&t.items.filter((function(t){return t.selected})).length?[a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.del()}}},[t._v("删除")]),a("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:function(e){return t.refresh()}}},[t._v("刷新")])]:t._e()],2),a("div",{staticClass:"main-tit"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"col-md-1"},[t._v("选择")]),a("div",{staticClass:"col-md-2"},[t._v("图片")]),a("div",{staticClass:"col-md-3"},[t._v("名称")]),a("div",{staticClass:"col-md-2"},[t._v("时间")]),a("div",{staticClass:"col-md-2"},[t._v("状态")]),a("div",{staticClass:"col-md-2"},[t._v("操作")])])]),a("div",{staticClass:"main-body"},[a("ul",t._l(this.items||[],(function(e){return a("li",{key:e.ProductID,staticClass:"clearfix",attrs:{"data-id":e.ProductID}},[a("div",{staticClass:"col-md-1",attrs:{"data-label":"选择"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"v.selected"}],attrs:{name:"ProductID",type:"checkbox",id:"chkID"},domProps:{checked:Array.isArray(e.selected)?t._i(e.selected,null)>-1:e.selected},on:{change:function(a){var s=e.selected,n=a.target,i=!!n.checked;if(Array.isArray(s)){var r=null,o=t._i(s,r);n.checked?o<0&&t.$set(e,"selected",s.concat([r])):o>-1&&t.$set(e,"selected",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"selected",i)}}})]),a("div",{staticClass:"col-md-2",attrs:{"data-label":"图片"}},[a("img",{attrs:{src:e.img}})]),a("div",{staticClass:"col-md-3",attrs:{"data-label":"名称"}},[a("a",{attrs:{target:"_blank",href:e.url}},[t._v(t._s(e.ProductName))])]),a("div",{staticClass:"col-md-2",attrs:{"data-label":"时间"}},[t._v(t._s(t.dateFormat(e.udate||e.idate)))]),a("div",{staticClass:"col-md-2",attrs:{"data-label":"状态"}},[t._v(t._s(e.statusText))]),a("div",{staticClass:"col-md-2",attrs:{"data-label":"操作"}},[a("router-link",{staticClass:"i-btn e-btn",attrs:{to:{path:"save",query:{id:e.ProductID}}}},[t._v("编辑")]),a("a",{staticClass:"i-btn s-btn",on:{click:function(a){return t.refresh(e.ProductID)}}},[t._v("刷新")])],1)])})),0),a("pager",{attrs:{model:this}})],1)])],1)])},ms=[],ds={components:{layout:tt,pager:ee,ifNotNull:oe},data:function(){return{page:1,size:10,total:0,items:[]}},methods:{get:function(){var t=this,e=(this.$route.query||{}).page||1,a=this.page,s={page:e,size:this.size};this.islock&&(s.islock=this.islock),f.a.get("/h_v1/product/pager",{params:s}).then((function(s){if(s=s.data,s.status)return alert(s.msg||"系统繁忙");if(t.page==a){if(t.page=e,s=s.result,s.items){var n=!0,i=!1,r=void 0;try{for(var o,l=s.items[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var c=o.value;c.selected=!1}}catch(m){i=!0,r=m}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}}for(var u in s)t[u]=s[u]}})).catch((function(t){window.console&&console.error(t)}))},del:function(){var t=[],e=!0,a=!1,s=void 0;try{for(var n,i=this.items[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var r=n.value;r.selected&&t.push(r.ProductID)}}catch(c){a=!0,s=c}finally{try{e||null==i.return||i.return()}finally{if(a)throw s}}var o=t.join(",");if(o&&confirm("确定删除?")){var l=this;f.a.post("/h_v1/product/delete",{id:o}).then((function(t){if(t=t.data,t.status)return alert(t.msg||"删除失败");alert(t.msg||"删除成功"),l.get()})).catch((function(t){alert(t)}))}},refresh:function(t){if(!t){var e=[],a=!0,s=!1,n=void 0;try{for(var i,r=this.items[Symbol.iterator]();!(a=(i=r.next()).done);a=!0){var o=i.value;o.selected&&e.push(o.ProductID)}}catch(c){s=!0,n=c}finally{try{a||null==r.return||r.return()}finally{if(s)throw n}}if(t=e.join(","),!t)return}var l=this;f.a.post("/h_v1/product/refresh",{id:t}).then((function(t){if(t=t.data,t.status)return alert(t.msg||"刷新失败");alert(t.msg||"刷新成功"),l.get()})).catch((function(t){alert(t)}))},sel:function(t){if(this.items){var e=!0,a=!1,s=void 0;try{for(var n,i=this.items[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var r=n.value;r.selected=t||!r.selected}}catch(o){a=!0,s=o}finally{try{e||null==i.return||i.return()}finally{if(a)throw s}}}},dateFormat:function(t){return nt()("yyyy-MM-dd",nt.a.parse("yyyy-MM-dd",t))}},created:function(){this.get()},computed:{islock:function(){var t=this.$route.query;return null!=t?t.islock:null}},watch:{$route:function(){this.get()}}},vs=ds,ps=Object(m["a"])(vs,us,ms,!1,null,null,null),fs=ps.exports,hs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title clearfix"},[a("span",[t._v("发布产品")]),a("router-link",{staticClass:"active",attrs:{to:{path:"save"}}},[t._v("发布产品信息")]),a("router-link",{attrs:{to:{path:"list?islock=1"}}},[t._v("审核中")]),a("router-link",{attrs:{to:{path:"list?islock=0"}}},[t._v("已审核")])],1),a("div",{staticClass:"main-message"},[a("div",{staticClass:"add-form"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[this.config?a("div",{staticClass:"tip"},[a("p",[t._v("您的产品信息库中可显示("),a("strong",{staticStyle:{cursor:"pointer",color:"Blue"}},[t._v(t._s(t.config.allowPostCount))]),t._v(")条产品信息,当前您已存储了("),a("strong",{staticStyle:{cursor:"pointer",color:"Blue"}},[t._v(t._s(t.config.count))]),t._v(")条信息!")]),a("p",[t._v("您可以替换旧的产品信息或联系我们申请更高级的限制!")])]):t._e(),a("ul",[a("li",{class:t.ns.ProductName.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("产品名称")]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.ProductName,expression:"model.ProductName"}],ref:"ProductName",staticClass:"input form-control",attrs:{maxlength:"256",placeholder:"请输入4到256字符的中文/数字/字母",type:"text"},domProps:{value:t.model.ProductName},on:{focus:function(e){return t.ns.ProductName.select(1)},blur:function(e){return t.ns.ProductName.select(0)},input:function(e){e.target.composing||t.$set(t.model,"ProductName",e.target.value)}}})]),a("p",[a("span",{staticStyle:{cursor:"pointer",color:"Blue"},on:{click:t.checkBadKeyWord}},[t._v("检测非法词")])]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.ProductName.msg))])])]),a("li",{class:t.ns.MinOrderQuantity.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("最小订单量")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.MinOrderQuantity,expression:"model.MinOrderQuantity"}],ref:"MinOrderQuantity",staticClass:"input form-control",attrs:{type:"text",placeholder:"请输入2个字符以上中文/数字/字母"},domProps:{value:t.model.MinOrderQuantity},on:{focus:function(e){return t.ns.MinOrderQuantity.select(1)},blur:function(e){return t.ns.MinOrderQuantity.select(0)},input:function(e){e.target.composing||t.$set(t.model,"MinOrderQuantity",e.target.value)}}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.MinOrderQuantity.msg))])])]),a("li",{class:t.ns.SupplyLimit.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("供应能力")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.SupplyLimit,expression:"model.SupplyLimit"}],ref:"SupplyLimit",staticClass:"input form-control",attrs:{type:"text"},domProps:{value:t.model.SupplyLimit},on:{focus:function(e){return t.ns.SupplyLimit.select(1)},blur:function(e){return t.ns.SupplyLimit.select(0)},input:function(e){e.target.composing||t.$set(t.model,"SupplyLimit",e.target.value)}}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.SupplyLimit.msg))])])]),a("li",{class:t.ns.ProductType.classValue+" clearfix"},[a("label",[t._v("规格型号")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.ProductType,expression:"model.ProductType"}],ref:"ProductType",staticClass:"input form-control",attrs:{type:"text",placeholder:"规格型号如：800×800×20mm"},domProps:{value:t.model.ProductType},on:{focus:function(e){return t.ns.ProductType.select(1)},blur:function(e){return t.ns.ProductType.select(0)},input:function(e){e.target.composing||t.$set(t.model,"ProductType",e.target.value)}}}),t.ns.ProductType.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.ProductType.msg))])]):t._e()]),a("li",{class:t.ns.productUnit.classValue+" clearfix"},[a("label",[t._v("计量单位")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.productUnit,expression:"model.productUnit"}],ref:"productUnit",staticClass:"input form-control",attrs:{placeholder:"输入计量如：件",type:"text"},domProps:{value:t.model.productUnit},on:{focus:function(e){return t.ns.productUnit.select(1)},blur:function(e){return t.ns.productUnit.select(0)},input:function(e){e.target.composing||t.$set(t.model,"productUnit",e.target.value)}}}),t.ns.productUnit.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.productUnit.msg))])]):t._e()]),a("li",{class:t.ns.Carriage.classValue+" clearfix"},[a("label",[t._v("运费")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Carriage,expression:"model.Carriage"}],ref:"Carriage",staticClass:"input form-control",attrs:{type:"text"},domProps:{value:t.model.Carriage},on:{focus:function(e){return t.ns.Carriage.select(1)},blur:function(e){return t.ns.Carriage.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Carriage",e.target.value)}}}),t.ns.Carriage.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.Carriage.msg))])]):t._e()]),this.context.domain.key?t._e():a("li",{class:(t.ns.CategorizeID.classValue||t.ns.CategoryID.classValue)+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("所属系列")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.CategoryID,expression:"model.CategoryID"}],ref:"CategoryID",staticClass:"form-control mr10 w18",on:{focus:function(e){return t.ns.CategoryID.select(1)},blur:function(e){return t.ns.CategoryID.select(0)},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"CategoryID",e.target.multiple?a:a[0])}}},[t._v(" > "),a("option",{attrs:{value:"0"}},[t._v("请选择")]),t._l(t.categorys,(function(e){return a("option",{key:e.CategoryID,domProps:{value:e.CategoryID}},[t._v(t._s(e.CategoryName))])}))],2),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.CategorizeID,expression:"model.CategorizeID"}],ref:"CategorizeID",staticClass:"form-control w18",on:{focus:function(e){return t.ns.CategorizeID.select(1)},blur:function(e){return t.ns.CategorizeID.select(0)},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"CategorizeID",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("请选择")]),t._l(t.categorizes,(function(e){return a("option",{key:e.CategorizeID,domProps:{value:e.CategorizeID}},[t._v(t._s(e.CategorizeName))])}))],2),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.CategorizeID.msg||t.ns.CategoryID.msg))])])]),a("li",{class:(t.ns.ProvinceID.classValue||t.ns.CityID.classValue)+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("产品产地")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.ProvinceID,expression:"model.ProvinceID"}],ref:"ProvinceID",staticClass:"form-control mr10 w18",on:{focus:function(e){return t.ns.ProvinceID.select(1)},blur:function(e){return t.ns.ProvinceID.select(0)},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"ProvinceID",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("请选择")]),t._l(t.pl,(function(e){return a("option",{key:e.code,domProps:{value:e.code}},[t._v(t._s(e.name))])}))],2),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.CityID,expression:"model.CityID"}],ref:"CityID",staticClass:"form-control mr10 w18",on:{focus:function(e){return t.ns.CityID.select(1)},blur:function(e){return t.ns.CityID.select(0)},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"CityID",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("请选择")]),t._l(t.cl,(function(e){return a("option",{key:e.code,domProps:{value:e.code}},[t._v(t._s(e.name))])}))],2),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.ProvinceID.msg||t.ns.CityID.msg))])])]),a("li",{class:t.ns.ProductDescription.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("产品介绍")]),a("p",{staticClass:"clearfix"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.model.ProductDescription,expression:"model.ProductDescription"}],ref:"ProductDescription",staticClass:"form-control",attrs:{id:"mark",rows:"5",name:"makr"},domProps:{value:t.model.ProductDescription},on:{focus:function(e){return t.ns.ProductDescription.select(1)},blur:function(e){return t.ns.ProductDescription.select(0)},input:function(e){e.target.composing||t.$set(t.model,"ProductDescription",e.target.value)}}})]),a("p",[a("span",{staticStyle:{cursor:"pointer",color:"Blue"},on:{click:t.checkBadKeyWord}},[t._v("检测非法词")])]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.ProductDescription.msg))])])]),a("li",{class:t.ns.img.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("附加图片")]),t.model.img?a("p",[a("img",{attrs:{src:t.model.img}})]):t._e(),a("div",{staticClass:"mt10"},[a("div",{staticClass:"upload",attrs:{id:"upload"},on:{click:function(e){return t.selectPhoto(1)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.img,expression:"model.img"}],ref:"img",staticClass:"uploadfile",attrs:{type:"text",name:"img",id:"img"},domProps:{value:t.model.img},on:{focus:function(e){return t.ns.img.select(1)},blur:function(e){return t.ns.img.select(0)},input:function(e){e.target.composing||t.$set(t.model,"img",e.target.value)}}})])]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.img.msg))])])]),a("li",{staticClass:"clearfix"},[a("label"),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"保存产品"}})])])])])]),this.selPhoto?a("layer",{attrs:{slot:"footer",maxWidth:"900px",width:"80%"},on:{close:function(e){return t.selectPhoto(0)}},slot:"footer"},[a("photoSelect",{attrs:{typeId:"4"},on:{select:t.select}})],1):t._e()],1)])},_s=[];function gs(t){var e=new kt({value:function(e){return t.model[e]},ref:function(e){return t.$refs[e]}});e.append({name:"ProductName",requiredMsg:"请输入产品名称",successMsg:"产品名称输入正确!",verify:function(){return this.value.length<4?"请输入大于4个字符产品名称":this.value.length>256?"超过256字符":void 0}}),e.append({name:"MinOrderQuantity",requiredMsg:"请输入最小订单量",successMsg:"最小订单量输入正确!",verify:function(){if(!/^([ A-Za-z0-9\u4e00-\u9fa5]{2,}$)+$/i.test(this.value))return"请输入大于2个字符/中文/英文/数字"}}),e.append({name:"SupplyLimit",requiredMsg:"请输入供应能力",successMsg:"供应能力输入正确!",verify:function(){if(!/^([ A-Za-z0-9\u4e00-\u9fa5]{2,}$)+$/i.test(this.value))return"请输入大于2个字符/中文/英文/数字"}}),e.append({name:"ProductType",successMsg:"规格型号输入正确!"}),e.append({name:"productUnit",successMsg:"计量单位输入正确!",verify:function(){if(!/^([^`!@#$%^&*.<>])+$/.test(this.value))return"计量单位输入错误"}}),e.append({name:"Carriage",successMsg:"运费输入正确!",verify:function(){if(/[<>'"`&]/.test(this.value))return"不能含有特殊字符“<>'\"`&”"}}),t.context.domain.key||(e.append({name:"CategoryID",requiredMsg:"请选择所属系列!",successMsg:"已选择所属系列!",verify:function(){if(!parseInt(t.model.CategoryID)||!parseInt(t.model.CategorizeID))return"请选择所属系列"}}),e.append({name:"CategorizeID",requiredMsg:"请选择所属系列!",successMsg:"已选择所属系列!",verify:function(){if(!parseInt(t.model.CategoryID)||!parseInt(t.model.CategorizeID))return"请选择所属系列"}})),e.append({name:"ProvinceID",successMsg:"已选择所在城市!",verify:function(){if(!parseInt(t.model.ProvinceID)||!parseInt(t.model.CityID))return"请选择所在城市"}}),e.append({name:"CityID",successMsg:"已选择所在城市!",verify:function(){if(!parseInt(t.model.ProvinceID)||!parseInt(t.model.CityID))return"请选择所在城市"}}),e.append({name:"ProductDescription",requiredMsg:"请输入产品简介",successMsg:"产品简介输入正确!"}),e.append({name:"img",requiredMsg:"请选择图片",successMsg:"图片已提交"});var a={},s=!0,n=!1,i=void 0;try{for(var r,o=e.getAll()[Symbol.iterator]();!(s=(r=o.next()).done);s=!0){var l=r.value;a[l.name]=l}}catch(c){n=!0,i=c}finally{try{s||null==o.return||o.return()}finally{if(n)throw i}}return a.state=e.state,t.ns=a,e}function ys(t){t.model={ProvinceID:0,CityID:0,CategoryID:0,CategorizeID:0,ProductPhotoId:0,img:null},t.selectPhoto(0);var e=t.$route.query.id;e&&f.a.get("/h_v1/product/get",{params:{id:e}}).then((function(e){if(e=e.data,e.status)return alert(e.msg||"系统繁忙");e.result&&e.result.ProductDescription&&(e.result.ProductDescription=e.result.ProductDescription.replace(/<br\s*\/?>/gi,"\n")),t.model=e.result||{}})).catch((function(t){window.console&&console.error(t)})),f.a.get("/h_v1/common/area").then((function(e){t.area=e.data})),f.a.get("/h_v1/common/categorys",{params:{domainId:t.context.domain.id}}).then((function(e){e&&e.data&&e.data.result&&(e=e.data.result,e.items||(e.items=[]),t.categorys=e,t.updateCategorizes())})),f.a.get("/h_v1/product/config").then((function(a){a&&a.data&&a.data.result&&(t.config=a.data.result,e||t.config.areaCode&&(a=t.model,a||(a=t.model={}),a.ProvinceID||(a.CityID=t.config.areaCode,a.ProvinceID=1e4*parseInt(a.CityID/1e4))))}))}var Cs={inject:["context"],components:{layout:tt,layer:L,photoSelect:Ga},data:function(){return{model:null,ns:null,area:[],categorys:[],categorizes:[],config:null,selPhoto:0}},methods:{checkBadKeyWord:function(){var t="";for(var e in this.model)this.model[e]&&(t+="\n"+this.model[e]);f.a.post("/h_v1/common/checkBadKeyWord",{word:t}).then((function(t){if(t=t.data,t.status)return alert(t.msg||"系统繁忙");alert(t.result?"存在非法关键字："+t.result:"检测通过")})).catch((function(t){alert(t)}))},submit:function(){return!!this.v.verify()&&(f.a.post("/h_v1/product/save",this.model).then((function(t){if(t=t.data,t.status)return alert(t.msg||"保存失败");alert(t.msg||"保存成功")})).catch((function(t){alert(t)})),!1)},updateCategorizes:function(){var t=!0,e=!1,a=void 0;try{for(var s,n=this.categorys[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var i=s.value;if(i.CategoryID==this.model.CategoryID){if(i.items){this.categorizes=i.items;var r=!0,o=!1,l=void 0;try{for(var c,u=i.items[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var m=c.value;if(m.CategorizeID==this.model.CategorizeID)return}}catch(v){o=!0,l=v}finally{try{r||null==u.return||u.return()}finally{if(o)throw l}}return void(this.model.CategorizeID=0)}var d=this;return f.a.get("/h_v1/common/categorizes",{params:{CategoryID:this.model.CategoryID,domainId:d.context.domain.id}}).then((function(t){if(t&&t.data&&t.data.result){d.categorizes=i.items=t.data.result;var e=!0,a=!1,s=void 0;try{for(var n,r=i.items[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var o=n.value;if(o.CategorizeID==d.model.CategorizeID)return}}catch(v){a=!0,s=v}finally{try{e||null==r.return||r.return()}finally{if(a)throw s}}}d.model.CategorizeID=0}))}}}catch(v){e=!0,a=v}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}this.categorizes=[]},selectPhoto:function(t){this.selPhoto=t},select:function(t){this.model.ProductPhotoId=t.ImagesID,this.model.img=t.img,this.selectPhoto(!1)}},created:function(){this.v=gs(this),ys(this)},computed:{pl:function(){return this.area},cl:function(){var t=!0,e=!1,a=void 0;try{for(var s,n=this.area[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var i=s.value;if(i.code==this.model.ProvinceID)return i.items||[]}}catch(r){e=!0,a=r}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}return[]}},watch:{"model.ProvinceID":function(){parseInt(this.model.CityID/1e4)!=parseInt(this.model.ProvinceID/1e4)&&(this.model.CityID=0)},"model.CategoryID":function(){this.updateCategorizes()},$route:function(){ys(this)}}},xs=Cs,bs=Object(m["a"])(xs,hs,_s,!1,null,null,null),ws=bs.exports,Ps=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title clearfix"},[a("span",[t._v("管理供求信息")]),a("router-link",{attrs:{to:{path:"save"}}},[t._v("发布供求信息")]),a("router-link",{class:"1"==this.islock?"active":"",attrs:{to:{path:"?islock=1"}}},[t._v("审核中")]),a("router-link",{class:"0"==this.islock?"active":"",attrs:{to:{path:"?islock=0"}}},[t._v("已审核")])],1),a("ifNotNull",{attrs:{isNull:!(this.items&&this.items.length),className:"main-message"}},[a("div",{staticClass:"message-top"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){return t.sel(!0)}}},[t._v("全选")]),a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){return t.sel(!1)}}},[t._v("反选")]),t.items&&t.items.filter((function(t){return t.selected})).length?[a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.del()}}},[t._v("删除")]),a("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:function(e){return t.refresh()}}},[t._v("刷新")])]:t._e()],2),a("div",{staticClass:"main-tit"},[a("p",{staticClass:"clearfix"},[a("span",{staticClass:"col-md-1"},[t._v("选择")]),a("span",{staticClass:"col-md-2"},[t._v("图片")]),a("span",{staticClass:"col-md-3"},[t._v("名称")]),a("span",{staticClass:"col-md-2"},[t._v("时间")]),a("span",{staticClass:"col-md-2"},[t._v("状态")]),a("span",{staticClass:"col-md-2"},[t._v("操作")])])]),a("div",{staticClass:"main-body"},[a("ul",t._l(this.items||[],(function(e){return a("li",{key:e.TradeID,staticClass:"clearfix",attrs:{"data-id":e.TradeID}},[a("div",{staticClass:"col-md-1",attrs:{"data-label":"选择"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"v.selected"}],attrs:{name:"chkID",type:"checkbox"},domProps:{checked:Array.isArray(e.selected)?t._i(e.selected,null)>-1:e.selected},on:{change:function(a){var s=e.selected,n=a.target,i=!!n.checked;if(Array.isArray(s)){var r=null,o=t._i(s,r);n.checked?o<0&&t.$set(e,"selected",s.concat([r])):o>-1&&t.$set(e,"selected",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"selected",i)}}})]),a("div",{staticClass:"col-md-2",attrs:{"data-label":"图片"}},[a("img",{attrs:{src:e.img}})]),a("div",{staticClass:"col-md-3",attrs:{"data-label":"名称"}},[a("a",{attrs:{target:"_blank",href:e.url}},[t._v(t._s(e.Title))])]),a("div",{staticClass:"col-md-2",attrs:{"data-label":"时间"}},[t._v(t._s(t.dateFormat(e.udate||e.idate)))]),a("div",{staticClass:"col-md-2",attrs:{"data-label":"状态"}},[t._v(t._s(e.statusText))]),a("div",{staticClass:"col-md-2",attrs:{"data-label":"操作"}},[a("router-link",{staticClass:"i-btn e-btn",attrs:{to:{path:"save",query:{id:e.TradeID}}}},[t._v("编辑")]),a("a",{staticClass:"i-btn s-btn",on:{click:function(a){return t.refresh(e.TradeID)}}},[t._v("刷新")])],1)])})),0),a("pager",{attrs:{model:this}})],1)])],1)])},Is=[],ks={components:{layout:tt,pager:ee,ifNotNull:oe},data:function(){return{page:1,size:10,total:0,items:[]}},methods:{get:function(){var t,e,a,s,n,i,r,o,l,c,u,m;return regeneratorRuntime.async((function(d){while(1)switch(d.prev=d.next){case 0:return t=this,e=(this.$route.query||{}).page||1,a=this.page,s={page:e,size:this.size},this.islock&&(s.islock=this.islock),d.next=7,regeneratorRuntime.awrap(f.a.get("/h_v1/trade/pager",{params:s}));case 7:if(n=d.sent,n=n.data,!n.status){d.next=11;break}return d.abrupt("return",alert(n.msg||"系统繁忙"));case 11:if(t.page==a){d.next=13;break}return d.abrupt("return");case 13:if(t.page=e,n=n.result,!n.items){d.next=35;break}for(i=!0,r=!1,o=void 0,d.prev=19,l=n.items[Symbol.iterator]();!(i=(c=l.next()).done);i=!0)u=c.value,u.selected=!1;d.next=27;break;case 23:d.prev=23,d.t0=d["catch"](19),r=!0,o=d.t0;case 27:d.prev=27,d.prev=28,i||null==l.return||l.return();case 30:if(d.prev=30,!r){d.next=33;break}throw o;case 33:return d.finish(30);case 34:return d.finish(27);case 35:for(m in n)t[m]=n[m];case 36:case"end":return d.stop()}}),null,this,[[19,23,27,35],[28,,30,34]])},del:function(){var t,e,a,s,n,i,r,o,l,c;return regeneratorRuntime.async((function(u){while(1)switch(u.prev=u.next){case 0:for(t=[],e=!0,a=!1,s=void 0,u.prev=4,n=this.items[Symbol.iterator]();!(e=(i=n.next()).done);e=!0)r=i.value,r.selected&&t.push(r.TradeID);u.next=12;break;case 8:u.prev=8,u.t0=u["catch"](4),a=!0,s=u.t0;case 12:u.prev=12,u.prev=13,e||null==n.return||n.return();case 15:if(u.prev=15,!a){u.next=18;break}throw s;case 18:return u.finish(15);case 19:return u.finish(12);case 20:if(o=t.join(","),o){u.next=23;break}return u.abrupt("return");case 23:if(confirm("确定删除?")){u.next=25;break}return u.abrupt("return");case 25:return l=this,u.next=28,regeneratorRuntime.awrap(f.a.post("/h_v1/trade/delete",{id:o}));case 28:if(c=u.sent,c=c.data,!c.status){u.next=32;break}return u.abrupt("return",alert(c.msg||"删除失败"));case 32:return alert(c.msg||"删除成功"),u.next=35,regeneratorRuntime.awrap(l.get());case 35:case"end":return u.stop()}}),null,this,[[4,8,12,20],[13,,15,19]])},refresh:function(t){if(!t){var e=[],a=!0,s=!1,n=void 0;try{for(var i,r=this.items[Symbol.iterator]();!(a=(i=r.next()).done);a=!0){var o=i.value;o.selected&&e.push(o.TradeID)}}catch(c){s=!0,n=c}finally{try{a||null==r.return||r.return()}finally{if(s)throw n}}if(t=e.join(","),!t)return}var l=this;f.a.post("/h_v1/trade/refresh",{id:t}).then((function(t){if(t=t.data,t.status)return alert(t.msg||"刷新失败");alert(t.msg||"刷新成功"),l.get()})).catch((function(t){alert(t)}))},sel:function(t){if(this.items){var e=!0,a=!1,s=void 0;try{for(var n,i=this.items[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var r=n.value;r.selected=t||!r.selected}}catch(o){a=!0,s=o}finally{try{e||null==i.return||i.return()}finally{if(a)throw s}}}},dateFormat:function(t){return nt()("yyyy-MM-dd",nt.a.parse("yyyy-MM-dd",t))}},created:function(){this.get()},computed:{islock:function(){var t=this.$route.query;return null!=t?t.islock:null}},watch:{$route:function(){this.get()}}},Ns=ks,Ds=Object(m["a"])(Ns,Ps,Is,!1,null,null,null),$s=Ds.exports,Ms=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title clearfix"},[a("span",[t._v("发布供求信息")]),a("router-link",{staticClass:"active",attrs:{to:{path:"save"}}},[t._v("发布供求信息")]),a("router-link",{attrs:{to:{path:"list?islock=1"}}},[t._v("审核中")]),a("router-link",{attrs:{to:{path:"list?islock=0"}}},[t._v("已审核")])],1),a("div",{staticClass:"main-message"},[a("div",{staticClass:"add-form"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[this.config?a("div",{staticClass:"tip"},[a("p",[t._v("您的供求信息库中可显示("),a("strong",{staticStyle:{cursor:"pointer",color:"Blue"}},[t._v(t._s(t.config.allowPostCount))]),t._v(")条供求信息,当前您已存储了("),a("strong",{staticStyle:{cursor:"pointer",color:"Blue"}},[t._v(t._s(t.config.count))]),t._v(")条信息!")]),a("p",[t._v("您可以替换旧的供求信息或联系我们联系申请更高级的限制!")])]):t._e(),a("ul",[a("li",{staticClass:"clearfix"},[a("label",[a("span",[t._v("*")]),t._v("信息类别")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.TradeType,expression:"model.TradeType"}],staticClass:"form-control mr10 w12",attrs:{name:"tradetype",id:"tradetype"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"TradeType",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"1"}},[t._v("供应")]),a("option",{attrs:{value:"2"}},[t._v("求购")]),a("option",{attrs:{value:"3"}},[t._v("合作")]),a("option",{attrs:{value:"4"}},[t._v("代理")])])]),a("li",{class:t.ns.Title.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("标题")]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Title,expression:"model.Title"}],ref:"Title",staticClass:"input form-control",attrs:{type:"text",maxlength:"256",placeholder:"请输入4到256字符的中文/数字/字母"},domProps:{value:t.model.Title},on:{focus:function(e){return t.ns.Title.select(1)},blur:function(e){return t.ns.Title.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Title",e.target.value)}}})]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.Title.msg))])])]),a("li",{class:t.ns.TradeDescription.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("详细内容")]),a("p",{staticClass:"clearfix"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.model.TradeDescription,expression:"model.TradeDescription"}],ref:"TradeDescription",staticClass:"form-control",attrs:{rows:"5"},domProps:{value:t.model.TradeDescription},on:{focus:function(e){return t.ns.TradeDescription.select(1)},blur:function(e){return t.ns.TradeDescription.select(0)},input:function(e){e.target.composing||t.$set(t.model,"TradeDescription",e.target.value)}}})]),a("p",[a("span",{staticStyle:{cursor:"pointer",color:"Blue"},on:{click:t.checkBadKeyWord}},[t._v("检测非法词")])]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.TradeDescription.msg))])])]),a("li",{class:t.ns.img.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("附加图片")]),t.model.img?a("p",[a("img",{attrs:{src:t.model.img}})]):t._e(),a("div",{staticClass:"mt10"},[a("div",{staticClass:"upload",attrs:{id:"upload"},on:{click:function(e){return t.selectPhoto(1)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.img,expression:"model.img"}],ref:"img",staticClass:"uploadfile",attrs:{type:"text",name:"img",id:"img"},domProps:{value:t.model.img},on:{focus:function(e){return t.ns.img.select(1)},blur:function(e){return t.ns.img.select(0)},input:function(e){e.target.composing||t.$set(t.model,"img",e.target.value)}}})])]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.img.msg))])])]),a("li",{staticClass:"clearfix"},[a("label"),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"保存供求"}})])])])])]),this.selPhoto?a("layer",{attrs:{slot:"footer",maxWidth:"900px",width:"80%"},on:{close:function(e){return t.selectPhoto(0)}},slot:"footer"},[a("photoSelect",{attrs:{typeId:"4"},on:{select:t.select}})],1):t._e()],1)])},As=[];function zs(t){var e=new kt({value:function(e){return t.model[e]},ref:function(e){return t.$refs[e]}});e.append({name:"Title",requiredMsg:"请输入产品名称",successMsg:"产品名称输入正确!",verify:function(){if(this.value.length>256)return"超过256字符"}}),e.append({name:"TradeDescription",requiredMsg:"请输入详细内容",successMsg:"详细内容输入正确!"}),e.append({name:"img",requiredMsg:"请选择图片",successMsg:"图片已提交"});var a={},s=!0,n=!1,i=void 0;try{for(var r,o=e.getAll()[Symbol.iterator]();!(s=(r=o.next()).done);s=!0){var l=r.value;a[l.name]=l}}catch(c){n=!0,i=c}finally{try{s||null==o.return||o.return()}finally{if(n)throw i}}return a.state=e.state,t.ns=a,e}function Ts(t){t.model={TradePhotoId:0,img:null,TradeType:1},t.selectPhoto(0);var e=t.$route.query.id;e&&f.a.get("/h_v1/trade/get",{params:{id:e}}).then((function(e){if(e=e.data,e.status)return alert(e.msg||"系统繁忙");e.result&&e.result.TradeDescription&&(e.result.TradeDescription=e.result.TradeDescription.replace(/<br\s*\/?>/gi,"\n")),t.model=e.result||{}})).catch((function(t){window.console&&console.error(t)})),f.a.get("/h_v1/trade/config").then((function(e){e&&e.data&&e.data.result&&(t.config=e.data.result)}))}var Ss={components:{layout:tt,layer:L,photoSelect:Ga},data:function(){return{model:null,ns:null,config:null,selPhoto:0}},methods:{checkBadKeyWord:function(){var t="";for(var e in this.model)this.model[e]&&(t+="\n"+this.model[e]);f.a.post("/h_v1/common/checkBadKeyWord",{word:t}).then((function(t){if(t=t.data,t.status)return alert(t.msg||"系统繁忙");alert(t.result?"存在非法关键字："+t.result:"检测通过")})).catch((function(t){alert(t)}))},submit:function(){return!!this.v.verify()&&(f.a.post("/h_v1/trade/save",this.model).then((function(t){if(t=t.data,t.status)return alert(t.msg||"保存失败");alert(t.msg||"保存成功")})).catch((function(t){alert(t)})),!1)},selectPhoto:function(t){this.selPhoto=t},select:function(t){this.model.TradePhotoId=t.ImagesID,this.model.img=t.img,this.selectPhoto(!1)}},created:function(){this.v=zs(this),Ts(this)},watch:{$route:function(){Ts(this)}}},Es=Ss,Fs=Object(m["a"])(Es,Ms,As,!1,null,null,null),js=Fs.exports,qs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",{attrs:{authFilter:!1}},[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title clearfix"},[a("span",[t._v("公司信息")])]),a("div",{staticClass:"main-message"},[a("div",{staticClass:"add-form"},[this.model?a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("ul",[a("li",{staticClass:"clearfix"},[a("label",[a("span",[t._v("*")]),t._v("公司名称")]),t._v(t._s(t.model.CompanyName)+" ")]),a("li",{class:(t.ns.ProvinceID.classValue||t.ns.CityID.classValue)+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("所在地区")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.ProvinceID,expression:"model.ProvinceID"}],ref:"ProvinceID",staticClass:"form-control mr10 w12",on:{focus:function(e){return t.ns.ProvinceID.select(1)},blur:function(e){return t.ns.ProvinceID.select(0)},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"ProvinceID",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("请选择")]),t._l(t.pl,(function(e){return a("option",{key:e.code,domProps:{value:e.code}},[t._v(t._s(e.name))])}))],2),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.CityID,expression:"model.CityID"}],ref:"CityID",staticClass:"form-control mr10 w12",attrs:{id:"CityID",name:"CityID"},on:{focus:function(e){return t.ns.CityID.select(1)},blur:function(e){return t.ns.CityID.select(0)},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"CityID",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("请选择")]),t._l(t.cl,(function(e){return a("option",{key:e.code,domProps:{value:e.code}},[t._v(t._s(e.name))])}))],2),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.TownID,expression:"model.TownID"}],staticClass:"form-control mr10 w12",attrs:{name:"TownID"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"TownID",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("请选择")]),t._l(t.tl,(function(e){return a("option",{key:e.code,domProps:{value:e.code}},[t._v(t._s(e.name))])}))],2),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.ProvinceID.msg||t.ns.CityID.msg))])])]),this.context.domain.key?t._e():a("li",{class:(t.ns.CategorizeID.classValue||t.ns.CategoryID.classValue)+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v(" 企业类型")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.CategoryID,expression:"model.CategoryID"}],ref:"CategoryID",staticClass:"form-control mr10 w18",on:{focus:function(e){return t.ns.CategoryID.select(1)},blur:function(e){return t.ns.CategoryID.select(0)},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"CategoryID",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("请选择")]),t._l(t.categorys,(function(e){return a("option",{key:e.CategoryID,domProps:{value:e.CategoryID}},[t._v(t._s(e.CategoryName))])}))],2),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.CategorizeID,expression:"model.CategorizeID"}],ref:"CategorizeID",staticClass:"form-control w18",attrs:{name:"CategorizeID"},on:{focus:function(e){return t.ns.CategorizeID.select(1)},blur:function(e){return t.ns.CategorizeID.select(0)},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"CategorizeID",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("请选择")]),t._l(t.categorizes,(function(e){return a("option",{key:e.CategorizeID,domProps:{value:e.CategorizeID}},[t._v(t._s(e.CategorizeName))])}))],2),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.CategorizeID.msg||t.ns.CategoryID.msg))])])]),a("li",{staticClass:"clearfix"},[a("label",[t._v("企业性质")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.BusinessNature,expression:"model.BusinessNature"}],staticClass:"form-control mr10 w12",attrs:{name:"BusinessNature"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"BusinessNature",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("请选择")]),a("option",{attrs:{value:"国企"}},[t._v("国企")]),a("option",{attrs:{value:"集体"}},[t._v("集体")]),a("option",{attrs:{value:"股份"}},[t._v("股份")]),a("option",{attrs:{value:"外商独资"}},[t._v("外商独资")]),a("option",{attrs:{value:"中外合资"}},[t._v("中外合资")]),a("option",{attrs:{value:"国有体制"}},[t._v("国有体制")]),a("option",{attrs:{value:"私营"}},[t._v("私营")]),a("option",{attrs:{value:"不详"}},[t._v("不详")])])]),a("li",{staticClass:"clearfix"},[a("label",[t._v("经营模式")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.BusinessType,expression:"model.BusinessType"}],staticClass:"form-control mr10",attrs:{name:"BusinessType"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"BusinessType",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("请选择")]),a("option",{attrs:{value:"制造商"}},[t._v("制造商")]),a("option",{attrs:{value:"贸易商"}},[t._v("贸易商")]),a("option",{attrs:{value:"代理商"}},[t._v("代理商")]),a("option",{attrs:{value:"采购办事处"}},[t._v("采购办事处")]),a("option",{attrs:{value:"分销商/批发商"}},[t._v("分销商/批发商")]),a("option",{attrs:{value:"其他"}},[t._v("其他")])])]),a("li",{class:t.ns.LegalPerson.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("法人代表")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.LegalPerson,expression:"model.LegalPerson"}],ref:"LegalPerson",staticClass:"input form-control",attrs:{name:"LegalPerson",type:"text",autocomplete:"off",placeholder:"请输入法人代表"},domProps:{value:t.model.LegalPerson},on:{focus:function(e){return t.ns.LegalPerson.select(1)},blur:function(e){return t.ns.LegalPerson.select(0)},input:function(e){e.target.composing||t.$set(t.model,"LegalPerson",e.target.value)}}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.LegalPerson.msg))])])]),a("li",{staticClass:"clearfix"},[a("label",[t._v("员工人数")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.EmployNum,expression:"model.EmployNum"}],staticClass:"form-control mr10 w12",attrs:{id:"EmployNum",name:"EmployNum"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"EmployNum",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("请选择")]),a("option",{attrs:{value:"1"}},[t._v("5 人以下")]),a("option",{attrs:{value:"2"}},[t._v("5 - 10 人")]),a("option",{attrs:{value:"3"}},[t._v("11 - 50 人")]),a("option",{attrs:{value:"4"}},[t._v("51 - 100 人")]),a("option",{attrs:{value:"5"}},[t._v("101 - 500 人")]),a("option",{attrs:{value:"6"}},[t._v("501 - 1000 人")]),a("option",{attrs:{value:"7"}},[t._v("1000 人以上")])])]),a("li",{class:t.ns.Establishment.classValue+" clearfix"},[a("label",[t._v("成立年份")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Establishment,expression:"model.Establishment"}],ref:"Establishment",staticClass:"input form-control w12",attrs:{name:"companyName",type:"text",maxlength:"4",placeholder:"请输成立年份",autocomplete:"off"},domProps:{value:t.model.Establishment},on:{focus:function(e){return t.ns.Establishment.select(1)},blur:function(e){return t.ns.Establishment.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Establishment",e.target.value)}}}),t._v(" "),a("span",{staticClass:"t"},[t._v("年")]),t.ns.Establishment.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.Establishment.msg))])]):t._e()]),a("li",{staticClass:"clearfix"},[a("label",[t._v("年营业额")]),a("p",{staticClass:"clearfix"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.TurnOver,expression:"model.TurnOver"}],staticClass:"form-control mr10",attrs:{id:"TurnOver",name:"TurnOver"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"TurnOver",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("请选择")]),a("option",{attrs:{value:"1"}},[t._v("人民币 100 万元/年以下")]),a("option",{attrs:{value:"2"}},[t._v("人民币 100 万元/年 - 250万元/年")]),a("option",{attrs:{value:"3"}},[t._v("人民币 250 万元/年 - 500万元/年")]),a("option",{attrs:{value:"4"}},[t._v("人民币 500 万元/年 - 1000万元/年")]),a("option",{attrs:{value:"5"}},[t._v("人民币 1000 万元/年 - 5000万元/年")]),a("option",{attrs:{value:"6"}},[t._v("人民币 5000 万元/年 - 1 亿元/年")]),a("option",{attrs:{value:"7"}},[t._v("人民币 1 亿元/年以上")])])])]),a("li",{class:t.ns.MainProducts.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("主营产品")]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.MainProducts,expression:"model.MainProducts"}],ref:"MainProducts",staticClass:"input form-control",attrs:{name:"companyName",type:"text",placeholder:"请输入主营产品"},domProps:{value:t.model.MainProducts},on:{focus:function(e){return t.ns.MainProducts.select(1)},blur:function(e){return t.ns.MainProducts.select(0)},input:function(e){e.target.composing||t.$set(t.model,"MainProducts",e.target.value)}}})]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.MainProducts.msg))])])]),a("li",{class:t.ns.CompanyBrief.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("公司简介")]),a("p",{staticClass:"clearfix"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.model.CompanyBrief,expression:"model.CompanyBrief"}],ref:"CompanyBrief",staticClass:"form-control form-textarea",attrs:{rows:"5",name:"makr",placeholder:"请输入企业简介"},domProps:{value:t.model.CompanyBrief},on:{focus:function(e){return t.ns.CompanyBrief.select(1)},blur:function(e){return t.ns.CompanyBrief.select(0)},input:function(e){e.target.composing||t.$set(t.model,"CompanyBrief",e.target.value)}}})]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.CompanyBrief.msg))])])]),a("li",{staticClass:"clearfix"},[a("label",[t._v("管理认证")]),a("p",{staticClass:"clearfix manageCerts"},t._l(t.ManageCerts,(function(e,s){return a("label",{key:e.value},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.ManageCerts[s].checked,expression:"ManageCerts[i].checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.ManageCerts[s].checked)?t._i(t.ManageCerts[s].checked,null)>-1:t.ManageCerts[s].checked},on:{change:function(e){var a=t.ManageCerts[s].checked,n=e.target,i=!!n.checked;if(Array.isArray(a)){var r=null,o=t._i(a,r);n.checked?o<0&&t.$set(t.ManageCerts[s],"checked",a.concat([r])):o>-1&&t.$set(t.ManageCerts[s],"checked",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.ManageCerts[s],"checked",i)}}}),t._v(t._s(e.value))])})),0)]),a("li",{staticClass:"clearfix"},[a("label"),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"确定提交"}})])])]):t._e()])])])])},Us=[];a("1276");function Vs(t){var e=new kt({value:function(e){return t.model[e]},ref:function(e){return t.$refs[e]}});e.append({name:"ProvinceID",successMsg:"已选择所在城市!",verify:function(){if(!parseInt(t.model.ProvinceID)||!parseInt(t.model.CityID))return"请选择所在城市"}}),e.append({name:"CityID",successMsg:"已选择所在城市!",verify:function(){if(!parseInt(t.model.ProvinceID)||!parseInt(t.model.CityID))return"请选择所在城市"}}),t.context.domain.key||(e.append({name:"CategoryID",successMsg:"已选择企业类型!",verify:function(){if(!parseInt(t.model.CategoryID)||!parseInt(t.model.CategorizeID))return"请选择企业类型"}}),e.append({name:"CategorizeID",successMsg:"已选择企业类型!",verify:function(){if(!parseInt(t.model.CategoryID)||!parseInt(t.model.CategorizeID))return"请选择企业类型"}})),e.append({name:"LegalPerson",requiredMsg:"请输入公司法人",successMsg:"公司法人输入正确!",verify:function(){if(!/^([ A-Za-z\u4e00-\u9fa5]{2,}$)+$/i.test(this.value))return"请输入正确公司法人"}}),e.append({name:"Establishment",successMsg:"成立时间输入正确!",verify:function(){if(this.value&&!/^((19|20)\d{2})+$/g.test(this.value))return"时间格式输入错误"}}),e.append({name:"MainProducts",requiredMsg:"请输入主营产品",successMsg:"主营产品已输入!",verify:function(){if(this.value.length<2)return"请输入主营产品"}}),e.append({name:"CompanyBrief",requiredMsg:"请输入公司简介",successMsg:"公司简介已输入!",verify:function(){if(this.value.length<2)return"请输入公司简介"}});var a={},s=!0,n=!1,i=void 0;try{for(var r,o=e.getAll()[Symbol.iterator]();!(s=(r=o.next()).done);s=!0){var l=r.value;a[l.name]=l}}catch(c){n=!0,i=c}finally{try{s||null==o.return||o.return()}finally{if(n)throw i}}return a.state=e.state,t.ns=a,e}var Bs={components:{layout:tt},inject:["context"],data:function(){for(var t=["HACCP","ISO 9000/9001/9004/19011: 2000","QS-9000","ISO 14000/14001","ISO/TS 16949","SA8000","ISO 17799","OHASA 18001","TL9000","Others"],e=0;e<t.length;e++)t[e]={value:t[e],checked:!1};return{model:null,area:[],categorys:[],categorizes:[],ManageCerts:t,ns:null}},methods:{submit:function(){if(!this.v.verify())return!1;var t=[],e=!0,a=!1,s=void 0;try{for(var n,i=this.ManageCerts[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var r=n.value;r.checked&&t.push(r.value)}}catch(o){a=!0,s=o}finally{try{e||null==i.return||i.return()}finally{if(a)throw s}}return this.model.ManageCert=t.join(","),f.a.post("/h_v1/company/info_save",this.model).then((function(t){if(t=t.data,t.status)return alert(t.msg||"修改失败");alert(t.msg||"修改成功")})).catch((function(t){alert(t)})),!1},updateCategorizes:function(){if(this.model){var t=!0,e=!1,a=void 0;try{for(var s,n=this.categorys[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var i=s.value;if(i.CategoryID==this.model.CategoryID){if(i.items){this.categorizes=i.items;var r=!0,o=!1,l=void 0;try{for(var c,u=i.items[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var m=c.value;if(m.CategorizeID==this.model.CategorizeID)return}}catch(v){o=!0,l=v}finally{try{r||null==u.return||u.return()}finally{if(o)throw l}}return void(this.model.CategorizeID=0)}var d=this;return f.a.get("/h_v1/common/categorizes",{params:{CategoryID:this.model.CategoryID,domainId:d.context.domain.id}}).then((function(t){if(t&&t.data&&t.data.result){d.categorizes=i.items=t.data.result;var e=!0,a=!1,s=void 0;try{for(var n,r=i.items[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var o=n.value;if(o.CategorizeID==d.model.CategorizeID)return}}catch(v){a=!0,s=v}finally{try{e||null==r.return||r.return()}finally{if(a)throw s}}}d.model.CategorizeID=0}))}}}catch(v){e=!0,a=v}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}this.categorizes=[]}}},created:function(){this.v=Vs(this);var t=this;f.a.get("/h_v1/company/info").then((function(e){if(e=e.data,e.status)return alert(e.msg||"系统繁忙");if(t.model=e.result,t.model&&t.model.ManageCert){var a=!0,s=!1,n=void 0;try{for(var i,r=t.model.ManageCert.split(",")[Symbol.iterator]();!(a=(i=r.next()).done);a=!0){var o=i.value,l=!0,c=!1,u=void 0;try{for(var m,d=t.ManageCerts[Symbol.iterator]();!(l=(m=d.next()).done);l=!0){var v=m.value;if(v.value==o){v.checked=!0;break}}}catch(p){c=!0,u=p}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}}}catch(p){s=!0,n=p}finally{try{a||null==r.return||r.return()}finally{if(s)throw n}}}})).catch((function(t){alert(t)})),f.a.get("/h_v1/common/area").then((function(e){t.area=e.data})),f.a.get("/h_v1/common/categorys",{params:{domainId:t.context.domain.id}}).then((function(e){e&&e.data&&e.data.result&&(e=e.data.result,e.items||(e.items=[]),t.categorys=e,t.updateCategorizes())}))},computed:{pl:function(){return this.area},cl:function(){var t=!0,e=!1,a=void 0;try{for(var s,n=this.area[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var i=s.value;if(i.code==this.model.ProvinceID)return i.items||[]}}catch(r){e=!0,a=r}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}return[]},tl:function(){var t=!0,e=!1,a=void 0;try{for(var s,n=this.cl[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var i=s.value;if(i.code==this.model.CityID)return i.items||[]}}catch(r){e=!0,a=r}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}return[]}},beforeDestroy:function(){},watch:{"model.ProvinceID":function(){parseInt(this.model.CityID/1e4)!=parseInt(this.model.ProvinceID/1e4)&&(this.model.CityID=0)},"model.CityID":function(){parseInt(this.model.TownID/100)!=parseInt(this.model.CityID/100)&&(this.model.TownID=0)},"model.CategoryID":function(){this.updateCategorizes()}}},Os=Bs,Rs=Object(m["a"])(Os,qs,Us,!1,null,null,null),Ls=Rs.exports,Ws=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title"},[a("span",[t._v("上传Logo")])]),a("div",{staticClass:"main-message"},[a("div",{staticClass:"add-form"},[a("AutoForm",{attrs:{method:"post",action:"/h_v1/company/logo_upload",enctype:"multipart/form-data"},on:{success:t.success}},[a("ul",[a("li",{class:t.ns.name.classValue+" clearfix"},[a("label",[t._v("名称")]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.name,expression:"model.name"}],ref:"name",staticClass:"input form-control",attrs:{name:"name",type:"text",placeholder:"logo名称"},domProps:{value:t.model.name},on:{focus:function(e){return t.ns.name.select(1)},blur:function(e){return t.ns.name.select(0)},input:function(e){e.target.composing||t.$set(t.model,"name",e.target.value)}}})]),t.ns.name.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.name.msg))])]):t._e()]),a("li",{staticClass:"clearfix",staticStyle:{position:"relative"}},[a("label",[t._v("图片")]),a("p",[a("img",{staticStyle:{"max-width":"100%"},attrs:{id:"showimg",src:t.model&&t.model.img||this.context.user.Logo||this.context.styleUrl("images/noAvatar.png")}})]),a("div",{staticClass:"upload mt10",attrs:{id:"upload"}},[a("input",{staticClass:"uploadfile",attrs:{type:"file",name:"img",id:"img"}})]),a("div",{staticClass:"onshow"},[t._v('图片格式支持.jpg，.gif，.png，不超过500k 大约 "480×360px')]),t.model&&t.model.img?a("div",{staticClass:"infoCont"},[t.model.status?t._e():a("p",[a("span",{staticClass:"prom-blu rz-tip",attrs:{id:"cardno_tip"}},[t._v("审核中")])]),2==t.model.status?a("p",[a("span",{staticClass:"prom-err rz-tip",attrs:{id:"cardno_tip"}},[t._v(t._s(t.model.statusText||"审核失败"))])]):t._e()]):t._e()]),a("li",{staticClass:"clearfix"},[a("label"),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"上传图片"}})])])])],1)])])])},Zs=[];function Js(t){var e=new kt({value:function(e){return t.model[e]},ref:function(e){return t.$refs[e]}});e.append({name:"name",successMsg:"名称输入正确!",verify:function(){if(this.value&&/[<>'"`&]/.test(this.value))return"不能含有特殊字符“<>'\"`&”"}});var a={},s=!0,n=!1,i=void 0;try{for(var r,o=e.getAll()[Symbol.iterator]();!(s=(r=o.next()).done);s=!0){var l=r.value;a[l.name]=l}}catch(c){n=!0,i=c}finally{try{s||null==o.return||o.return()}finally{if(n)throw i}}return a.state=e.state,t.ns=a,e}var Qs={components:{layout:tt,AutoForm:Le},inject:["context"],data:function(){return{model:{},ns:null}},methods:{success:function(t){if(!this.v.verify())return!1;var e=this;if(t.status)return alert(t.msg||"提交失败");alert(t.msg||"提交成功"),this.init(),e.context.refreshUser()},init:function(){this.v=Js(this);var t=this;f.a.get("/h_v1/company/logo_state").then((function(e){e=e.data,e&&e.result&&(t.model=e.result)}))}},created:function(){this.init()}},Ks=Qs,Hs=Object(m["a"])(Ks,Ws,Zs,!1,null,null,null),Gs=Hs.exports,Ys=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",{attrs:{authFilter:!1}},[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title clearfix"},[a("span",[t._v("修改密码")])]),a("div",{staticClass:"main-message"},[a("div",{staticClass:"add-form"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("ul",[a("li",{class:t.ns.oldPwd.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("当前密码")]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPwd,expression:"oldPwd"}],ref:"oldPwd",staticClass:"input form-control",attrs:{name:"companyName",type:"password",autocomplete:"off",placeholder:"请输入长度大于等于6,包含字母、数字当前密码"},domProps:{value:t.oldPwd},on:{focus:function(e){return t.ns.oldPwd.select(1)},blur:function(e){return t.ns.oldPwd.select(0)},input:function(e){e.target.composing||(t.oldPwd=e.target.value)}}})]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.oldPwd.msg))])])]),a("li",{class:t.ns.newPwd.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("新密码")]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPwd,expression:"newPwd"}],ref:"newPwd",staticClass:"input form-control",attrs:{name:"companyName",autocomplete:"off",type:"password",placeholder:"请重新输入由6-20个英文字母和数字组成新密码"},domProps:{value:t.newPwd},on:{focus:function(e){return t.ns.newPwd.select(1)},blur:function(e){return t.ns.newPwd.select(0)},input:function(e){e.target.composing||(t.newPwd=e.target.value)}}})]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.newPwd.msg))])])]),a("li",{class:t.ns.newPwd2.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("确认新密码")]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPwd2,expression:"newPwd2"}],ref:"newPwd2",staticClass:"input form-control",attrs:{name:"companyName",autocomplete:"off",type:"password",placeholder:"再次输入由6-20个英文字母和数字组成新密码"},domProps:{value:t.newPwd2},on:{focus:function(e){return t.ns.newPwd2.select(1)},blur:function(e){return t.ns.newPwd2.select(0)},input:function(e){e.target.composing||(t.newPwd2=e.target.value)}}})]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.newPwd2.msg))])])]),a("li",{staticClass:"clearfix"},[a("label"),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"确定修改密码"}})])])])])])])])},Xs=[];function tn(t){var e=new kt({value:function(e){return t[e]},ref:function(e){return t.$refs[e]}});e.append({name:"oldPwd",requiredMsg:"请输入原密码",successMsg:"密码输入正确!"}),e.append({name:"newPwd",requiredMsg:"请输入新密码",successMsg:"验证码输入正确!"}),e.append({name:"newPwd2",requiredMsg:"请输入新密码",successMsg:"验证码输入正确!",verify:function(){if(this.value!=t.newPwd)return"确认密码不一致"}});var a={},s=!0,n=!1,i=void 0;try{for(var r,o=e.getAll()[Symbol.iterator]();!(s=(r=o.next()).done);s=!0){var l=r.value;a[l.name]=l}}catch(c){n=!0,i=c}finally{try{s||null==o.return||o.return()}finally{if(n)throw i}}return a.state=e.state,t.ns=a,e}var en={components:{layout:tt},inject:["context"],data:function(){return{ns:null,oldPwd:"",newPwd:"",newPwd2:""}},methods:{submit:function(){if(!this.v.verify())return!1;if(!this.oldPwd)return alert("请输入原始密码"),!1;if(!this.newPwd)return alert("请输入新密码"),!1;if(this.newPwd!=this.newPwd2)return alert("新密码与确认密码不一致"),!1;var t=this;return f.a.post("/h_v1/ucenter/changePassword",{oldPwd:this.oldPwd,newPwd:this.newPwd}).then((function(e){if(e=e.data,e.status)return alert(e.msg||"修改失败");t.context.user.token=e.result.token,alert(e.msg||"修改成功")})).catch((function(t){alert(t)})),!1}},created:function(){this.v=tn(this)}},an=en,sn=Object(m["a"])(an,Ys,Xs,!1,null,null,null),nn=sn.exports,rn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",{attrs:{authFilter:!1}},[a("div",{staticClass:"main-warp main-info"},[a("div",{staticClass:"main-title clearfix"},[a("span",[t._v("联系人信息")])]),a("div",{staticClass:"main-message"},[a("div",{staticClass:"add-form"},[this.model?a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("ul",[a("li",{staticClass:"clearfix"},[a("label",[a("span",[t._v("*")]),t._v("账号")]),a("p",{staticClass:"clearfix"},[t._v(t._s(t.model.UserName))])]),a("li",{class:t.ns.TrueName.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("真实姓名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.TrueName,expression:"model.TrueName"}],ref:"TrueName",staticClass:"input form-control",attrs:{name:"companyName",type:"text",placeholder:"请输入真实姓名"},domProps:{value:t.model.TrueName},on:{focus:function(e){return t.ns.TrueName.select(1)},blur:function(e){return t.ns.TrueName.select(0)},input:function(e){e.target.composing||t.$set(t.model,"TrueName",e.target.value)}}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.TrueName.msg))])])]),a("li",{class:t.ns.Sex.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("性别")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.Sex,expression:"model.Sex"}],ref:"Sex",staticClass:"form-control mr10 w12",attrs:{name:"sex",id:"sex"},on:{focus:function(e){return t.ns.Sex.select(1)},blur:function(e){return t.ns.Sex.select(0)},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"Sex",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("选择")]),a("option",{attrs:{value:"male"}},[t._v("男")]),a("option",{attrs:{value:"female"}},[t._v("女")])]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.Sex.msg))])])]),a("li",{staticClass:"clearfix"},[a("label",[t._v("部门名称")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Department,expression:"model.Department"}],staticClass:"input form-control",attrs:{name:"companyName",type:"text",placeholder:"请输入部门名称"},domProps:{value:t.model.Department},on:{input:function(e){e.target.composing||t.$set(t.model,"Department",e.target.value)}}})]),a("li",{staticClass:"clearfix"},[a("label",[t._v("职位名称")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.JobTitle,expression:"model.JobTitle"}],staticClass:"input form-control",attrs:{name:"companyName",type:"text",placeholder:"请输入职位名称"},domProps:{value:t.model.JobTitle},on:{input:function(e){e.target.composing||t.$set(t.model,"JobTitle",e.target.value)}}})]),a("li",{staticClass:"clearfix"},[a("label",[t._v("业务身份")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.BusinessRole,expression:"model.BusinessRole"}],staticClass:"form-control mr10 w12",attrs:{id:"BusinessRole",name:"BusinessRole"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"BusinessRole",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("请选择")]),a("option",{attrs:{value:"buyer"}},[t._v("买方")]),a("option",{attrs:{value:"seller"}},[t._v("卖方")]),a("option",{attrs:{value:"both"}},[t._v("两者都是")])])]),a("li",{class:t.ns.LinkMan.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("联系人")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.LinkMan,expression:"model.LinkMan"}],ref:"LinkMan",staticClass:"input form-control",attrs:{type:"text",placeholder:"请输入联系人"},domProps:{value:t.model.LinkMan},on:{focus:function(e){return t.ns.LinkMan.select(1)},blur:function(e){return t.ns.LinkMan.select(0)},input:function(e){e.target.composing||t.$set(t.model,"LinkMan",e.target.value)}}}),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.LinkMan.msg))])])]),a("li",{class:t.ns.WebSite.classValue+" clearfix"},[a("label",[t._v("网址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.WebSite,expression:"model.WebSite"}],ref:"WebSite",staticClass:"input form-control",attrs:{type:"url",placeholder:"请输入网址 如：http://"+t.model.UserName+"."+this.context.domain.host},domProps:{value:t.model.WebSite},on:{focus:function(e){return t.ns.WebSite.select(1)},blur:function(e){return t.ns.WebSite.select(0)},input:function(e){e.target.composing||t.$set(t.model,"WebSite",e.target.value)}}}),t.ns.WebSite.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.WebSite.msg))])]):t._e()]),a("li",{class:t.ns.Email.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("电子邮箱")]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Email,expression:"model.Email"}],ref:"Email",staticClass:"input form-control",attrs:{type:"text",placeholder:"请输入电子邮箱"},domProps:{value:t.model.Email},on:{focus:function(e){return t.ns.Email.select(1)},blur:function(e){return t.ns.Email.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Email",e.target.value)}}})]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.Email.msg))])])]),a("li",{class:t.ns.updater.classValue+" clearfix"},[a("label",[t._v("联系QQ")]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.updater,expression:"model.updater"}],ref:"updater",staticClass:"input form-control",attrs:{type:"text",placeholder:"请输入联系QQ"},domProps:{value:t.model.updater},on:{focus:function(e){return t.ns.updater.select(1)},blur:function(e){return t.ns.updater.select(0)},input:function(e){e.target.composing||t.$set(t.model,"updater",e.target.value)}}})]),t.ns.updater.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.updater.msg))])]):t._e()]),a("li",{class:t.ns.CollectUserName.classValue+" clearfix"},[a("label",[t._v("MSN")]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.CollectUserName,expression:"model.CollectUserName"}],ref:"CollectUserName",staticClass:"input form-control",attrs:{type:"text",placeholder:"请输入MSN 如：aaa@msn.com"},domProps:{value:t.model.CollectUserName},on:{focus:function(e){return t.ns.CollectUserName.select(1)},blur:function(e){return t.ns.CollectUserName.select(0)},input:function(e){e.target.composing||t.$set(t.model,"CollectUserName",e.target.value)}}})]),t.ns.CollectUserName.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.CollectUserName.msg))])]):t._e()]),a("li",{class:t.ns.creator.classValue+" clearfix"},[a("label",[t._v("400电话")]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.creator,expression:"model.creator"}],ref:"creator",staticClass:"input form-control",attrs:{type:"text",placeholder:"请输入400电话 如：400-703-2221"},domProps:{value:t.model.creator},on:{focus:function(e){return t.ns.creator.select(1)},blur:function(e){return t.ns.creator.select(0)},input:function(e){e.target.composing||t.$set(t.model,"creator",e.target.value)}}})]),t.ns.creator.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.creator.msg))])]):t._e()]),a("li",{class:(t.ns.Phone_Area.classValue||t.ns.Phone_Number.classValue)+" clearfix"},[a("label",[t._v("固定电话")]),a("p",{staticClass:"clearfix"},["checkbox"===(t.model.Phone_Country_set?"text":"hidden")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Phone_Country,expression:"model.Phone_Country"}],staticClass:"input form-control w12 mr10",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.model.Phone_Country)?t._i(t.model.Phone_Country,null)>-1:t.model.Phone_Country},on:{change:function(e){var a=t.model.Phone_Country,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&t.$set(t.model,"Phone_Country",a.concat([i])):r>-1&&t.$set(t.model,"Phone_Country",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.model,"Phone_Country",n)}}}):"radio"===(t.model.Phone_Country_set?"text":"hidden")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Phone_Country,expression:"model.Phone_Country"}],staticClass:"input form-control w12 mr10",attrs:{type:"radio"},domProps:{checked:t._q(t.model.Phone_Country,null)},on:{change:function(e){return t.$set(t.model,"Phone_Country",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Phone_Country,expression:"model.Phone_Country"}],staticClass:"input form-control w12 mr10",attrs:{type:t.model.Phone_Country_set?"text":"hidden"},domProps:{value:t.model.Phone_Country},on:{input:function(e){e.target.composing||t.$set(t.model,"Phone_Country",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Phone_Area,expression:"model.Phone_Area"}],ref:"Phone_Area",staticClass:"input form-control w12 mr10",attrs:{type:"text",maxlength:"8",placeholder:"3-4位区号"},domProps:{value:t.model.Phone_Area},on:{focus:function(e){return t.ns.Phone_Area.select(1)},blur:function(e){return t.ns.Phone_Area.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Phone_Area",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Phone_Number,expression:"model.Phone_Number"}],ref:"Phone_Number",staticClass:"input form-control w12",attrs:{type:"text",maxlength:"8",placeholder:"固定电话号码"},domProps:{value:t.model.Phone_Number},on:{focus:function(e){return t.ns.Phone_Number.select(1)},blur:function(e){return t.ns.Phone_Number.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Phone_Number",e.target.value)}}})]),t.ns.Phone_Area.msg||t.ns.Phone_Number.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.Phone_Area.msg||t.ns.Phone_Number.msg))])]):t._e()]),a("li",{class:(t.ns.Fax_Area.classValue||t.ns.Fax_Number.classValue)+" clearfix"},[a("label",[t._v("传真")]),a("p",{staticClass:"clearfix"},["checkbox"===(t.model.Fax_Country_set?"text":"hidden")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Fax_Country,expression:"model.Fax_Country"}],staticClass:"input form-control w12 mr10",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.model.Fax_Country)?t._i(t.model.Fax_Country,null)>-1:t.model.Fax_Country},on:{change:function(e){var a=t.model.Fax_Country,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&t.$set(t.model,"Fax_Country",a.concat([i])):r>-1&&t.$set(t.model,"Fax_Country",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.model,"Fax_Country",n)}}}):"radio"===(t.model.Fax_Country_set?"text":"hidden")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Fax_Country,expression:"model.Fax_Country"}],staticClass:"input form-control w12 mr10",attrs:{type:"radio"},domProps:{checked:t._q(t.model.Fax_Country,null)},on:{change:function(e){return t.$set(t.model,"Fax_Country",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Fax_Country,expression:"model.Fax_Country"}],staticClass:"input form-control w12 mr10",attrs:{type:t.model.Fax_Country_set?"text":"hidden"},domProps:{value:t.model.Fax_Country},on:{input:function(e){e.target.composing||t.$set(t.model,"Fax_Country",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Fax_Area,expression:"model.Fax_Area"}],ref:"Fax_Area",staticClass:"input form-control w12 mr10",attrs:{type:"text",maxlength:"7",placeholder:"3-4位区号"},domProps:{value:t.model.Fax_Area},on:{focus:function(e){return t.ns.Fax_Area.select(1)},blur:function(e){return t.ns.Fax_Area.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Fax_Area",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Fax_Number,expression:"model.Fax_Number"}],ref:"Fax_Number",staticClass:"input form-control w12",attrs:{type:"text",maxlength:"7",placeholder:"传真号码"},domProps:{value:t.model.Fax_Number},on:{focus:function(e){return t.ns.Fax_Number.select(1)},blur:function(e){return t.ns.Fax_Number.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Fax_Number",e.target.value)}}})]),t.ns.Fax_Area.msg||t.ns.Fax_Number.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.Fax_Area.msg||t.ns.Fax_Number.msg))])]):t._e()]),a("li",{class:t.ns.Mobile.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("移动手机")]),a("p",{staticClass:"clearfix"},[t.model.OpenVideo&&t.model.Mobile?a("span",[t._v(t._s(t.model.Mobile))]):a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Mobile,expression:"model.Mobile"}],ref:"Mobile",staticClass:"input form-control",attrs:{type:"text",maxlength:"11",placeholder:"请输入移动手机"},domProps:{value:t.model.Mobile},on:{focus:function(e){return t.ns.Mobile.select(1)},blur:function(e){return t.ns.Mobile.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Mobile",e.target.value)}}})]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.Mobile.msg))])])]),a("li",{class:t.ns.Contact_Address.classValue+" clearfix"},[a("label",[a("span",[t._v("*")]),t._v("详细地址")]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.Contact_Address,expression:"model.Contact_Address"}],ref:"Contact_Address",staticClass:"input form-control",attrs:{name:"companyName",type:"text",placeholder:"请输入详细地址"},domProps:{value:t.model.Contact_Address},on:{focus:function(e){return t.ns.Contact_Address.select(1)},blur:function(e){return t.ns.Contact_Address.select(0)},input:function(e){e.target.composing||t.$set(t.model,"Contact_Address",e.target.value)}}})]),a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.Contact_Address.msg))])])]),a("li",{class:t.ns.PostCode.classValue+" clearfix"},[a("label",[t._v("邮政编码")]),a("p",{staticClass:"clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.PostCode,expression:"model.PostCode"}],ref:"PostCode",staticClass:"input form-control",attrs:{name:"companyName",maxlength:"6",type:"text",placeholder:"请输入邮政编码"},domProps:{value:t.model.PostCode},on:{focus:function(e){return t.ns.PostCode.select(1)},blur:function(e){return t.ns.PostCode.select(0)},input:function(e){e.target.composing||t.$set(t.model,"PostCode",e.target.value)}}})]),t.ns.PostCode.msg?a("div",{staticClass:"tips"},[a("p",[t._v(t._s(t.ns.PostCode.msg))])]):t._e()]),a("li",{staticClass:"clearfix"},[a("label"),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"确定提交"}})])])]):t._e()])])])])},on=[];function ln(t){var e=new kt({value:function(e){return t.model[e]},ref:function(e){return t.$refs[e]}});e.append({name:"TrueName",requiredMsg:"请输入真实姓名",successMsg:"真实姓名输入正确!",verify:function(){if(!/^([ A-Za-z\u4e00-\u9fa5]{2,}$)+$/i.test(this.value))return"请输入真实姓名"}}),e.append({name:"Sex",requiredMsg:"请选择性别!",successMsg:"性别已选择"}),e.append({name:"LinkMan",requiredMsg:"请输入联系人",successMsg:"联系人输入正确!",verify:function(){if(!/^([ A-Za-z\u4e00-\u9fa5]{2,}$)+$/i.test(this.value))return"请输入联系人"}}),e.append({name:"WebSite",successMsg:"网址输入正确!",verify:function(){if(this.value&&!/^https?:\/\/[^\s]+$/i.test(this.value))return"网址格式错误如：http://".concat(t.model.UserName,".").concat(t.context.domain.host)}}),e.append({name:"Email",requiredMsg:"请输入电子邮箱!",successMsg:"电子邮箱输入正确!",verify:function(){if(!/^([a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$)+$/.test(this.value))return"电子邮箱格式错误"}}),e.append({name:"updater",successMsg:"QQ号码输入正确!",verify:function(){if(this.value&&!/^([1-9]([0-9]{5,11}))+$/.test(this.value))return"QQ号码格式错误"}}),e.append({name:"CollectUserName",successMsg:"MSN输入正确!",verify:function(){if(this.value&&!/^(\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*)+$/.test(this.value))return"MSN格式错误"}}),e.append({name:"PostCode",successMsg:"邮编输入正确!",verify:function(){if(this.value&&!/^(\d{6})+$/.test(this.value))return"邮编格式错误"}}),e.append({name:"creator",successMsg:"400电话输入正确!",verify:function(){if(this.value&&!/^(400[0-9]{7})+$/.test(this.value))return"400电话格式错误"}}),e.append({name:"Phone_Area",successMsg:"固定电话已输入!",verify:function(){var e=0;if(t.model.Phone_Area&&(e|=2),t.model.Phone_Number&&(e|=4),e){if(6==e){if(!/^(\d{3,8})+$/g.test(t.model.Phone_Area))return"请输入3-4位区号，如：0592";if(!/^(\d{7,8})+$/g.test(t.model.Phone_Number))return"请输入7-8电话号码"}return this.value&&!/^(\d{3,8})+$/g.test(t.model.Phone_Area)?"请输入3-4位区号，如：0592":void 0}}}),e.append({name:"Phone_Number",successMsg:"固定电话已输入!",verify:function(){var e=0;if(t.model.Phone_Area&&(e|=2),t.model.Phone_Number&&(e|=4),e){if(6==e){if(!/^(\d{3,})+$/g.test(t.model.Phone_Area))return"请输入3-4位区号，如：0592";if(!/^(\d{7,8})+$/g.test(t.model.Phone_Number))return"请输入7-8电话号码"}return this.value&&!/^(\d{7,8})+$/g.test(t.model.Phone_Number)?"请输入7-8电话号码":void 0}}}),e.append({name:"Fax_Area",successMsg:"传真已输入!",verify:function(){var e=0;if(t.model.Fax_Area&&(e|=2),t.model.Fax_Number&&(e|=4),e){if(6==e){if(!/^(\d{3,8})+$/g.test(t.model.Fax_Area))return"请输入3-4位区号，如：0592";if(!/^(\d{7,8})+$/g.test(t.model.Fax_Number))return"请输入7-8电话号码"}return this.value&&!/^(\d{3,8})+$/g.test(t.model.Fax_Area)?"请输入3-4位区号，如：0592":void 0}}}),e.append({name:"Fax_Number",successMsg:"传真已输入!",verify:function(){var e=0;if(t.model.Fax_Area&&(e|=2),t.model.Fax_Number&&(e|=4),e){if(6==e){if(!/^(\d{3,8})+$/g.test(t.model.Fax_Area))return"请输入3-4位区号，如：0592";if(!/^(\d{7,8})+$/g.test(t.model.Fax_Number))return"请输入7-8电话号码"}return this.value&&!/^(\d{7,8})+$/g.test(t.model.Fax_Number)?"请输入7-8电话号码":void 0}}}),e.append({name:"Mobile",requiredMsg:"请输入手机号码",successMsg:"手机号码输入正确!",verify:function(){if(!/^(0?(13|14|15|17|18|19)[0-9]{9})+$/.test(this.value))return"手机号码格式错误"}}),e.append({name:"Contact_Address",requiredMsg:"请输入详情地址",successMsg:"详情地址输入正确!",verify:function(){if(!/^(([\u4E00-\u9FA5A-Za-z0-9_]+(省|市|区|县|道|路|街|号)){1,}.*$)+$/.test(this.value))return"请输入详情地址"}});var a={},s=!0,n=!1,i=void 0;try{for(var r,o=e.getAll()[Symbol.iterator]();!(s=(r=o.next()).done);s=!0){var l=r.value;a[l.name]=l}}catch(c){n=!0,i=c}finally{try{s||null==o.return||o.return()}finally{if(n)throw i}}return a.state=e.state,t.ns=a,e}var cn={components:{layout:tt},inject:["context"],data:function(){return{model:null,ns:null}},methods:{submit:function(){return!!this.v.verify()&&(f.a.post("/h_v1/company/person_save",this.model).then((function(t){if(t=t.data,t.status)return alert(t.msg||"修改失败");alert(t.msg||"修改成功")})).catch((function(t){alert(t)})),!1)}},created:function(){this.v=ln(this);var t=this;f.a.get("/h_v1/company/person").then((function(e){if(e=e.data,e.status)return alert(e.msg||"系统繁忙");e.result&&e.result.Phone_Country&&(e.result.Phone_Country_set=1),e.result&&e.result.Fax_Country&&(e.result.Fax_Country_set=1),t.model=e.result})).catch((function(t){alert(t)}))}},un=cn,mn=Object(m["a"])(un,rn,on,!1,null,null,null),dn=mn.exports,vn=function(){var t={mode:"history",fallback:!1,routes:[{path:"/",component:pt},{path:"/getpassword",component:S},{path:"/index",component:lt,name:"index"},{path:"/login",component:pt,name:"login"},{path:"/pay",component:xt,name:"pay"},{path:"/reg",component:Ut,name:"reg"},{path:"/reg_set",component:Jt,name:"reg_set"},{path:"/reg_terms",component:zt},{path:"/template",component:me},{path:"/account/invoice",component:_e},{path:"/account/invoice_app",component:Pe},{path:"/account/pay",component:Me},{path:"/account/renewal",component:Fe},{path:"/auth/businesslicense",component:Ke},{path:"/auth/businesslicense_payment",component:aa},{path:"/auth/idcard",component:ca},{path:"/auth/mobile",component:ha},{path:"/auth/tip",component:H},{path:"/feedback/add",component:wa},{path:"/feedback/list",component:$a},{path:"/image/add",component:ja},{path:"/image/list",component:La},{path:"/image/select",component:Ga},{path:"/job/list",component:ss},{path:"/job/save",component:cs},{path:"/product/list",component:fs},{path:"/product/save",component:ws},{path:"/trade/list",component:$s},{path:"/trade/save",component:js},{path:"/ucenter/company",component:Ls},{path:"/ucenter/logo",component:Gs},{path:"/ucenter/password",component:nn},{path:"/ucenter/person",component:dn},{path:"/joinpay.html",redirect:function(t){return{path:"/pay",query:{keyId:t.query.key}}}},{path:"/joinfile.html",redirect:function(t){return{path:"/reg_set",query:{keyId:t.query.key}}}},{path:"/login.html",component:pt},{path:"/join.html",component:Ut},{path:"/getpassword.html",component:S},{path:"*",redirect:"/"}]},e=!0,a=!1,s=void 0;try{for(var n,i=t.routes[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var r=n.value;"login"==r.name?r.path="/":"reg"==r.name&&(r.path="join.html")}}catch(o){a=!0,s=o}finally{try{e||null==i.return||i.return()}finally{if(a)throw s}}return t}();i["a"].use(r["a"]),i["a"].config.productionTip=!1;var pn=function(){function t(e){Object(s["a"])(this,t),this._token=e.token||"12345678901234567890123456789012",this._referrer=e.referrer||document.referrer,this._ip=e.ip,this._domain=e.domain||{id:8853,name:"测试",host:"test"},this._user=e.user||{_____:1},this._styleUrl=e.styleUrl||"http://192.168.18.167:12593/view/public/",this._host=e.host||location.host,this._fromProxy=(this._host||"").toLowerCase()!=location.host.toLowerCase()&&!/:\d+$/.test(location.host)}return Object(n["a"])(t,[{key:"styleUrl",value:function(t){return this._styleUrl+t}},{key:"refreshUser",value:function(t,e){var a=this;f.a.get("/h_v1/ucenter/basicinfo").then((function(e){e&&e.data&&e.data.result?(e.data.result.token||(e.result.data.token=a._token),a._user=e.data.result):a._user=null,t&&t()})).catch((function(t){e&&e(t)}))}},{key:"ip",get:function(){return this._ip}},{key:"host",get:function(){return this._host}},{key:"fromProxy",get:function(){return this._fromProxy}},{key:"token",get:function(){return this._token},set:function(t){this._token=t}},{key:"referrer",get:function(){return this._referrer}},{key:"user",get:function(){return this._user},set:function(t){this._user=t}},{key:"invalidUser",get:function(){var t=this.user;return!t||t._____}},{key:"domain",get:function(){return this._domain}}]),t}(),fn=new pn(window.config||{});Object(h["setInterval"])((function(){fn.user&&fn.user.UserName&&fn.refreshUser()}),6e5);var hn=new r["a"](vn),_n=location.host.replace(/\.b2b\.biz$/i,"");function gn(t,e){if(e){var a=[];for(var s in e)a.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));a.length&&(t+="?"+a.join("&"))}return location=t}_n==location.host&&(_n=""),hn.beforeEach((function(t,e,a){if(_n&&t.name&&/^(reg|login)$/i.test(t.name)){var s="";switch(t.name){case"login":s="http://".concat(_n);break;case"reg":s="http://".concat(_n,"/join.html");break}if(s)return gn(s,t.query)}if(fn.fromProxy&&t.name&&/^(index|pay|reg_set)$/i.test(t.name))return gn("http://".concat(fn.host,"/").concat(t.name),t.query);a()}));var yn=new i["a"]({router:hn,render:function(t){return t(v)},provide:function(){return{context:fn}}});f.a.interceptors.request.use((function(t){return fn.fromProxy&&(t.withCredentials=!0,t.url&&t.url.match&&t.url.match(/^\/h_v1\//i)&&(t.url="http://".concat(fn.host).concat(t.url))),t}),(function(t){return Promise.reject(t)})),f.a.interceptors.response.use((function(t){var e=t.data;if(e){if(3==e.status)return yn.$router.push({name:"login"}),Promise.reject("请先登录");if(4==e.status)return e.result&&(e.result.needRenewal?yn.$router.push({path:"/account/renewal"}):e.result.needAuth?yn.$router.push({path:"/auth/idcard"}):e.result.needLicense&&yn.$router.push({path:"/auth/businesslicense"})),Promise.reject(e.msg||"您没有权限")}return t}),(function(t){return Promise.reject(t)})),yn.$mount("#app")},"5a4f":function(t,e,a){"use strict";var s=a("e047"),n=a.n(s);n.a},"5ba7":function(t,e,a){"use strict";var s=a("025f"),n=a.n(s);n.a},"5d0a":function(t,e,a){"use strict";var s=a("d808"),n=a.n(s);n.a},6247:function(t,e,a){},"6c9f":function(t,e,a){},7264:function(t,e,a){},7436:function(t,e,a){"use strict";var s=a("b6a9"),n=a.n(s);n.a},"7c0e":function(t,e,a){"use strict";var s=a("6c9f"),n=a.n(s);n.a},"9df6":function(t,e,a){"use strict";var s=a("4de9"),n=a.n(s);n.a},a299:function(t,e,a){},abd4:function(t,e,a){"use strict";var s=a("dbda"),n=a.n(s);n.a},b6a9:function(t,e,a){},c2ad:function(t,e,a){"use strict";var s=a("caff"),n=a.n(s);n.a},caff:function(t,e,a){},d808:function(t,e,a){},dbda:function(t,e,a){},dfe3:function(t,e,a){"use strict";var s=a("a299"),n=a.n(s);n.a},e047:function(t,e,a){}});
//# sourceMappingURL=app.76815976.js.map